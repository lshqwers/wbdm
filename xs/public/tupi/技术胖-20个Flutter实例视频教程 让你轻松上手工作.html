<!DOCTYPE html>
<!-- saved from url=(0040)https://jspang.com/detailed?id=45#toc275 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"><title>技术胖-20个Flutter实例视频教程  让你轻松上手工作</title><meta name="description" content="20个Flutter实例视频教程  让你轻松上手工作"><link rel="icon" href="https://jspang.com/static/favicon.ico" mce_href="../static/favicon.ico" type="image/x-icon"><meta name="next-head-count" content="5"><link rel="preload" href="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/detailed.js.下载" as="script"><link rel="preload" href="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/_app.js.下载" as="script"><link rel="preload" href="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/webpack-4b444dab214c6491079c.js.下载" as="script"><link rel="preload" href="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/commons.1998eae7902fdd1a553b.js.下载" as="script"><link rel="preload" href="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/styles.ced8d62e68907a5fab6e.js.下载" as="script"><link rel="preload" href="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/main-6e6e334c1a3c61df2d4f.js.下载" as="script"><link rel="stylesheet" href="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/commons.26d25dc4.chunk.css"><link rel="stylesheet" href="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/styles.ccb579fd.chunk.css"></head><body><div id="__next"><div class="header"><div class="header-center"><div class="ant-row-flex ant-row-flex-center"><div class="ant-col ant-col-xs-24 ant-col-sm-24 ant-col-md-13"><span class="header-logo"><a href="https://jspang.com/"> 技术胖</a></span><span class="header-txt">专注前端开发,每年100集免费视频。</span></div><div class="ant-col memu-div ant-col-xs-0 ant-col-sm-0 ant-col-md-11"><div class="ant-row-flex"><div class="ant-col ant-col-xs-0 ant-col-sm-0 ant-col-md-6"><a href="https://jspang.com/"><i aria-label="icon: home" class="anticon anticon-home"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="home" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 0 0-44.4 0L77.5 505a63.9 63.9 0 0 0-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0 0 18.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"></path></svg></i> 博客首页</a></div><div class="ant-col ant-col-xs-0 ant-col-sm-0 ant-col-md-6"><a href="https://jspang.com/list?id=1"><i aria-label="icon: youtube" class="anticon anticon-youtube"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="youtube" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M960 509.2c0-2.2 0-4.7-.1-7.6-.1-8.1-.3-17.2-.5-26.9-.8-27.9-2.2-55.7-4.4-81.9-3-36.1-7.4-66.2-13.4-88.8a139.52 139.52 0 0 0-98.3-98.5c-28.3-7.6-83.7-12.3-161.7-15.2-37.1-1.4-76.8-2.3-116.5-2.8-13.9-.2-26.8-.3-38.4-.4h-29.4c-11.6.1-24.5.2-38.4.4-39.7.5-79.4 1.4-116.5 2.8-78 3-133.5 7.7-161.7 15.2A139.35 139.35 0 0 0 82.4 304C76.3 326.6 72 356.7 69 392.8c-2.2 26.2-3.6 54-4.4 81.9-.3 9.7-.4 18.8-.5 26.9 0 2.9-.1 5.4-.1 7.6v5.6c0 2.2 0 4.7.1 7.6.1 8.1.3 17.2.5 26.9.8 27.9 2.2 55.7 4.4 81.9 3 36.1 7.4 66.2 13.4 88.8 12.8 47.9 50.4 85.7 98.3 98.5 28.2 7.6 83.7 12.3 161.7 15.2 37.1 1.4 76.8 2.3 116.5 2.8 13.9.2 26.8.3 38.4.4h29.4c11.6-.1 24.5-.2 38.4-.4 39.7-.5 79.4-1.4 116.5-2.8 78-3 133.5-7.7 161.7-15.2 47.9-12.8 85.5-50.5 98.3-98.5 6.1-22.6 10.4-52.7 13.4-88.8 2.2-26.2 3.6-54 4.4-81.9.3-9.7.4-18.8.5-26.9 0-2.9.1-5.4.1-7.6v-5.6zm-72 5.2c0 2.1 0 4.4-.1 7.1-.1 7.8-.3 16.4-.5 25.7-.7 26.6-2.1 53.2-4.2 77.9-2.7 32.2-6.5 58.6-11.2 76.3-6.2 23.1-24.4 41.4-47.4 47.5-21 5.6-73.9 10.1-145.8 12.8-36.4 1.4-75.6 2.3-114.7 2.8-13.7.2-26.4.3-37.8.3h-28.6l-37.8-.3c-39.1-.5-78.2-1.4-114.7-2.8-71.9-2.8-124.9-7.2-145.8-12.8-23-6.2-41.2-24.4-47.4-47.5-4.7-17.7-8.5-44.1-11.2-76.3-2.1-24.7-3.4-51.3-4.2-77.9-.3-9.3-.4-18-.5-25.7 0-2.7-.1-5.1-.1-7.1v-4.8c0-2.1 0-4.4.1-7.1.1-7.8.3-16.4.5-25.7.7-26.6 2.1-53.2 4.2-77.9 2.7-32.2 6.5-58.6 11.2-76.3 6.2-23.1 24.4-41.4 47.4-47.5 21-5.6 73.9-10.1 145.8-12.8 36.4-1.4 75.6-2.3 114.7-2.8 13.7-.2 26.4-.3 37.8-.3h28.6l37.8.3c39.1.5 78.2 1.4 114.7 2.8 71.9 2.8 124.9 7.2 145.8 12.8 23 6.2 41.2 24.4 47.4 47.5 4.7 17.7 8.5 44.1 11.2 76.3 2.1 24.7 3.4 51.3 4.2 77.9.3 9.3.4 18 .5 25.7 0 2.7.1 5.1.1 7.1v4.8zM423 646l232-135-232-133z"></path></svg></i> 视频教程</a></div><div class="ant-col ant-col-xs-0 ant-col-sm-0 ant-col-md-6"><a href="https://jspang.com/bibidao"><i aria-label="icon: message" class="anticon anticon-message"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="message" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M464 512a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm200 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm-400 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 0 0-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 0 0-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 0 0 112 714v152a46 46 0 0 0 46 46h152.1A449.4 449.4 0 0 0 510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 0 0 142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"></path></svg></i> 逼逼叨</a></div></div></div></div></div></div><div class="ant-row-flex ant-row-flex-center comm-main"><div class="ant-col comm-left ant-col-xs-24 ant-col-sm-24 ant-col-md-18"><div><div class="bread-div"><div class="ant-breadcrumb"><span><span class="ant-breadcrumb-link"><a href="https://jspang.com/">首页</a></span><span class="ant-breadcrumb-separator">/</span></span><span><span class="ant-breadcrumb-link">视频教程</span><span class="ant-breadcrumb-separator">/</span></span><span><span class="ant-breadcrumb-link"> <!-- -->20个Flutter实例视频教程  让你轻松上手工作</span><span class="ant-breadcrumb-separator">/</span></span></div></div><div><div class="detailed-title">20个Flutter实例视频教程  让你轻松上手工作</div><div class="list-icon center"><span><i aria-label="icon: calendar" class="anticon anticon-calendar"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="calendar" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"></path></svg></i> <!-- -->2019-12-04</span><span><i aria-label="icon: folder" class="anticon anticon-folder"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="folder" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M880 298.4H521L403.7 186.2a8.15 8.15 0 0 0-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"></path></svg></i> <!-- -->视频教程</span><span><i aria-label="icon: fire" class="anticon anticon-fire"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="fire" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M834.1 469.2A347.49 347.49 0 0 0 751.2 354l-29.1-26.7a8.09 8.09 0 0 0-13 3.3l-13 37.3c-8.1 23.4-23 47.3-44.1 70.8-1.4 1.5-3 1.9-4.1 2-1.1.1-2.8-.1-4.3-1.5-1.4-1.2-2.1-3-2-4.8 3.7-60.2-14.3-128.1-53.7-202C555.3 171 510 123.1 453.4 89.7l-41.3-24.3c-5.4-3.2-12.3 1-12 7.3l2.2 48c1.5 32.8-2.3 61.8-11.3 85.9-11 29.5-26.8 56.9-47 81.5a295.64 295.64 0 0 1-47.5 46.1 352.6 352.6 0 0 0-100.3 121.5A347.75 347.75 0 0 0 160 610c0 47.2 9.3 92.9 27.7 136a349.4 349.4 0 0 0 75.5 110.9c32.4 32 70 57.2 111.9 74.7C418.5 949.8 464.5 959 512 959s93.5-9.2 136.9-27.3A348.6 348.6 0 0 0 760.8 857c32.4-32 57.8-69.4 75.5-110.9a344.2 344.2 0 0 0 27.7-136c0-48.8-10-96.2-29.9-140.9zM713 808.5c-53.7 53.2-125 82.4-201 82.4s-147.3-29.2-201-82.4c-53.5-53.1-83-123.5-83-198.4 0-43.5 9.8-85.2 29.1-124 18.8-37.9 46.8-71.8 80.8-97.9a349.6 349.6 0 0 0 58.6-56.8c25-30.5 44.6-64.5 58.2-101a240 240 0 0 0 12.1-46.5c24.1 22.2 44.3 49 61.2 80.4 33.4 62.6 48.8 118.3 45.8 165.7a74.01 74.01 0 0 0 24.4 59.8 73.36 73.36 0 0 0 53.4 18.8c19.7-1 37.8-9.7 51-24.4 13.3-14.9 24.8-30.1 34.4-45.6 14 17.9 25.7 37.4 35 58.4 15.9 35.8 24 73.9 24 113.1 0 74.9-29.5 145.4-83 198.4z"></path></svg></i> <!-- -->12326</span><span><i aria-label="icon: file-ppt" class="anticon anticon-file-ppt"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="file-ppt" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M424 476c-4.4 0-8 3.6-8 8v276c0 4.4 3.6 8 8 8h32.5c4.4 0 8-3.6 8-8v-95.5h63.3c59.4 0 96.2-38.9 96.2-94.1 0-54.5-36.3-94.3-96-94.3H424zm150.6 94.3c0 43.4-26.5 54.3-71.2 54.3h-38.9V516.2h56.2c33.8 0 53.9 19.7 53.9 54.1zm280-281.7L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0 0 42 42h216v494z"></path></svg></i> 共<!-- -->20<!-- -->集</span></div><div class="detailed-content"><p>这篇文章是Flutter基础的一个进阶教程，主要讲解的是在工作中一些常用的功能。学完这篇文章和视频，你可以轻松制作出80%以上工作中常用的Flutter复杂效果，对Flutter有更深刻的了解。</p>
<p><strong>本文是实战和基础的一个衔接总结。</strong> 在学完基础后，很多小伙伴都急于上手一个实战项目，觉的做完实战项目就算学会了Flutter，达到了工作水平一样。其实在实战和基础之间还需要有一个过度，人们喜欢称之为进阶。那这篇文章或者说视频就是进阶教程，它会以小实例的方式进行讲解。实例也会达到20个以上，每个小实例就是一个小的实战。</p>
<p>** 学习这篇文章最重要的是，你必须在看完视频后动手练习，否则很难学会。**</p>
</div><div class="detailed-content"><a id="toc21" href="https://jspang.com/detailed?id=45#toc21" class="anchor-fix"><h2>前置知识和说明</h2></a>
<p><strong>特别说明</strong></p>
<p>最重要的放在最前面，这些实例有些是我原创的代码，有些是在Github上找到的，都是开源的，所以我和你都可以放心大胆的使用。（我不创造知识，我只是知识的搬运工。创造知识是尤大神和Google这样的人或公司才能做到的 ，我的级别还不行。我的目的就是减轻你的学习成本。）</p>
<p>视频的目的是为了节约大家的学习成本，让大家简单快速的学会知识。视频中的任何一段代码我都有详细的讲解，但是我觉既然是一个进阶教程，不光要学习零散的知识点，最重要的是理解Flutter的开发模式、习惯和一些面向对象方法。</p>
<p>那在学习这篇文章之前，你应该先学习一下基础知识，至少把下面这四篇文章，共25集视频，先看一边，作一下练习。(这些视频是完全免费的，大家直接可以在博客上收看)。</p>
<ul>
<li><p>第一季Flutter视频教程地址：<a href="https://jspang.com/posts/2019/01/20/flutter-base.html">https://jspang.com/posts/2019/01/20/flutter-base.html</a></p>
</li>
<li><p>第二季Flutter视频教程地址：<a href="https://jspang.com/posts/2019/01/21/flutter-base2.html">https://jspang.com/posts/2019/01/21/flutter-base2.html</a></p>
</li>
<li><p>第三季Flutter视频教程地址：<a href="https://jspang.com/posts/2019/01/28/flutter-base3.html">https://jspang.com/posts/2019/01/28/flutter-base3.html</a></p>
</li>
<li><p>第四季Flutter视频教程地址：<a href="https://jspang.com/posts/2019/02/01/flutter-base4.html">https://jspang.com/posts/2019/02/01/flutter-base4.html</a></p>
</li>
</ul>
<a id="toc22" href="https://jspang.com/detailed?id=45#toc22" class="anchor-fix"><h2>QQ群和微信群</h2></a>
<p>*<em>QQ群806799257 *</em></p>
<blockquote>
<p>学习讨论QQ群：806799257 </p>
</blockquote>
<blockquote>
<p>入群问题：Flutter出自于哪个公司？</p>
</blockquote>
<blockquote>
<p>入群答案：google</p>
</blockquote>
<p><strong>微信群：</strong></p>
<p>其实我微信群上的还是比较多的，QQ群则少很多，小伙伴们可以加我微信群。</p>
<p>先扫码添加我微信好友，备注我要进群，我每天会在中午把你们邀请进群。</p>
<p>为方便小伙伴学习，微信群里提供文章的高清视频下载。</p>
<p><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/_g3UOTjGLvyYE-l0YMS6t-0E.jpg" alt="alt"></p>
<a id="toc23" href="https://jspang.com/detailed?id=45#toc23" class="anchor-fix"><h2>案例效果查看</h2></a>
<table>
    <tbody><tr>
        <td><center><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo01.gif"></center></td>
        <td><center><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo02.gif"></center></td>
        <td><center><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo03.gif"></center></td>
    </tr>


 <tr>
        <td><center><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo04.gif"></center></td>
        <td><center><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo05.gif"></center></td>
        <td><center><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo06.gif"></center></td>
    </tr>

 <tr>
        <td><center><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo07.png"></center></td>
        <td><center><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo08.gif"></center></td>
        <td><center><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo09.gif"></center></td>
    </tr>

 <tr>
        <td><center><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo10.gif"></center></td>
        <td><center><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo11.gif"></center></td>
        <td><center><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo12.gif"></center></td>
    </tr>
 <tr>
        <td><center><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo13.png"></center></td>
        <td><center><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo14.png"></center></td>
        <td><center><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo15.gif"></center></td>
    </tr>
<tr>
        <td><center><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo16.gif"></center></td>
        <td><center><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo17.gif"></center></td>
        <td><center><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo18.gif"></center></td>
    </tr>
</tbody></table>



<a id="toc24" href="https://jspang.com/detailed?id=45#toc24" class="anchor-fix"><h2>第01节: 底部导航栏制作-1</h2></a>
<p>工作中最简单的一个APP也要具备一个功能，就是底部导航栏，你很难找出没有底部导航栏的应用。这么刚需的功能，那就从这里入手开始学习吧。</p>
<iframe src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/player.html" scrolling="no" border="1" width="100%" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>

<p><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo01.gif" alt="http://blogimages.jspang.com/FlutterDemo01.gif"></p>
<a id="toc35" href="https://jspang.com/detailed?id=45#toc35" class="anchor-fix"><h3>主入口文件的编写</h3></a>
<p>首先我们先写一个主入口文件，这个文件只是简单的APP通用结构，最主要的是要引入自定义的<code>BottomNavigationWidget</code>组件。</p>
<p>main.dart代码如下(视频中会进行详细讲解)</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';
<span class="hljs-keyword">import</span> <span class="hljs-symbol">'bottom_navigation_widget</span>.dart';

void main()=&gt; runApp(<span class="hljs-keyword">new</span> <span class="hljs-type">MyApp</span>());

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">MaterialApp</span>(
      title:<span class="hljs-symbol">'Flutter</span> bottomNavigationBar',
      theme:<span class="hljs-type">ThemeData</span>.light(),
      home:<span class="hljs-type">BottomNavigationWidget</span>()
    );
  }.
}</code></pre><p>注意的是<code>BottomNaivgationWidget</code>这个组件还没有编写，所以现在会报错。</p>
<a id="toc36" href="https://jspang.com/detailed?id=45#toc36" class="anchor-fix"><h3>StatefulWidget 讲解</h3></a>
<p>在编写<code>BottomNaivgationWidget</code>组件前，我们需要简单了解一下什么是<code>StatefulWidget</code>.</p>
<p><code>StatefulWidget</code>具有可变状态(state)的窗口组件（widget）。使用这个要根据变化状态，调整State值。</p>
<p>在lib目录下，新建一个<code>bottom_navigation_widget.dart</code>文件。</p>
<p>它的初始化和以前使用的<code>StatelessWidget</code>不同，我们在VSCode中直接使用快捷方式生成代码（直接在VSCode中输入stful）：</p>
<pre><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">name</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  _nameState createState() =&gt; _nameState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_nameState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State&lt;name&gt;</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">Container</span>(
       child: child,
    );
  }
}</code></pre><p>上面的代码可以清楚的看到，使用<code>StatefulWidget</code>分为两个部分，第一个部分是继承与<code>StatefullWidget</code>，第二个部分是继承于<code>State</code>.其实<code>State</code>部分才是我们的重点，主要的代码都会写在<code>State</code>中。</p>
<a id="toc37" href="https://jspang.com/detailed?id=45#toc37" class="anchor-fix"><h3>BottomNaivgationWidget自定义</h3></a>
<p>接下来我们就要创建<code>BottomNaivgationWidget</code>这个Widget了，只是建立一个底部导航。</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BottomNavigationWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  _BottomNavigationWidgetState createState() =&gt; _BottomNavigationWidgetState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_BottomNavigationWidgetState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State&lt;BottomNavigationWidget&gt;</span> </span>{
  <span class="hljs-keyword">final</span> _BottomNavigationColor = <span class="hljs-type">Colors</span>.blue;

  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
     <span class="hljs-keyword">return</span> <span class="hljs-type">Scaffold</span>(

       bottomNavigationBar: <span class="hljs-type">BottomNavigationBar</span>(
         items: [
           <span class="hljs-type">BottomNavigationBarItem</span>(
             icon:<span class="hljs-type">Icon</span>(
               <span class="hljs-type">Icons</span>.home,
               color:_BottomNavigationColor,
             ),
             title:<span class="hljs-type">Text</span>(
               <span class="hljs-symbol">'Hom</span>e',
               style:<span class="hljs-type">TextStyle</span>(color:_BottomNavigationColor)
             )
           ),
           <span class="hljs-type">BottomNavigationBarItem</span>(
             icon:<span class="hljs-type">Icon</span>(
               <span class="hljs-type">Icons</span>.email,
               color:_BottomNavigationColor,
             ),
             title:<span class="hljs-type">Text</span>(
               <span class="hljs-symbol">'Emai</span>l',
               style:<span class="hljs-type">TextStyle</span>(color:_BottomNavigationColor)
             )
           ),
           <span class="hljs-type">BottomNavigationBarItem</span>(
             icon:<span class="hljs-type">Icon</span>(
               <span class="hljs-type">Icons</span>.pages,
               color:_BottomNavigationColor,
             ),
             title:<span class="hljs-type">Text</span>(
               <span class="hljs-symbol">'Page</span>s',
               style:<span class="hljs-type">TextStyle</span>(color:_BottomNavigationColor)
             )
           ),
           <span class="hljs-type">BottomNavigationBarItem</span>(
             icon:<span class="hljs-type">Icon</span>(
               <span class="hljs-type">Icons</span>.airplay,
               color:_BottomNavigationColor,
             ),
             title:<span class="hljs-type">Text</span>(
               <span class="hljs-symbol">'AipPla</span>y',
               style:<span class="hljs-type">TextStyle</span>(color:_BottomNavigationColor)
             )
           ),
         ],
         <span class="hljs-class"><span class="hljs-keyword">type</span></span>:<span class="hljs-type">BottomNavigationBarType</span>.fixed
       ),
     );
  }
}</code></pre><p>这时候我们就可以使用<code>flutter run</code> 来进行查看代码了，效果已经出现，在APP的页面上已经出现了一个底部导航栏，只不过现在还点击还没有什么效果。</p>
<p>下节课我们继续学习，让点击后可以切换页面，完成我们第一个的小实例效果。</p>
<a id="toc28" href="https://jspang.com/detailed?id=45#toc28" class="anchor-fix"><h2>第02节: 底部导航栏制作-2</h2></a>
<p>这节课我们继续上节课的内容，把底部导航的完整效果做出来，我们先把几个要导航的页面创建出来。</p>
<iframe src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/player(1).html" scrolling="no" border="1" width="100%" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>

<a id="toc39" href="https://jspang.com/detailed?id=45#toc39" class="anchor-fix"><h3>子页面的编写</h3></a>
<p>子页面我们就采用最简单的编写了，只放入一个<code>AppBar</code>和一个<code>Center</code>，然后用Text Widget表明即可。</p>
<p>先来写一个HomeScreen组件，新建一个pages目录，然后在目录下面新建<code>home_screen.dart</code>文件。</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HomeScreen</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">Scaffold</span>(
      appBar:<span class="hljs-type">AppBar</span>(
        title: <span class="hljs-type">Text</span>(<span class="hljs-symbol">'HOM</span>E'),
      ),
      body:<span class="hljs-type">Center</span>(
        child: <span class="hljs-type">Text</span>(<span class="hljs-symbol">'HOM</span>E'),
      )
    );
  }
}</code></pre><p>有了这个文件剩下的文件就可以复制粘贴，然后改少量的代码来完成了。</p>
<p>分别建立:</p>
<ul>
<li>email_screen.dart</li>
<li>pages_screen.dart</li>
<li>airplay_screen.dart</li>
</ul>
<p>这些都是导航要用的子页面，有了这些页面，我们才能继续编写代码。</p>
<a id="toc310" href="https://jspang.com/detailed?id=45#toc310" class="anchor-fix"><h3>重写initState()方法</h3></a>
<p>我们要重新<code>initState()</code>方法，把刚才做好的页面进行初始化到一个Widget数组中。有了数组就可以根据数组的索引来切换不同的页面了。这是现在几乎所有的APP采用的方式。</p>
<p>代码如下:</p>
<pre><code> List&lt;Widget&gt; list = List();
 @override
 void initState(){
    list
      <span class="hljs-built_in">..</span><span class="hljs-builtin-name">add</span>(HomeScreen())
      <span class="hljs-built_in">..</span><span class="hljs-builtin-name">add</span>(EmailScreen())
      <span class="hljs-built_in">..</span><span class="hljs-builtin-name">add</span>(PagesScreen())
      <span class="hljs-built_in">..</span><span class="hljs-builtin-name">add</span>(AirplayScreen());
    super.initState();
  }</code></pre><p>这里的<code>..add()</code>是Dart语言的..语法，如果你学过编程模式，你一定听说过建造者模式，简单来说就是返回调用者本身。这里list后用了..add()，还会返回list，然后就一直使用..语法，能一直想list里增加widget元素。 最后我们调用了一些父类的<code>initState()</code>方法。</p>
<a id="toc311" href="https://jspang.com/detailed?id=45#toc311" class="anchor-fix"><h3>BottomNavigationBar里的响应事件</h3></a>
<p><code>BottomNavigationBar</code>组件里提供了一个相应事件<code>onTap</code>，这个事件自带一个索引值<code>index</code>，通过索引值我们就可以和我们list里的索引值相对应了。</p>
<pre><code>        onTap:(<span class="hljs-keyword">int</span> <span class="hljs-keyword">index</span>){
           setState((){
             _currentIndex= <span class="hljs-keyword">index</span>;
           });
         },</code></pre><p>现在给出全部的<code>bottom_navigation_widget.dart</code>的全部代码，讲解我会在视频中一行一行讲解。</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';
<span class="hljs-keyword">import</span> <span class="hljs-symbol">'pages</span>/home_screen.dart';
<span class="hljs-keyword">import</span> <span class="hljs-symbol">'pages</span>/email_screen.dart';
<span class="hljs-keyword">import</span> <span class="hljs-symbol">'pages</span>/pages_screen.dart';
<span class="hljs-keyword">import</span> <span class="hljs-symbol">'pages</span>/airplay_screen.dart';

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BottomNavigationWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  _BottomNavigationWidgetState createState() =&gt; _BottomNavigationWidgetState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_BottomNavigationWidgetState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State&lt;BottomNavigationWidget&gt;</span> </span>{
  <span class="hljs-keyword">final</span> _BottomNavigationColor = <span class="hljs-type">Colors</span>.blue;
  int _currentIndex = <span class="hljs-number">0</span>;
  <span class="hljs-type">List</span>&lt;<span class="hljs-type">Widget</span>&gt; list = <span class="hljs-type">List</span>();

  <span class="hljs-meta">@override</span>
  void initState(){
    list
      ..add(<span class="hljs-type">HomeScreen</span>())
      ..add(<span class="hljs-type">EmailScreen</span>())
      ..add(<span class="hljs-type">PagesScreen</span>())
      ..add(<span class="hljs-type">AirplayScreen</span>());
    <span class="hljs-keyword">super</span>.initState();
  }

  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
     <span class="hljs-keyword">return</span> <span class="hljs-type">Scaffold</span>(
       body: list[_currentIndex],
       bottomNavigationBar: <span class="hljs-type">BottomNavigationBar</span>(
         items: [
           <span class="hljs-type">BottomNavigationBarItem</span>(
             icon:<span class="hljs-type">Icon</span>(
               <span class="hljs-type">Icons</span>.home,
               color:_BottomNavigationColor,
             ),
             title:<span class="hljs-type">Text</span>(
               <span class="hljs-symbol">'Hom</span>e',
               style:<span class="hljs-type">TextStyle</span>(color:_BottomNavigationColor)
             )
           ),
           <span class="hljs-type">BottomNavigationBarItem</span>(
             icon:<span class="hljs-type">Icon</span>(
               <span class="hljs-type">Icons</span>.email,
               color:_BottomNavigationColor,
             ),
             title:<span class="hljs-type">Text</span>(
               <span class="hljs-symbol">'Emai</span>l',
               style:<span class="hljs-type">TextStyle</span>(color:_BottomNavigationColor)
             )
           ),
           <span class="hljs-type">BottomNavigationBarItem</span>(
             icon:<span class="hljs-type">Icon</span>(
               <span class="hljs-type">Icons</span>.pages,
               color:_BottomNavigationColor,
             ),
             title:<span class="hljs-type">Text</span>(
               <span class="hljs-symbol">'Page</span>s',
               style:<span class="hljs-type">TextStyle</span>(color:_BottomNavigationColor)
             )
           ),
           <span class="hljs-type">BottomNavigationBarItem</span>(
             icon:<span class="hljs-type">Icon</span>(
               <span class="hljs-type">Icons</span>.airplay,
               color:_BottomNavigationColor,
             ),
             title:<span class="hljs-type">Text</span>(
               <span class="hljs-symbol">'AipPla</span>y',
               style:<span class="hljs-type">TextStyle</span>(color:_BottomNavigationColor)
             )
           ),
         ],
         currentIndex:_currentIndex,
         onTap:(int index){
           setState((){
             _currentIndex= index;
           });
         },
         <span class="hljs-class"><span class="hljs-keyword">type</span></span>:<span class="hljs-type">BottomNavigationBarType</span>.fixed
       ),
     );
  }
}</code></pre><p>通过两节的学习，基本掌握了APP底部导航的编写方法，其实这些知识是很面向工作的，因为真是项目中，你也要如此划分你的代码结构。</p>
<p>我希望你一定要动手练习一下，因为不动手练习，你是真的学不会的，这不再是基础知识，而是稍显复杂的小案例，并且这些案例你练习后，以后工作中用到，是可以直接拷贝里边的代码的，绝对不亏的。</p>
<a id="toc212" href="https://jspang.com/detailed?id=45#toc212" class="anchor-fix"><h2>第03节: 不规则底部工具栏制作-1</h2></a>
<p>大部分的底部导航都是中规中矩的，但有些时候也需要突出个性，比如在中间部位增加一个突出的按钮。这节课我们主要学习一下不规则的导航如何制作。</p>
<iframe src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/player(2).html" scrolling="no" border="1" width="100%" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>

<p><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo02.gif" alt="http://blogimages.jspang.com/FlutterDemo02.gif"></p>
<a id="toc313" href="https://jspang.com/detailed?id=45#toc313" class="anchor-fix"><h3>自定义主题样本</h3></a>
<p>Flutter支持自定义主题，如果使用自定义主题，设置的内容项是非常多的，这可能让初学者头疼，Flutter贴心的为给我们准备了主题样本。</p>
<blockquote>
<p>primarySwatch ：现在支持18种主题样本了。</p>
</blockquote>
<p>具体代码如下：</p>
<pre><code><span class="hljs-symbol">theme:</span> ThemeData(
<span class="hljs-symbol">  primarySwatch:</span> Colors.lightBlue,
),</code></pre><p>会了这个知识后，我们就可以先把我们的主入口文件编写一下了，具体代码如下：</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';
<span class="hljs-keyword">import</span> <span class="hljs-symbol">'bottom_appBar_demo</span>.dart';

void main()=&gt;runApp(<span class="hljs-keyword">new</span> <span class="hljs-type">MyApp</span>());

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">MaterialApp</span>(
      title:<span class="hljs-symbol">'Flutter</span> <span class="hljs-type">Demo</span>',
theme: <span class="hljs-type">ThemeData</span>(
  primarySwatch: <span class="hljs-type">Colors</span>.lightBlue,
),
      home:<span class="hljs-type">BottomAppBarDemo</span>(),
    );
  }
}</code></pre><p>这时候<code>bottom_appBar_demo.dart</code>这个文件还没有，也找不到，这个文件是我们的主要文件，我们的主要业务逻辑会写在这个文件里。</p>
<p>因为没有所以你写完之后会报错，那接下来我们就来编写这个文件。</p>
<a id="toc314" href="https://jspang.com/detailed?id=45#toc314" class="anchor-fix"><h3>floatingActionButton Widget</h3></a>
<p><code>floatingActionButton</code>工作中我们通常简称它为“FAB”，也许只是我们公司这样称呼，从字面理解可以看出，它是“可交互的浮动按钮”,其实在Flutter默认生成的代码中就有这家伙，只是我们没有正式的接触。</p>
<p>一般来说，它是一个圆形，中间放着图标，会优先显示在其他Widget的前面。</p>
<p>下面我们来看看它的常用属性:</p>
<ul>
<li><p>onPressed ：点击相应事件，最常用的一个属性。</p>
</li>
<li><p>tooltip：长按显示的提示文字，因为一般只放一个图标在上面，防止用户不知道，当我们点击长按时就会出现一段文字性解释。非常友好，不妨碍整体布局。</p>
</li>
<li><p>child ：放置子元素，一般放置Icon Widget。</p>
</li>
</ul>
<p>我们来看一下<code>floatingActionButton</code>的主要代码:</p>
<pre><code><span class="hljs-attribute">floatingActionButton</span>: FloatingActionButton(
    <span class="hljs-attribute">onPressed</span>: (){
      Navigator.of(context).push(MaterialPageRoute(<span class="hljs-attribute">builder</span>:(BuildContext context){
        return EachView(<span class="hljs-string">'New Page'</span>);
      }));
    },
    <span class="hljs-attribute">tooltip</span>: <span class="hljs-string">'Increment'</span>,
    <span class="hljs-attribute">child</span>: Icon(
      Icons.add,
      <span class="hljs-attribute">color</span>: Colors.white,
    ),
  ),</code></pre><p>写完这些代码已经有了一个悬浮的按钮，但这个悬浮按钮还没有和低栏进行融合，这时候需要一个属性。</p>
<pre><code>floatingActionButtonLocation: <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">FloatingActionButtonLocation</span>.</span></span>centerDocked,</code></pre><p>这时候就可以和底栏进行融合了。</p>
<a id="toc315" href="https://jspang.com/detailed?id=45#toc315" class="anchor-fix"><h3>BottomAppBar Widget</h3></a>
<p><code>BottomAppBar</code> 是 底部工具栏的意思，这个要比<code>BottomNavigationBar</code> widget灵活很多，可以放置文字和图标，当然也可以放置容器。</p>
<p><code>BottomAppBar</code>的常用属性:</p>
<ul>
<li>color:这个不用多说，底部工具栏的颜色。</li>
<li>shape：设置底栏的形状，一般使用这个都是为了和<code>floatingActionButton</code>融合，所以使用的值都是CircularNotchedRectangle(),有缺口的圆形矩形。</li>
<li>child ： 里边可以放置大部分Widget，让我们随心所欲的设计底栏。</li>
</ul>
<p>这节课先来看看这个布局，下节课我们再添加交互效果。</p>
<p>本节课主要代码：</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BottomAppBarDemo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  _BottomAppBarDemoState createState() =&gt; _BottomAppBarDemoState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_BottomAppBarDemoState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State&lt;BottomAppBarDemo&gt;</span> </span>{

  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
     <span class="hljs-keyword">return</span> <span class="hljs-type">Scaffold</span>(
        floatingActionButton: <span class="hljs-type">FloatingActionButton</span>(
          onPressed: (){

          },
          tooltip: <span class="hljs-symbol">'Incremen</span>t',
          child: <span class="hljs-type">Icon</span>(
            <span class="hljs-type">Icons</span>.add,
            color: <span class="hljs-type">Colors</span>.white,
          ),
        ),
       floatingActionButtonLocation: <span class="hljs-type">FloatingActionButtonLocation</span>.centerDocked,
       bottomNavigationBar: <span class="hljs-type">BottomAppBar</span>(
         color:<span class="hljs-type">Colors</span>.lightBlue,
         shape:<span class="hljs-type">CircularNotchedRectangle</span>(),
         child: <span class="hljs-type">Row</span>(
           mainAxisSize: <span class="hljs-type">MainAxisSize</span>.max,
           mainAxisAlignment: <span class="hljs-type">MainAxisAlignment</span>.spaceAround,
           children: &lt;<span class="hljs-type">Widget</span>&gt;[
             <span class="hljs-type">IconButton</span>(
               icon:<span class="hljs-type">Icon</span>(<span class="hljs-type">Icons</span>.home),
               color:<span class="hljs-type">Colors</span>.white,
               onPressed:(){

               }
             ),
             <span class="hljs-type">IconButton</span>(
               icon:<span class="hljs-type">Icon</span>(<span class="hljs-type">Icons</span>.airport_shuttle),
               color:<span class="hljs-type">Colors</span>.white,
               onPressed:(){

               }
             ),
           ],
         ),
       )
        ,
     );
  }
}</code></pre><a id="toc216" href="https://jspang.com/detailed?id=45#toc216" class="anchor-fix"><h2>第04节: 不规则底部工具栏制作-2</h2></a>
<p>上节课已经完成了基本的页面布局，但是还没有交互效果，这节主要制作一下交互效果。</p>
<iframe src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/player(3).html" scrolling="no" border="1" width="100%" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>

<a id="toc317" href="https://jspang.com/detailed?id=45#toc317" class="anchor-fix"><h3>StatefulWidget子页面的制作</h3></a>
<p>在前两节课的实例中我们使用了子页面，但子页面继承与<code>StatelessWidget</code>(不可变控件)，所以很麻烦的写了4个页面，其实完全可以写一个继承于<code>StatefulWidget</code>的控件，进行搞定。</p>
<p>新建一个<code>each_view.dart</code>文件，然后输入如下代码：</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EachView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  <span class="hljs-type">String</span> _title;
  <span class="hljs-type">EachView</span>(<span class="hljs-keyword">this</span>._title);
  <span class="hljs-meta">@override</span>
  _EachViewState createState() =&gt; _EachViewState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_EachViewState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State&lt;EachView&gt;</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">Scaffold</span>(
      appBar:<span class="hljs-type">AppBar</span>(title:<span class="hljs-type">Text</span>(widget._title)),
      body: <span class="hljs-type">Center</span>(child:<span class="hljs-type">Text</span>(widget._title)),
    );
  }
}</code></pre><p>代码中设置了一个内部的<code>_title</code>变量，这个变量是从主页面传递过来的，然后根据传递过来的具体值显示在APP的标题栏和屏幕中间。</p>
<a id="toc318" href="https://jspang.com/detailed?id=45#toc318" class="anchor-fix"><h3>按钮交互效果的制作</h3></a>
<p>这些效果都是在<code>bottom_appBar_demo.dart</code>页面完成的。首先我们需要引入新作的子页面<code>each_view.dart</code>。</p>
<pre><code><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> 'each_view.dart';</span></code></pre><p>新建两个变量,主要作用是控制body中的试图，也就是显示不同的子页面。</p>
<pre><code>  <span class="hljs-built_in">List</span>&lt;Widget&gt; <span class="hljs-variable">_eachView</span>;  <span class="hljs-comment">//创建视图数组</span>
  int <span class="hljs-variable">_index</span> = <span class="hljs-number">0</span>;          <span class="hljs-comment">//数组索引，通过改变索引值改变视图</span></code></pre><p>下一步是为<code>_eachView</code>进行初始化赋值，我们可以直接重写初始化方法，具体代码如下：</p>
<pre><code>  @<span class="hljs-function"><span class="hljs-keyword">override</span>
  <span class="hljs-keyword">void</span> <span class="hljs-title">initState</span>(<span class="hljs-params"></span>)</span> {
      <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> implement initState</span>
      super.initState();
      _eachView = List();
      _eachView..<span class="hljs-keyword">add</span>(EachView(<span class="hljs-string">'Home'</span>))..<span class="hljs-keyword">add</span>(EachView(<span class="hljs-string">'Me'</span>));
    }</code></pre><p>剩下的就是写个个按钮的交互事件，交互的动作分两种：</p>
<ul>
<li><p>直接打开子导航，比如我们点击了中间的”+“按钮，我们直接开启子页面。</p>
<pre><code>onPressed: <span class="hljs-literal">()</span>{
 <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Navigator</span>.</span></span><span class="hljs-keyword">of</span>(context).push(<span class="hljs-constructor">MaterialPageRoute(<span class="hljs-params">builder</span>:(BuildContext <span class="hljs-params">context</span>)</span>{
   return <span class="hljs-constructor">EachView('New Page')</span>;
 }));
},</code></pre></li>
<li><p>改变状态，通过改变状态，来切换页面，这样我们整体页面并没有被刷新。</p>
<pre><code><span class="hljs-keyword">on</span>Pressed:(){
<span class="hljs-built_in">set</span>State(() {
 _index=<span class="hljs-number">0</span>;             
});
}</code></pre></li>
</ul>
<p>为了方便小伙伴们学习，给出<code>bottom_appBar_demo.dart</code>所有代码，代码如下:</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';
<span class="hljs-keyword">import</span> <span class="hljs-symbol">'each_view</span>.dart';

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BottomAppBarDemo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  _BottomAppBarDemoState createState() =&gt; _BottomAppBarDemoState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_BottomAppBarDemoState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State&lt;BottomAppBarDemo&gt;</span> </span>{
  <span class="hljs-type">List</span>&lt;<span class="hljs-type">Widget</span>&gt; _eachView;  <span class="hljs-comment">//创建视图数组</span>
  int _index = <span class="hljs-number">0</span>;          <span class="hljs-comment">//数组索引，通过改变索引值改变视图</span>

  <span class="hljs-meta">@override</span>
  void initState() {
      <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> implement initState</span>
      <span class="hljs-keyword">super</span>.initState();
      _eachView = <span class="hljs-type">List</span>();
      _eachView..add(<span class="hljs-type">EachView</span>(<span class="hljs-symbol">'Hom</span>e'))..add(<span class="hljs-type">EachView</span>(<span class="hljs-symbol">'M</span>e'));
    }

  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
     <span class="hljs-keyword">return</span> <span class="hljs-type">Scaffold</span>(
       body:_eachView[_index],
        floatingActionButton: <span class="hljs-type">FloatingActionButton</span>(
        onPressed: (){
          <span class="hljs-type">Navigator</span>.of(context).push(<span class="hljs-type">MaterialPageRoute</span>(builder:(<span class="hljs-type">BuildContext</span> context){
            <span class="hljs-keyword">return</span> <span class="hljs-type">EachView</span>(<span class="hljs-symbol">'New</span> <span class="hljs-type">Page</span>');
          }));
        },
          tooltip: <span class="hljs-symbol">'Incremen</span>t',
          child: <span class="hljs-type">Icon</span>(
            <span class="hljs-type">Icons</span>.add,
            color: <span class="hljs-type">Colors</span>.white,
          ),
        ),
       floatingActionButtonLocation: <span class="hljs-type">FloatingActionButtonLocation</span>.centerDocked,
       bottomNavigationBar: <span class="hljs-type">BottomAppBar</span>(
         color:<span class="hljs-type">Colors</span>.lightBlue,
         shape:<span class="hljs-type">CircularNotchedRectangle</span>(),
         child: <span class="hljs-type">Row</span>(
           mainAxisSize: <span class="hljs-type">MainAxisSize</span>.max,
           mainAxisAlignment: <span class="hljs-type">MainAxisAlignment</span>.spaceAround,
           children: &lt;<span class="hljs-type">Widget</span>&gt;[
             <span class="hljs-type">IconButton</span>(
               icon:<span class="hljs-type">Icon</span>(<span class="hljs-type">Icons</span>.home),
               color:<span class="hljs-type">Colors</span>.white,
                onPressed:(){
                  setState(() {
                    _index=<span class="hljs-number">0</span>;             
                  });
                }
             ),
             <span class="hljs-type">IconButton</span>(
               icon:<span class="hljs-type">Icon</span>(<span class="hljs-type">Icons</span>.airport_shuttle),
               color:<span class="hljs-type">Colors</span>.white,
               onPressed:(){
                 setState(() {
                    _index=<span class="hljs-number">1</span>;             
                 });
               }
             ),
           ],
         ),
       )
        ,
     );
  }
}</code></pre><p>我相信小伙伴都制作出了这个效果，这个在工作中也很常见。希望你们都能学会，特别是动态子页面的这个使用技巧。</p>
<a id="toc219" href="https://jspang.com/detailed?id=45#toc219" class="anchor-fix"><h2>第05节: 酷炫的路由动画-1</h2></a>
<p>现在Flutter的路由效果已经非常不错了，能满足大部分App的需求，但是谁不希望自己的App更酷更炫那，学完这节课你就可以给自己的APP加上酷炫的路由动画了。</p>
<iframe src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/player(4).html" scrolling="no" border="1" width="100%" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>


<table>
    <tbody><tr>
        <td><center><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo03.gif"></center></td>
        <td><center><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo04.gif"></center></td>
    </tr>
 <tr>
        <td><center><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo05.gif"></center></td>
        <td><center><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo06.gif"></center></td>
    </tr>
</tbody></table>




<p>其实路由动画的原理很简单，就是重写并继承<code>PageRouterBuilder</code>这个类里的<code>transitionsBuilder</code>方法。</p>
<p>不过这个方法还是有很多写法的，通过写法的不同，产生的动画效果也有所不同。</p>
<a id="toc320" href="https://jspang.com/detailed?id=45#toc320" class="anchor-fix"><h3>主入口方法</h3></a>
<p>先编写一个主入口方法，还是最简单的格式，只不过home属性，使用的<code>FirstPage</code>的组件是我们自定义的，需要我们再次编写。入口文件的代码如下：</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';
<span class="hljs-keyword">import</span> <span class="hljs-symbol">'pages</span>.dart';

void main()=&gt;runApp(<span class="hljs-type">MyApp</span>());

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">MaterialApp</span>(
      title:<span class="hljs-symbol">'Flutter</span> <span class="hljs-type">Demo</span>',
      theme: <span class="hljs-keyword">new</span> <span class="hljs-type">ThemeData</span>(
        primarySwatch: <span class="hljs-type">Colors</span>.blue,
      ),
      home:<span class="hljs-type">FirstPage</span>()
    );
  }
}</code></pre><a id="toc321" href="https://jspang.com/detailed?id=45#toc321" class="anchor-fix"><h3>pages.dart页面的编写</h3></a>
<p>主入口文件用<code>import</code>引入了<code>pages.dart</code>文件，这个文件就是生成了两个页面（Flutter里的页面也是Widget,这个你要跟网页区分开）。有了两个页面就可以实现路由跳转了。</p>
<p><code>pages.dart</code>文件的代码如下，这里我们先用普通路由代替，看一看效果。</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FirstPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">Scaffold</span>(
      backgroundColor: <span class="hljs-type">Colors</span>.blue,
      appBar:<span class="hljs-type">AppBar</span>(
        title:<span class="hljs-type">Text</span>(<span class="hljs-symbol">'FirstPag</span>e',style: <span class="hljs-type">TextStyle</span>(fontSize: <span class="hljs-number">36.0</span>)),
        elevation: <span class="hljs-number">0.0</span>,
      ),
      body:<span class="hljs-type">Center</span>(
        child: <span class="hljs-type">MaterialButton</span>(
          child: <span class="hljs-type">Icon</span>(
            <span class="hljs-type">Icons</span>.navigate_next,
            color:<span class="hljs-type">Colors</span>.white,
            size:<span class="hljs-number">64.0</span>,
          ),
          onPressed: (){
              <span class="hljs-type">Navigator</span>.of(context).push(
                <span class="hljs-type">MaterialPageRoute</span>(
                  builder:(<span class="hljs-type">BuildContext</span> context){
                     <span class="hljs-keyword">return</span> <span class="hljs-type">SecondPage</span>();
                  }));
          },
        ),
      )
    );
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SecondPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">Scaffold</span>(
      backgroundColor: <span class="hljs-type">Colors</span>.pinkAccent,
      appBar: <span class="hljs-type">AppBar</span>(
        title: <span class="hljs-type">Text</span>(<span class="hljs-symbol">'SecondPag</span>e',style:<span class="hljs-type">TextStyle</span>(fontSize:<span class="hljs-number">36.0</span>),),
        backgroundColor: <span class="hljs-type">Colors</span>.pinkAccent,
        leading:<span class="hljs-type">Container</span>(),
        elevation: <span class="hljs-number">0.0</span>,
      ),
      body:<span class="hljs-type">Center</span>(
        child: <span class="hljs-type">MaterialButton</span>(
          child: <span class="hljs-type">Icon</span>(
            <span class="hljs-type">Icons</span>.navigate_before,
            color:<span class="hljs-type">Colors</span>.white,
            size:<span class="hljs-number">64.0</span>
          ),
          onPressed: ()=&gt;<span class="hljs-type">Navigator</span>.of(context).pop(),
        ),
      )
    );
  }
}</code></pre><p>上面代码中有一个新知识点，需要学习一下：</p>
<ol>
<li>AppBar Widger的 elevation 属性：这个值是AppBar
滚动时的融合程度，一般有滚动时默认是4.0，现在我们设置成0.0，就是和也main完全融合了。</li>
</ol>
<p>写完这个页面代码后，已经可以进行最基本的导航了，但是并没有什么酷炫的动画。</p>
<a id="toc322" href="https://jspang.com/detailed?id=45#toc322" class="anchor-fix"><h3>自定义CustomRoute Widget</h3></a>
<p>新建一个<code>custome_router.dart</code>文件，这个就是要自定义的路由方法，自定义首先要继承于通用的路由的构造器类<code>PageRouterBuilder</code>。继承之后重写父类的<code>CustomRoute</code>构造方法。</p>
<p>构造方法可以简单理解为：只要以调用这个类或者说是Widget，构造方法里的所有代码就执行了。</p>
<p><code>custome_router.dart</code>代码如下(详细解释视频中说):</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CustomRoute</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">PageRouteBuilder</span></span>{
  <span class="hljs-keyword">final</span> <span class="hljs-type">Widget</span> widget;
  <span class="hljs-type">CustomRoute</span>(<span class="hljs-keyword">this</span>.widget)
    :<span class="hljs-keyword">super</span>(
      transitionDuration:const <span class="hljs-type">Duration</span>(seconds:<span class="hljs-number">1</span>),
      pageBuilder:(
        <span class="hljs-type">BuildContext</span> context,
        <span class="hljs-type">Animation</span>&lt;double&gt; animation1,
        <span class="hljs-type">Animation</span>&lt;double&gt; animation2){
          <span class="hljs-keyword">return</span> widget;
        },
     transitionsBuilder:(
          <span class="hljs-type">BuildContext</span> context,
          <span class="hljs-type">Animation</span>&lt;double&gt; animation1,
          <span class="hljs-type">Animation</span>&lt;double&gt; animation2,
          <span class="hljs-type">Widget</span> child){
            <span class="hljs-keyword">return</span> <span class="hljs-type">FadeTransition</span>(
              opacity: <span class="hljs-type">Tween</span>(begin:<span class="hljs-number">0.0</span>,end :<span class="hljs-number">1.0</span>).animate(<span class="hljs-type">CurvedAnimation</span>(
                  parent:animation1,
                  curve:<span class="hljs-type">Curves</span>.fastOutSlowIn
              )),
              child: child,
            );
        }  

    ); 
}</code></pre><ul>
<li>FadeTransition:渐隐渐现过渡效果，主要设置opactiy（透明度）属性，值是0.0-1.0。</li>
</ul>
<ul>
<li><p>animate :动画的样式，一般使用动画曲线组件（CurvedAnimation）。</p>
</li>
<li><p>curve: 设置动画的节奏，也就是常说的曲线，Flutter准备了很多节奏，通过改变动画取消可以做出很多不同的效果。</p>
</li>
<li><p>transitionDuration：设置动画持续的时间，建议再1和2之间。</p>
</li>
</ul>
<p>写完代码，我们已经可以看到在切换路由时有了动画效果，下节课我们再写三个常用动画效果。</p>
<a id="toc223" href="https://jspang.com/detailed?id=45#toc223" class="anchor-fix"><h2>第06节: 酷炫的路由动画-2</h2></a>
<p>这节课我们接着上节课再作三个常用的动画效果，目的是让你更深刻的了解路由动画的使用方法。</p>
<iframe src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/player(5).html" scrolling="no" border="1" width="100%" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>


<a id="toc324" href="https://jspang.com/detailed?id=45#toc324" class="anchor-fix"><h3>缩放路由动画</h3></a>
<pre><code>return ScaleTransition(
  <span class="hljs-name">scale</span><span class="hljs-symbol">:Tween</span>(<span class="hljs-name">begin</span>:<span class="hljs-number">0.0</span>,end:<span class="hljs-number">1.0</span>).animate(<span class="hljs-name">CurvedAnimation</span>(
    <span class="hljs-name">parent</span><span class="hljs-symbol">:animation1</span>,
    curve: Curves.fastOutSlowIn
    )),
    child<span class="hljs-symbol">:child</span>
)<span class="hljs-comment">;</span></code></pre><a id="toc325" href="https://jspang.com/detailed?id=45#toc325" class="anchor-fix"><h3>旋转+缩放路由动画</h3></a>
<p>旋转+缩放的思路是在一个路由动画里的child属性里再加入一个动画，让两个动画同时执行。来看详细代码：</p>
<pre><code> return RotationTransition(
  <span class="hljs-name">turns</span><span class="hljs-symbol">:Tween</span>(<span class="hljs-name">begin</span>:<span class="hljs-number">0.0</span>,end:<span class="hljs-number">1.0</span>)
  .animate(<span class="hljs-name">CurvedAnimation</span>(
    <span class="hljs-name">parent</span>: animation1,
    curve: Curves.fastOutSlowIn
  )),
  child<span class="hljs-symbol">:ScaleTransition</span>(
    <span class="hljs-name">scale</span><span class="hljs-symbol">:Tween</span>(<span class="hljs-name">begin</span>: <span class="hljs-number">0.0</span>,end:<span class="hljs-number">1.0</span>)
    .animate(<span class="hljs-name">CurvedAnimation</span>(
        <span class="hljs-name">parent</span>: animation1,
        curve<span class="hljs-symbol">:Curves</span>.fastOutSlowIn
    )),
    child: child,
  )
)<span class="hljs-comment">;</span></code></pre><a id="toc326" href="https://jspang.com/detailed?id=45#toc326" class="anchor-fix"><h3>左右滑动路由动画</h3></a>
<p>其实用的做多的还是左右滑动路由动画，其实实现起来也是非常简单，直接使用<code>SlideTransition</code>就可以了。</p>
<pre><code><span class="hljs-comment">// 幻灯片路由动画</span>
return SlideTransition(
<span class="hljs-symbol">  position:</span> Tween<span class="hljs-params">&lt;Offset&gt;</span>(
<span class="hljs-symbol">    begin:</span> Offset(<span class="hljs-number">-1.0</span>, <span class="hljs-number">0.0</span>),
<span class="hljs-symbol">    end:</span>Offset(<span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>)
  )
  .animate(CurvedAnimation(
<span class="hljs-symbol">    parent:</span> animation1,
<span class="hljs-symbol">    curve:</span> Curves.fastOutSlowIn
  )),
<span class="hljs-symbol">  child:</span> child,
);</code></pre><p>总结:动画的使用会让我们的APP更加酷炫，也会让别人觉的你不是一个新手，再Flutter里使用动画是非常方便的，所以你可以把这些动画效果事先写好，在工作中直接使用。</p>
<a id="toc227" href="https://jspang.com/detailed?id=45#toc227" class="anchor-fix"><h2>第07节: 毛玻璃效果制作</h2></a>
<p>Flutter的Fliter Widget 也是非常强大的，它可以制作出你想要的神奇滤镜效果。这节我们就以实战的方式，制作一个毛玻璃效果，通过实例来学习Fitler 的用法。（制作效果如下图）</p>
<iframe src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/player(6).html" scrolling="no" border="1" width="100%" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>


<p><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo07.png" alt="http://blogimages.jspang.com/FlutterDemo07.png"></p>
<a id="toc328" href="https://jspang.com/detailed?id=45#toc328" class="anchor-fix"><h3>main.dart文件编写</h3></a>
<p>这个和以前的写法都一样，所以就直接贴代码了。详细解释会在视频中解说，不过我相信不解释，小伙伴也一定可以看明白。</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';
<span class="hljs-keyword">import</span> <span class="hljs-symbol">'frosted_glass_emo</span>.dart';

void main() =&gt; runApp(<span class="hljs-type">MyApp</span>());

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">MaterialApp</span>(
      title:<span class="hljs-symbol">'Flutter</span> <span class="hljs-type">Demo</span>',
      theme:<span class="hljs-type">ThemeData</span>(
        primarySwatch: <span class="hljs-type">Colors</span>.blue,
      ),
      home:<span class="hljs-type">Scaffold</span>(
        body:<span class="hljs-type">FrostedGlassDemo</span>(),
      )
    );
  }
}</code></pre><a id="toc329" href="https://jspang.com/detailed?id=45#toc329" class="anchor-fix"><h3>BackdropFilter Widget</h3></a>
<p><code>BackdropFilter</code>就是背景滤镜组件，使用它可以给父元素增加滤镜效果，它里边最重要的一个属性是<code>filter</code>。
<code>filter</code>属性中要添加一个滤镜组件，实例中我们添加了图片滤镜组件，并给了模糊效果。</p>
<blockquote>
<p>图片地址：<a href="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1545738629147&amp;di=22e12a65bbc6c4123ae5596e24dbc5d3&amp;imgtype=0&amp;src=http%3A%2F%2Fpic30.photophoto.cn%2F20140309%2F0034034413812339_b.jpg">https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1545738629147&amp;di=22e12a65bbc6c4123ae5596e24dbc5d3&amp;imgtype=0&amp;src=http%3A%2F%2Fpic30.photophoto.cn%2F20140309%2F0034034413812339_b.jpg</a></p>
</blockquote>
<p>我们新建一个<code>frosted_glass_demo.dart</code>的文件，然后写入下面的代码，具体的解释已经写到了代码的注释中。</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';
<span class="hljs-keyword">import</span> <span class="hljs-symbol">'dart</span>:ui';   <span class="hljs-comment">//引入ui库，因为ImageFilter Widget在这个里边。</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FrostedGlassDemo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">Scaffold</span>(
      body:<span class="hljs-type">Stack</span>(   <span class="hljs-comment">//重叠的Stack Widget，实现重贴</span>
        children: &lt;<span class="hljs-type">Widget</span>&gt;[
          <span class="hljs-type">ConstrainedBox</span>( <span class="hljs-comment">//约束盒子组件，添加额外的限制条件到 child上。</span>
            constraints: const <span class="hljs-type">BoxConstraints</span>.expand(), <span class="hljs-comment">//限制条件，可扩展的。</span>
            child:<span class="hljs-type">Image</span>.network(<span class="hljs-symbol">'https</span>:<span class="hljs-comment">//timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1545738629147&amp;di=22e12a65bbc6c4123ae5596e24dbc5d3&amp;imgtype=0&amp;src=http%3A%2F%2Fpic30.photophoto.cn%2F20140309%2F0034034413812339_b.jpg')</span>
          ),
          <span class="hljs-type">Center</span>(
            child: <span class="hljs-type">ClipRect</span>(  <span class="hljs-comment">//裁切长方形</span>
              child: <span class="hljs-type">BackdropFilter</span>(   <span class="hljs-comment">//背景滤镜器</span>
                filter: <span class="hljs-type">ImageFilter</span>.blur(sigmaX: <span class="hljs-number">5.0</span>,sigmaY: <span class="hljs-number">5.0</span>), <span class="hljs-comment">//图片模糊过滤，横向竖向都设置5.0</span>
                child: <span class="hljs-type">Opacity</span>( <span class="hljs-comment">//透明控件</span>
                  opacity: <span class="hljs-number">0.5</span>,
                  child: <span class="hljs-type">Container</span>(<span class="hljs-comment">// 容器组件</span>
                    width: <span class="hljs-number">500.0</span>,
                    height: <span class="hljs-number">700.0</span>,
                    decoration: <span class="hljs-type">BoxDecoration</span>(color:<span class="hljs-type">Colors</span>.grey.shade200), <span class="hljs-comment">//盒子装饰器，进行装饰，设置颜色为灰色</span>
                    child: <span class="hljs-type">Center</span>(
                      child: <span class="hljs-type">Text</span>(
                        <span class="hljs-symbol">'JSPan</span>g',
                        style: <span class="hljs-type">Theme</span>.of(context).textTheme.display3, <span class="hljs-comment">//设置比较酷炫的字体</span>
                      ),
                    ),
                  ),
                ),
              ),
            ),
          )
        ],
      )
    );
  }
}</code></pre><p>这个代码嵌套很多，所以一定要注意你的代码层次，容易出错的地方就是嵌套错误。这个效果尽量少用，因为我测试了一下，它对系统的消耗还是比较大的。</p>
<a id="toc230" href="https://jspang.com/detailed?id=45#toc230" class="anchor-fix"><h2>第08节:  保持页面状态</h2></a>
<p>在工作中切换页面时，再切换回来，时要求页面状态不发生改变的。这能给APP浏览者最好的体验，机会所有的APP都有这个需求，属于一个大众需求。这节课我们就来看看这样的效果如何实现。</p>
<iframe src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/player(7).html" scrolling="no" border="1" width="100%" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>

<p><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo08.gif" alt="http://blogimages.jspang.com/FlutterDemo08.gif"></p>
<a id="toc331" href="https://jspang.com/detailed?id=45#toc331" class="anchor-fix"><h3>With 关键字的使用</h3></a>
<p>with是dart的关键字，意思是混入的意思，就是说可以将一个或者多个类的功能添加到自己的类无需继承这些类，
避免多重继承导致的问题。</p>
<p>比如下面的代码：</p>
<pre><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_KeepAliveDemoState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State&lt;KeepAliveDemo&gt;</span> <span class="hljs-keyword">with</span> <span class="hljs-title">SingleTickerProviderStateMixin</span> </span>{

}</code></pre><p>需要注意的是with后边是Mixin，而不是普通的Widget，这个初学者比较爱犯错误。需要强调一下。</p>
<a id="toc332" href="https://jspang.com/detailed?id=45#toc332" class="anchor-fix"><h3>TabBar Widget的使用</h3></a>
<p><code>TabBar</code>是切换组件，它需要设置两个属性。</p>
<ul>
<li>controller: 控制器，后边跟的多是<code>TabController</code>组件。</li>
<li>tabs：具体切换项，是一个数组，里边放的也是Tab Widget。</li>
</ul>
<pre><code><span class="hljs-attribute">bottom</span>:TabBar(
  <span class="hljs-attribute">controller</span>: _controller,
  <span class="hljs-attribute">tabs</span>:[
    Tab(<span class="hljs-attribute">icon</span>:Icon(Icons.directions_car)),
    Tab(<span class="hljs-attribute">icon</span>:Icon(Icons.directions_transit)),
    Tab(<span class="hljs-attribute">icon</span>:Icon(Icons.directions_bike)),
  ],
)</code></pre><a id="toc333" href="https://jspang.com/detailed?id=45#toc333" class="anchor-fix"><h3>基本页面布局</h3></a>
<p>我们先把入口页面布局好，下节课我们再让他保持状态。学了上面两个知识，你其实可以做出来布局了。全部代码如下：</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';

void main()=&gt;runApp(<span class="hljs-type">MyApp</span>());

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">MaterialApp</span>(
      title: <span class="hljs-symbol">'Flutter</span> <span class="hljs-type">Demo</span>',
      theme:<span class="hljs-type">ThemeData</span>(
        primarySwatch: <span class="hljs-type">Colors</span>.blue,
      ),
      home:<span class="hljs-type">KeepAliveDemo</span>()
    );
  }
} 

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">KeepAliveDemo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  _KeepAliveDemoState createState() =&gt; _KeepAliveDemoState();
}
<span class="hljs-comment">/*
with是dart的关键字，意思是混入的意思，
就是说可以将一个或者多个类的功能添加到自己的类无需继承这些类，
避免多重继承导致的问题。
SingleTickerProviderStateMixin 主要是我们初始化TabController时，
需要用到vsync ，垂直属性，然后传递this
*/</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_KeepAliveDemoState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State&lt;KeepAliveDemo&gt;</span> <span class="hljs-keyword">with</span> <span class="hljs-title">SingleTickerProviderStateMixin</span> </span>{
  <span class="hljs-type">TabController</span> _controller;

  <span class="hljs-meta">@override</span>
  void initState(){
    <span class="hljs-keyword">super</span>.initState();
    _controller = <span class="hljs-type">TabController</span>(length:<span class="hljs-number">3</span>, vsync: <span class="hljs-keyword">this</span>);
  }

  <span class="hljs-comment">//重写被释放的方法，只释放TabController</span>
  <span class="hljs-meta">@override</span>
  void dispose(){
    _controller.dispose();
    <span class="hljs-keyword">super</span>.dispose();
  }

  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">Scaffold</span>(
      appBar:<span class="hljs-type">AppBar</span>(
        title:<span class="hljs-type">Text</span>(<span class="hljs-symbol">'Keep</span> <span class="hljs-type">Alive</span> <span class="hljs-type">Demo</span>'),
        bottom:<span class="hljs-type">TabBar</span>(
          controller: _controller,
          tabs:[
            <span class="hljs-type">Tab</span>(icon:<span class="hljs-type">Icon</span>(<span class="hljs-type">Icons</span>.directions_car)),
            <span class="hljs-type">Tab</span>(icon:<span class="hljs-type">Icon</span>(<span class="hljs-type">Icons</span>.directions_transit)),
            <span class="hljs-type">Tab</span>(icon:<span class="hljs-type">Icon</span>(<span class="hljs-type">Icons</span>.directions_bike)),
          ],
        )
      ),
      body:<span class="hljs-type">TabBarView</span>(
        controller: _controller,
        children: &lt;<span class="hljs-type">Widget</span>&gt;[
         <span class="hljs-type">Text</span>(<span class="hljs-symbol">'111</span>1'),
         <span class="hljs-type">Text</span>(<span class="hljs-symbol">'222</span>2'),
         <span class="hljs-type">Text</span>(<span class="hljs-symbol">'333</span>3')
        ],
      )
    );
  }
}
</code></pre><a id="toc234" href="https://jspang.com/detailed?id=45#toc234" class="anchor-fix"><h2>第09节:  保持页面状态-2</h2></a>
<p>上节课已经做出了TabBar的效果，这节课主要任务是保持状态。那为了能看出是保持状态的，我们作一个按钮，然后点一下加一。就跟Flutter为我们生成的例子一样。</p>
<iframe src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/player(8).html" scrolling="no" border="1" width="100%" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>

<p>我这里就直接贴出代码了，知识点我已经在代码中写了注释，并且我会在视频中详细讲解。</p>
<p>如果小伙伴们对代码有什么不了解的，可以私信，我来进行解答。</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyHomePage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{

  <span class="hljs-meta">@override</span>
  _MyHomePageState createState() =&gt; _MyHomePageState();
}

<span class="hljs-comment">//混入AutomaticKeepAliveClientMixin，这是保持状态的关键</span>
<span class="hljs-comment">//然后重写wantKeppAlive 的值为true。</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_MyHomePageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State&lt;MyHomePage&gt;</span> <span class="hljs-keyword">with</span> <span class="hljs-title">AutomaticKeepAliveClientMixin</span> </span>{
  int _counter = <span class="hljs-number">0</span>;
  <span class="hljs-comment">//重写keepAlive 为ture ，就是可以有记忆功能了。</span>
  <span class="hljs-meta">@override</span>
  bool get wantKeepAlive =&gt; <span class="hljs-literal">true</span>;
  <span class="hljs-comment">//声明一个内部方法，用来点击按钮后增加数量</span>
  void _incrementCounter(){
    setState((){ _counter++;});
  }

  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">Scaffold</span>(
      body:<span class="hljs-type">Center</span>(
        child: <span class="hljs-type">Column</span>(
          mainAxisAlignment: <span class="hljs-type">MainAxisAlignment</span>.center,
          children: &lt;<span class="hljs-type">Widget</span>&gt;[
            <span class="hljs-type">Text</span>('点一下加<span class="hljs-number">1</span>，点一下加<span class="hljs-number">1</span>:'),
            <span class="hljs-type">Text</span>(
              '$_counter',
              style:<span class="hljs-type">Theme</span>.of(context).textTheme.display1,
            )
          ],
        ),
      ),
      <span class="hljs-comment">//增加一个悬浮按钮，点击时触犯_incrementCounter方法</span>
      floatingActionButton: <span class="hljs-type">FloatingActionButton</span>(
        onPressed: _incrementCounter,
        tooltip: <span class="hljs-symbol">'Incremen</span>t',
        child: <span class="hljs-type">Icon</span>(<span class="hljs-type">Icons</span>.add),
      ),
    );
  }
}</code></pre><p>写完这个Widget，然后在入口文件中引入。</p>
<pre><code><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> 'keep_alive_demo.dart';</span></code></pre><p>然后把Body区域改成我们刚写的MyHomePage Widget  就可以了，注意是改三个。</p>
<a id="toc235" href="https://jspang.com/detailed?id=45#toc235" class="anchor-fix"><h2>第10节:  一个不简单的搜索条-1</h2></a>
<p>搜索这个功能，大部分APP都会存在，这节课我们就学习一下，如何做一个有提示功能，而且交互很好的搜索条。需要提前提示的是，这节课的内容可能稍微有些难度，需要你慢慢消化，多作两遍。</p>
<iframe src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/player(9).html" scrolling="no" border="1" width="100%" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>

<p><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo09.gif" alt="http://blogimages.jspang.com/FlutterDemo09.gif"></p>
<a id="toc336" href="https://jspang.com/detailed?id=45#toc336" class="anchor-fix"><h3>主入口文件</h3></a>
<p>这个还是继承<code>StatelessWidget</code>,然后在home属性中加入<code>SearchBarDemo</code>，这是一个自定义的Widget，主要代码都在这个文件中。</p>
<p><code>main.dart</code> 文件的代码如下：</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';
<span class="hljs-keyword">import</span> <span class="hljs-symbol">'search_bar_demo</span>.dart';

void main() =&gt;runApp(<span class="hljs-type">MyApp</span>());

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">MaterialApp</span>(
      title:<span class="hljs-symbol">'Flutter</span> <span class="hljs-type">Demo</span>',
      theme: <span class="hljs-type">ThemeData</span>.light(),
      home: <span class="hljs-type">SearchBarDemo</span>()
    );
  }
}</code></pre><a id="toc337" href="https://jspang.com/detailed?id=45#toc337" class="anchor-fix"><h3>数据文件 asset.dart</h3></a>
<p><code>asset.dart</code>相当于数据文件，工作中这些数据是后台传递给我们，或者写成配置文件的，这里我们就以List的方式代替了。我们在这个文件中定义了两个List：</p>
<ul>
<li><p>searchList : 这个相当于数据库中的数据，我们要在这里进行搜索。</p>
</li>
<li><p>recentSuggest ： 目前的推荐数据，就是搜索时，自动为我们进行推荐。</p>
</li>
</ul>
<p>整体代码如下 ：</p>
<pre><code><span class="hljs-attribute">const searchList</span> = [
  <span class="hljs-string">"jiejie-大长腿"</span>,
  <span class="hljs-string">"jiejie-水蛇腰"</span>,
  <span class="hljs-string">"gege1-帅气欧巴"</span>,
  <span class="hljs-string">"gege2-小鲜肉"</span>
];

<span class="hljs-attribute">const recentSuggest</span> = [
  <span class="hljs-string">"推荐-1"</span>,
  <span class="hljs-string">"推荐-2"</span>
];</code></pre><a id="toc338" href="https://jspang.com/detailed?id=45#toc338" class="anchor-fix"><h3>AppBar的样式制作</h3></a>
<p>这节课我们先把第一个搜索界面布好，下节课我们主要作搜索的交互效果。看下面的代码：</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';
<span class="hljs-keyword">import</span> <span class="hljs-symbol">'asset</span>.dart';


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SearchBarDemo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  _SearchBarDemoState createState() =&gt; _SearchBarDemoState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_SearchBarDemoState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State&lt;SearchBarDemo&gt;</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">Scaffold</span>(
      appBar:<span class="hljs-type">AppBar</span>(
        title:<span class="hljs-type">Text</span>(<span class="hljs-symbol">'SearchBarDem</span>o'),
        actions:&lt;<span class="hljs-type">Widget</span>&gt;[
          <span class="hljs-type">IconButton</span>(
            icon:<span class="hljs-type">Icon</span>(<span class="hljs-type">Icons</span>.search),
            onPressed: (){
               print('开始搜索');
            }
          ),
        ]
      )
    );

  }
}
</code></pre><p>这时候就可以在虚拟机中进行预览了，但是这时候点击搜索按钮还没有任何反应。</p>
<a id="toc239" href="https://jspang.com/detailed?id=45#toc239" class="anchor-fix"><h2>第11节:  一个不简单的搜索条-2</h2></a>
<p>上节课已经作好了搜索条的基本布局，现在就是要在点击搜索图标后，变成搜索条的样式，并且有一定都交互效果。</p>
<p>在点击图标时执行<code>searchBarDelegate</code> 类，这个类继承与<code>SearchDelegate</code>类，继承后要重写里边的四个方法。</p>
<iframe src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/player(10).html" scrolling="no" border="1" width="100%" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>

<a id="toc340" href="https://jspang.com/detailed?id=45#toc340" class="anchor-fix"><h3>重写buildActions方法：</h3></a>
<p><code>buildActions</code>方法时搜索条右侧的按钮执行方法，我们在这里方法里放入一个clear图标。
当点击图片时，清空搜索的内容。</p>
<p>代码如下:</p>
<pre><code>  @override
  List&lt;Widget&gt; buildActions(BuildContext context){
    <span class="hljs-keyword">return</span> [
      IconButton(
        icon:Icon(Icons.clear),
        onPressed: <span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>query = <span class="hljs-string">""</span>,)
      ];
  }
</code></pre><a id="toc341" href="https://jspang.com/detailed?id=45#toc341" class="anchor-fix"><h3>buildLeading 方法重写</h3></a>
<p>这个时搜索栏左侧的图标和功能的编写，这里我们才用<code>AnimatedIcon</code>，然后在点击时关闭整个搜索页面，代码如下。</p>
<pre><code>  @override
  Widget buildLeading(BuildContext context) {
    <span class="hljs-keyword">return</span> IconButton(
        icon: AnimatedIcon(
            icon: AnimatedIcons.menu_arrow, progress: transitionAnimation),
        onPressed: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> close(context, <span class="hljs-literal">null</span>));
  }</code></pre><a id="toc342" href="https://jspang.com/detailed?id=45#toc342" class="anchor-fix"><h3>buildResults方法重写</h3></a>
<p><code>buildResults</code>方法，是搜到到内容后的展现，因为我们的数据都是模拟的，所以我这里就使用最简单的<code>Container</code>+<code>Card</code>组件进行演示了，不做过多的花式修饰了。</p>
<pre><code> <span class="hljs-variable">@override</span>
  Widget buildResults(BuildContext context) {
    <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">Container</span>(
      <span class="hljs-attribute">width</span>: <span class="hljs-number">100.0</span>,
      <span class="hljs-attribute">height</span>: <span class="hljs-number">100.0</span>,
      <span class="hljs-attribute">child</span>: Card(
        <span class="hljs-attribute">color</span>: Colors.redAccent,
        <span class="hljs-attribute">child</span>: Center(
          <span class="hljs-attribute">child</span>: Text(query),
        ),
      ),
    );
  }</code></pre><a id="toc343" href="https://jspang.com/detailed?id=45#toc343" class="anchor-fix"><h3>buildSuggestions方法重写</h3></a>
<p>这个方法主要的作用就是设置推荐，就是我们输入一个字，然后自动为我们推送相关的搜索结果，这样的体验是非常好的。(具体代码的解释，请观看视频)</p>
<p>具体代码如下：</p>
<pre><code> @override
  Widget buildSuggestions(BuildContext context) {
    final suggestionList = query.isEmpty
        ? recentSuggest
        : searchList.<span class="hljs-meta">where</span>((<span class="hljs-meta">input</span>) =&gt; <span class="hljs-meta">input</span>.startsWith(query)).toList();
    <span class="hljs-meta">return</span> ListView.builder(
        itemCount: suggestionList.<span class="hljs-meta">length</span>,
        itemBuilder: (context, <span class="hljs-meta">index</span>) =&gt; ListTile(
              <span class="hljs-meta">title</span>: RichText(
                  text: TextSp<span class="hljs-meta">an(</span>
                      text: suggestionList[<span class="hljs-meta">index</span>].substring(0, query.<span class="hljs-meta">length</span>),
                      style: TextStyle(
                          color: Colors.black, fontWeight: FontWeight.bold),
                      children: [
                    TextSp<span class="hljs-meta">an(</span>
                        text: suggestionList[<span class="hljs-meta">index</span>].substring(query.<span class="hljs-meta">length</span>),
                        style: TextStyle(color: Colors.grey))
                  ])),
            ));
  }


}</code></pre><p>为了方便小伙伴们学习，给出所有<code>search_bar_demo.dart</code>文件的代码：</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';
<span class="hljs-keyword">import</span> <span class="hljs-symbol">'asset</span>.dart';


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SearchBarDemo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  _SearchBarDemoState createState() =&gt; _SearchBarDemoState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_SearchBarDemoState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State&lt;SearchBarDemo&gt;</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">Scaffold</span>(
      appBar:<span class="hljs-type">AppBar</span>(
        title:<span class="hljs-type">Text</span>(<span class="hljs-symbol">'SearchBarDem</span>o'),
        actions:&lt;<span class="hljs-type">Widget</span>&gt;[
          <span class="hljs-type">IconButton</span>(
            icon:<span class="hljs-type">Icon</span>(<span class="hljs-type">Icons</span>.search),
            onPressed: (){
               showSearch(context:context,delegate: searchBarDelegate());
            }
            <span class="hljs-comment">// showSearch(context:context,delegate: searchBarDelegate()),</span>
          ),
        ]
      )
    );

  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">searchBarDelegate</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">SearchDelegate&lt;String&gt;</span></span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">List</span>&lt;<span class="hljs-type">Widget</span>&gt; buildActions(<span class="hljs-type">BuildContext</span> context){
    <span class="hljs-keyword">return</span> [
      <span class="hljs-type">IconButton</span>(
        icon:<span class="hljs-type">Icon</span>(<span class="hljs-type">Icons</span>.clear),
        onPressed: ()=&gt;query = <span class="hljs-string">""</span>,)
      ];
  }

  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> buildLeading(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">IconButton</span>(
        icon: <span class="hljs-type">AnimatedIcon</span>(
            icon: <span class="hljs-type">AnimatedIcons</span>.menu_arrow, progress: transitionAnimation),
        onPressed: () =&gt; close(context, <span class="hljs-literal">null</span>));
  }

  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> buildResults(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">Container</span>(
      width: <span class="hljs-number">100.0</span>,
      height: <span class="hljs-number">100.0</span>,
      child: <span class="hljs-type">Card</span>(
        color: <span class="hljs-type">Colors</span>.redAccent,
        child: <span class="hljs-type">Center</span>(
          child: <span class="hljs-type">Text</span>(query),
        ),
      ),
    );
  }

   <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> buildSuggestions(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">final</span> suggestionList = query.isEmpty
        ? recentSuggest
        : searchList.where((input) =&gt; input.startsWith(query)).toList();
    <span class="hljs-keyword">return</span> <span class="hljs-type">ListView</span>.builder(
        itemCount: suggestionList.length,
        itemBuilder: (context, index) =&gt; <span class="hljs-type">ListTile</span>(
              title: <span class="hljs-type">RichText</span>(
                  text: <span class="hljs-type">TextSpan</span>(
                      text: suggestionList[index].substring(<span class="hljs-number">0</span>, query.length),
                      style: <span class="hljs-type">TextStyle</span>(
                          color: <span class="hljs-type">Colors</span>.black, fontWeight: <span class="hljs-type">FontWeight</span>.bold),
                      children: [
                    <span class="hljs-type">TextSpan</span>(
                        text: suggestionList[index].substring(query.length),
                        style: <span class="hljs-type">TextStyle</span>(color: <span class="hljs-type">Colors</span>.grey))
                  ])),
            ));
  }


}
</code></pre><a id="toc244" href="https://jspang.com/detailed?id=45#toc244" class="anchor-fix"><h2>第12节:  流式布局 模拟添加照片效果</h2></a>
<p>这节已一个模拟添加多张照片的小实例，主要学习一下流式布局在Flutter里的应用。如果你作为一个前端开发者，那这节课的内容将非常容易。</p>
<iframe src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/player(11).html" scrolling="no" width="100%" border="1" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>


<p><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo10.gif" alt="http://blogimages.jspang.com/FlutterDemo10.gif"></p>
<a id="toc345" href="https://jspang.com/detailed?id=45#toc345" class="anchor-fix"><h3>mediaQuery 媒体查询</h3></a>
<p>使用<code>meidaQuery</code>可以很容易的得到屏幕的宽和高，得到宽和高的代码如下：</p>
<pre><code><span class="hljs-keyword">final</span> <span class="hljs-built_in">width</span> = MediaQuery.of(context).<span class="hljs-built_in">size</span>.<span class="hljs-built_in">width</span>;
<span class="hljs-keyword">final</span> <span class="hljs-built_in">height</span> = MediaQuery.of(context).<span class="hljs-built_in">size</span>.<span class="hljs-built_in">height</span>;</code></pre><a id="toc346" href="https://jspang.com/detailed?id=45#toc346" class="anchor-fix"><h3>Wrap流式布局</h3></a>
<p>Flutter中流式布局大概有三种常用方法，这节课先学一下Wrap的流式布局。有的小伙伴会说Wrap中的流式布局可以用Flow很轻松的实现出来，但是Wrap更多的式在使用了Flex中的一些概念，某种意义上说式跟Row、Column更加相似的。</p>
<p>单行的Wrap跟Row表现几乎一致，单列的Wrap则跟Column表现几乎一致。但Row与Column都是单行单列的，Wrap则突破了这个限制，mainAxis上空间不足时，则向crossAxis上去扩展显示。</p>
<p>从效率上讲，Flow肯定会比Wrap高，但Wrap使用起来会更方便一些。</p>
<p>这个会在实例中用到，所以，我在实例中会讲解这个代码。</p>
<a id="toc347" href="https://jspang.com/detailed?id=45#toc347" class="anchor-fix"><h3>GestureDetector 手势操作</h3></a>
<p><code>GestureDetector</code>它式一个Widget，但没有任何的显示功能，而只是一个手势操作，用来触发事件的。虽然很多Button组件是有触发事件的，比如点击，但是也有一些组件是没有触发事件的，比如：Padding、Container、Center这时候我们想让它有触发事件就需要再它们的外层增加一个<code>GestureDetector</code>，比如我们让Padding有触发事件，代码如下：</p>
<pre><code><span class="hljs-selector-tag">Widget</span> <span class="hljs-selector-tag">buildAddButton</span>(){
    <span class="hljs-selector-tag">return</span>  <span class="hljs-selector-tag">GestureDetector</span>(
      <span class="hljs-attribute">onTap</span>:(){
        <span class="hljs-selector-tag">if</span>(list.length&lt;<span class="hljs-number">9</span>){
          <span class="hljs-selector-tag">setState</span>(() {
                <span class="hljs-selector-tag">list</span><span class="hljs-selector-class">.insert</span>(list.length-<span class="hljs-number">1</span>,buildPhoto());
          });
        }
      },
      <span class="hljs-selector-tag">child</span>: <span class="hljs-selector-tag">Padding</span>(
        <span class="hljs-attribute">padding</span>:const EdgeInsets.all(<span class="hljs-number">8.0</span>),
        <span class="hljs-attribute">child</span>: Container(
          <span class="hljs-attribute">width</span>: <span class="hljs-number">80.0</span>,
          <span class="hljs-attribute">height</span>: <span class="hljs-number">80.0</span>,
          <span class="hljs-attribute">color</span>: Colors.black54,
          <span class="hljs-attribute">child</span>: Icon(Icons.add),
        ),
      ),
    );
  }
</code></pre><a id="toc348" href="https://jspang.com/detailed?id=45#toc348" class="anchor-fix"><h3>入口文件</h3></a>
<p>入口文件很简单，就是引用了<code>warp_demo.dart</code>文件，然后再home属性中使用了<code>WarpDemo</code>，代码如下：</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';
<span class="hljs-keyword">import</span> <span class="hljs-symbol">'warp_demo</span>.dart';

void main()=&gt;runApp(<span class="hljs-type">MyApp</span>());

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">MaterialApp</span>(
      title: <span class="hljs-symbol">'Flutter</span> <span class="hljs-type">Demo</span>',
      theme: <span class="hljs-keyword">new</span> <span class="hljs-type">ThemeData</span>.dark(),
      home:<span class="hljs-type">WarpDemo</span>()
    );
  }
}
</code></pre><a id="toc349" href="https://jspang.com/detailed?id=45#toc349" class="anchor-fix"><h3>warp_demo.dart</h3></a>
<p>主要的文件代码我就列在下面了，方便小伙伴们学习。讲解还式主要看视频吧。</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';


<span class="hljs-comment">//继承与动态组件</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">WarpDemo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  _WarpDemoState createState() =&gt; _WarpDemoState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_WarpDemoState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State&lt;WarpDemo&gt;</span> </span>{
  <span class="hljs-type">List</span>&lt;<span class="hljs-type">Widget</span>&gt; list;  <span class="hljs-comment">//声明一个list数组</span>

  <span class="hljs-meta">@override</span>
  <span class="hljs-comment">//初始化状态，给list添加值，这时候调用了一个自定义方法`buildAddButton`</span>
  void initState() { 
    <span class="hljs-keyword">super</span>.initState();
    list = <span class="hljs-type">List</span>&lt;<span class="hljs-type">Widget</span>&gt;()..add(buildAddButton());
  }


  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-comment">//得到屏幕的高度和宽度，用来设置Container的宽和高</span>
    <span class="hljs-keyword">final</span> width = <span class="hljs-type">MediaQuery</span>.of(context).size.width;
    <span class="hljs-keyword">final</span> height = <span class="hljs-type">MediaQuery</span>.of(context).size.height;



    <span class="hljs-keyword">return</span> <span class="hljs-type">Scaffold</span>(
      appBar: <span class="hljs-type">AppBar</span>(
        title: <span class="hljs-type">Text</span>(<span class="hljs-symbol">'Wrap</span>流式布局'),
      ),
      body:<span class="hljs-type">Center</span>(
        child: <span class="hljs-type">Opacity</span>(
          opacity: <span class="hljs-number">0.8</span>,
          child: <span class="hljs-type">Container</span>(
            width: width,
            height: height/<span class="hljs-number">2</span>,
            color: <span class="hljs-type">Colors</span>.grey,
            child: <span class="hljs-type">Wrap</span>(    <span class="hljs-comment">//流式布局，</span>
              children: list,
              spacing: <span class="hljs-number">26.0</span>,  <span class="hljs-comment">//设置间距</span>
            ),
          ),
        ),
      )
    );
  }

  <span class="hljs-type">Widget</span> buildAddButton(){
    <span class="hljs-comment">//返回一个手势Widget，只用用于显示事件</span>
    <span class="hljs-keyword">return</span>  <span class="hljs-type">GestureDetector</span>(
      onTap:(){
        <span class="hljs-keyword">if</span>(list.length&lt;<span class="hljs-number">9</span>){
          setState(() {
                list.insert(list.length<span class="hljs-number">-1</span>,buildPhoto());
          });
        }
      },
      child: <span class="hljs-type">Padding</span>(
        padding:const <span class="hljs-type">EdgeInsets</span>.all(<span class="hljs-number">8.0</span>),
        child: <span class="hljs-type">Container</span>(
          width: <span class="hljs-number">80.0</span>,
          height: <span class="hljs-number">80.0</span>,
          color: <span class="hljs-type">Colors</span>.black54,
          child: <span class="hljs-type">Icon</span>(<span class="hljs-type">Icons</span>.add),
        ),
      ),
    );
  }


  <span class="hljs-type">Widget</span> buildPhoto(){
    <span class="hljs-keyword">return</span> <span class="hljs-type">Padding</span>(
        padding: const <span class="hljs-type">EdgeInsets</span>.all(<span class="hljs-number">8.0</span>),
        child: <span class="hljs-type">Container</span>(
          width: <span class="hljs-number">80.0</span>,
          height: <span class="hljs-number">80.0</span>,
          color: <span class="hljs-type">Colors</span>.amber,
          child: <span class="hljs-type">Center</span>(
            child: <span class="hljs-type">Text</span>('照片'),
          ),
        ),
    );
  }

}</code></pre><a id="toc250" href="https://jspang.com/detailed?id=45#toc250" class="anchor-fix"><h2>第13节: 展开闭合案例</h2></a>
<p>手机的屏幕本身就很小，所以要合理利用空间，把主要的元素展示出来，次要或者不重要的元素等用户向看的时候再给用户展示。这类操作最常见的交互就是展开和闭合了。这节课我们主要学习一下<code>ExpansionTile</code>组件的使用。</p>
<iframe src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/player(12).html" scrolling="no" border="1" width="100%" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>


<p><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo11.gif" alt="http://blogimages.jspang.com/FlutterDemo11.gif"></p>
<a id="toc351" href="https://jspang.com/detailed?id=45#toc351" class="anchor-fix"><h3>ExpansionTile组件</h3></a>
<p><code>ExpansionTile Widget</code>就是一个可以展开闭合的组件，常用的属性有如下几个。</p>
<ul>
<li>title:闭合时显示的标题，这个部分经常使用<code>Text Widget</code>。</li>
<li>leading:标题左侧图标，多是用来修饰，让界面显得美观。</li>
<li>backgroundColor: 展开时的背景颜色，当然也是有过度动画的，效果非常好。</li>
<li>children: 子元素，是一个数组，可以放入多个元素。</li>
<li>trailing ： 右侧的箭头，你可以自行替换但是我觉的很少替换，因为谷歌已经表现的很完美了。</li>
<li>initiallyExpanded: 初始状态是否展开，为true时，是展开，默认为false，是不展开。</li>
</ul>
<a id="toc352" href="https://jspang.com/detailed?id=45#toc352" class="anchor-fix"><h3>main.dart入口文件</h3></a>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';
<span class="hljs-keyword">import</span> <span class="hljs-symbol">'expansion_tile</span>.dart';

void main() =&gt; runApp(<span class="hljs-type">MyApp</span>());

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">MaterialApp</span>(
      title:<span class="hljs-symbol">'Flutter</span> <span class="hljs-type">Demo</span>',
      theme: <span class="hljs-keyword">new</span> <span class="hljs-type">ThemeData</span>.dark(),
      home:<span class="hljs-type">ExpansionTileDemo</span>()
    );
  }
}</code></pre><a id="toc353" href="https://jspang.com/detailed?id=45#toc353" class="anchor-fix"><h3>expansion_tile.dart 扩展组件</h3></a>
<p>这个文件是我们的主要学习文件，但是并不复杂，就是一个可展开组件。全部代码如下:</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ExpansionTileDemo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">Scaffold</span>(
      appBar: <span class="hljs-type">AppBar</span>(title:<span class="hljs-type">Text</span>(<span class="hljs-symbol">'expansion</span> tile demo')),
      body:<span class="hljs-type">Center</span>(
        child: <span class="hljs-type">ExpansionTile</span>(
          title:<span class="hljs-type">Text</span>(<span class="hljs-symbol">'Expansion</span> <span class="hljs-type">Tile</span>'),
          leading:<span class="hljs-type">Icon</span>(<span class="hljs-type">Icons</span>.ac_unit),
          backgroundColor: <span class="hljs-type">Colors</span>.white12,
          children: &lt;<span class="hljs-type">Widget</span>&gt;[
            <span class="hljs-type">ListTile</span>(
              title:<span class="hljs-type">Text</span>(<span class="hljs-symbol">'list</span> tile'),
              subtitle:<span class="hljs-type">Text</span>(<span class="hljs-symbol">'subtitl</span>e')
            )
          ],
          initiallyExpanded: <span class="hljs-literal">true</span>,
        )
      )
    );
  }
}</code></pre><p>这时候就可以预览了，效果也应该出现了。</p>
<a id="toc254" href="https://jspang.com/detailed?id=45#toc254" class="anchor-fix"><h2>第14节: 展开闭合列表案例</h2></a>
<p>上节课学的只是一个单个的展开闭合组件，你当然可以把这个组件作为List元素，组成一个数组，形成列表。不过Flutter也很贴心的为提供了一个ExpansionPanelList Widget，它可以实现展开闭合的列表功能。</p>
<p>需要注意的是这个列表必须放在可滑动组件中使用，否则会报错。</p>
<iframe src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/player(13).html" scrolling="no" border="1" width="100%" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>


<p><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo12.gif" alt="http://blogimages.jspang.com/FlutterDemo12.gif"></p>
<a id="toc355" href="https://jspang.com/detailed?id=45#toc355" class="anchor-fix"><h3>ExpansionPanelList 常用属性</h3></a>
<ul>
<li>expansionCallback:点击和交互的回掉事件，有两个参数，第一个是触发动作的索引，第二个是布尔类型的触发值。</li>
<li>children:列表的子元素，里边多是一个List数组。</li>
</ul>
<a id="toc356" href="https://jspang.com/detailed?id=45#toc356" class="anchor-fix"><h3>ExpandStateBean 自定义类</h3></a>
<p>为了方便管理制作了一个<code>ExpandStateBean</code>类，里边就是两个状态，一个是是否展开<code>isOpen</code>,另一个索引值。代码如下:</p>
<pre><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ExpandStateBean</span></span>{
  <span class="hljs-keyword">var</span> isOpen;
  <span class="hljs-keyword">var</span> index;
  ExpandStateBean(<span class="hljs-keyword">this</span>.index,<span class="hljs-keyword">this</span>.isOpen);
}</code></pre><a id="toc357" href="https://jspang.com/detailed?id=45#toc357" class="anchor-fix"><h3>expansion_panel_list.dart</h3></a>
<p>这个文件我就直接上代码了，讲解我会在视频里说明，代码中我也进行了详细的注释。</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ExpansionPanelListDemo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  _ExpansionPanelListDemoState createState() =&gt; _ExpansionPanelListDemoState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_ExpansionPanelListDemoState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State&lt;ExpansionPanelListDemo&gt;</span> </span>{
  <span class="hljs-keyword">var</span> currentPanelIndex = <span class="hljs-number">-1</span>;
  <span class="hljs-type">List</span>&lt;int&gt; mList;   <span class="hljs-comment">//组成一个int类型数组，用来控制索引</span>
  <span class="hljs-type">List</span>&lt;<span class="hljs-type">ExpandStateBean</span>&gt; expandStateList;    <span class="hljs-comment">//开展开的状态列表， ExpandStateBean是自定义的类</span>
  <span class="hljs-comment">//构造方法，调用这个类的时候自动执行</span>
  _ExpansionPanelListDemoState(){
    mList = <span class="hljs-keyword">new</span> <span class="hljs-type">List</span>(); 
    expandStateList = <span class="hljs-keyword">new</span> <span class="hljs-type">List</span>();
    <span class="hljs-comment">//便利为两个List进行赋值</span>
    <span class="hljs-keyword">for</span>(int i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">10</span>;i++){
      mList.add(i);
      expandStateList.add(<span class="hljs-type">ExpandStateBean</span>(i,<span class="hljs-literal">false</span>));
    }
  }
   <span class="hljs-comment">//修改展开与闭合的内部方法</span>
  _setCurrentIndex(int index, isExpand){
    setState(() {
          <span class="hljs-comment">//遍历可展开状态列表</span>
          expandStateList.forEach((item){
            <span class="hljs-keyword">if</span>(item.index==index){
              <span class="hljs-comment">//取反，经典取反方法</span>
              item.isOpen = !isExpand;
            }
          });
        });
  }

  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">Scaffold</span>(
      appBar:<span class="hljs-type">AppBar</span>(
        title:<span class="hljs-type">Text</span>(<span class="hljs-string">"expansion panel list"</span>)
      ),
      <span class="hljs-comment">//加入可滚动组件</span>
      body:<span class="hljs-type">SingleChildScrollView</span>(
        child: <span class="hljs-type">ExpansionPanelList</span>(
          <span class="hljs-comment">//交互回掉属性，里边是个匿名函数</span>
          expansionCallback: (index,bol){
            <span class="hljs-comment">//调用内部方法</span>
            _setCurrentIndex(index, bol);
          },
          children: mList.map((index){<span class="hljs-comment">//进行map操作，然后用toList再次组成List</span>
            <span class="hljs-keyword">return</span> <span class="hljs-type">ExpansionPanel</span>(
              headerBuilder: (context,isExpanded){
                <span class="hljs-keyword">return</span> <span class="hljs-type">ListTile</span>(
                  title:<span class="hljs-type">Text</span>(<span class="hljs-symbol">'This</span> is <span class="hljs-type">No</span>. $index')
                );
              },
              body:<span class="hljs-type">ListTile</span>(
                title:<span class="hljs-type">Text</span>(<span class="hljs-symbol">'expansion</span> no.$index')
              ),
              isExpanded: expandStateList[index].isOpen
            );
          }).toList(),
        ),
      )

    );
  }
}
<span class="hljs-comment">//自定义扩展状态类</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ExpandStateBean</span></span>{
  <span class="hljs-keyword">var</span> isOpen;
  <span class="hljs-keyword">var</span> index;
  <span class="hljs-type">ExpandStateBean</span>(<span class="hljs-keyword">this</span>.index,<span class="hljs-keyword">this</span>.isOpen);
}</code></pre><a id="toc258" href="https://jspang.com/detailed?id=45#toc258" class="anchor-fix"><h2>第15节: 贝塞尔曲线切割</h2></a>
<p>现在人们对于网站的美感要求是越来越高了，所以很多布局需要优美的曲线设计。当然最简单的办法是作一个PNG的透明图片，然后外边放一个<code>Container</code>.但其内容如果本身就不是图片，只是容器，这种放入图片的做法会让包体变大。其实我们完全可以使用贝塞尔曲线进行切割。</p>
<iframe src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/player(14).html" scrolling="no" border="1" width="100%" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>

<p><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo13.png" alt="http://blogimages.jspang.com/FlutterDemo13.png"></p>
<a id="toc359" href="https://jspang.com/detailed?id=45#toc359" class="anchor-fix"><h3>去掉DeBug图标</h3></a>
<p>在讲正式内容之前，先回答小伙伴们的一个问题，就是如何去掉DeBug图标。在我们进行编写代码预览时，有一Debug的图标一直在屏幕上，确实不太美观，其实只要语句代码就可以去掉的。</p>
<pre><code> <span class="hljs-attr">debugShowCheckedModeBanner:</span> <span class="hljs-literal">false</span><span class="hljs-string">,</span></code></pre><p>这个代码要配置在主入口文件里，全部代码如下“</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';
<span class="hljs-keyword">import</span> <span class="hljs-symbol">'custom_clipper</span>.dart';

void main() =&gt; runApp(<span class="hljs-type">MyApp</span>());

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">MaterialApp</span>(
      title:<span class="hljs-symbol">'Flutter</span> <span class="hljs-type">Demo</span>',
      debugShowCheckedModeBanner: <span class="hljs-literal">false</span>,
      theme:<span class="hljs-type">ThemeData</span>(
        primarySwatch: <span class="hljs-type">Colors</span>.blue,
      ),
      home:<span class="hljs-type">HomePage</span>()
    );
  }
}</code></pre><a id="toc360" href="https://jspang.com/detailed?id=45#toc360" class="anchor-fix"><h3>ClipPath 路径裁切控件</h3></a>
<p><code>clipPath</code>控件可以把其内部的子控件切割，它有两个主要属性（参数）:</p>
<ul>
<li>child :要切割的元素，可以是容器，图片.....</li>
<li>clipper : 切割的路径，这个要和CustomClipper对象配合使用。</li>
<li></li>
</ul>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HomePage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">Scaffold</span>(
      body:<span class="hljs-type">Column</span>(
        children: &lt;<span class="hljs-type">Widget</span>&gt;[
          <span class="hljs-type">ClipPath</span>(
            clipper:<span class="hljs-type">BottomClipper</span>(),
            child: <span class="hljs-type">Container</span>(
              color:<span class="hljs-type">Colors</span>.deepPurpleAccent,
              height: <span class="hljs-number">200.0</span>,
            ),
          )
        ],
      )
    );
  }
}</code></pre><p>在<code>Scaffold</code>里放置了一个列容器，然后把<code>ClipPath</code>控件放到了里边，<code>ClipPath</code>的子元素是一个容器控件<code>Container</code>。<code>BootomClipper</code>是我们自定义的一个对象，里边主要就是切割的路径。</p>
<a id="toc361" href="https://jspang.com/detailed?id=45#toc361" class="anchor-fix"><h3>CustomClipper 裁切路径</h3></a>
<p>我们主要的贝塞尔曲线路径就写在<code>getClip</code>方法里，它返回一段路径。</p>
<p>一个二阶的贝塞尔曲线是需要控制点和终点的，控制点就像一块磁铁，把直线吸引过去，形成一个完美的弧度，这个弧度就是贝塞尔曲线了。</p>
<p>我们先来熟悉一下裁切路径和贝塞尔曲线，作一个最简单的贝塞尔曲线出来。</p>
<p>全部代码如下：</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HomePage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">Scaffold</span>(
      body:<span class="hljs-type">Column</span>(
        children: &lt;<span class="hljs-type">Widget</span>&gt;[
          <span class="hljs-type">ClipPath</span>(
            clipper:<span class="hljs-type">BottomClipper</span>(),
            child: <span class="hljs-type">Container</span>(
              color:<span class="hljs-type">Colors</span>.deepPurpleAccent,
              height: <span class="hljs-number">200.0</span>,
            ),
          )
        ],
      )
    );
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BottomClipperTest</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">CustomClipper&lt;Path&gt;</span></span>{
  <span class="hljs-meta">@override</span>
    <span class="hljs-type">Path</span> getClip(<span class="hljs-type">Size</span> size) {
      <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> implement getClip</span>
      <span class="hljs-keyword">var</span> path = <span class="hljs-type">Path</span>();
      path.lineTo(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
      path.lineTo(<span class="hljs-number">0</span>, size.height<span class="hljs-number">-30</span>);
      <span class="hljs-keyword">var</span> firstControlPoint =<span class="hljs-type">Offset</span>(size.width/<span class="hljs-number">2</span>,size.height);
      <span class="hljs-keyword">var</span> firstEndPoint = <span class="hljs-type">Offset</span>(size.width,size.height<span class="hljs-number">-30</span>);

      path.quadraticBezierTo(firstControlPoint.dx, firstControlPoint.dy, firstEndPoint.dx, firstEndPoint.dy);

      path.lineTo(size.width, size.height<span class="hljs-number">-30</span>);
      path.lineTo(size.width, <span class="hljs-number">0</span>);

      <span class="hljs-keyword">return</span> path;

    }
    <span class="hljs-meta">@override</span>
      bool shouldReclip(<span class="hljs-type">CustomClipper</span>&lt;<span class="hljs-type">Path</span>&gt; oldClipper) {
        <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> implement shouldReclip</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
      }

}</code></pre><a id="toc262" href="https://jspang.com/detailed?id=45#toc262" class="anchor-fix"><h2>第16节: 波浪形式的贝塞尔曲线</h2></a>
<p>上节课已经对知识点有了了解，这节课我们主要就是加大一些难度，作个更复杂的贝塞尔裁切出来。</p>
<iframe src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/player(15).html" scrolling="no" border="1" width="100%" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>

<p><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo14.png" alt="http://blogimages.jspang.com/FlutterDemo14.png"></p>
<p>这节课主要改造上节课的代码，作一个波浪形的贝塞尔裁切。波浪形式的只要把裁切变成两个对称的贝塞尔曲线就可以实现了。代码如下：（具体方法视频）</p>
<pre><code><span class="hljs-keyword">class</span> BottomClipper extends CustomClipper&lt;Path&gt;{
  @override
    Path get<span class="hljs-constructor">Clip(Size <span class="hljs-params">size</span>)</span> {
      <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> implement getClip</span>
      var path = <span class="hljs-constructor">Path()</span>;
      path.line<span class="hljs-constructor">To(0, <span class="hljs-params">size</span>.<span class="hljs-params">height</span>-20)</span>;
      var firstControlPoint =<span class="hljs-constructor">Offset(<span class="hljs-params">size</span>.<span class="hljs-params">width</span><span class="hljs-operator">/</span>4,<span class="hljs-params">size</span>.<span class="hljs-params">height</span>)</span>;
      var firstEndPoint = <span class="hljs-constructor">Offset(<span class="hljs-params">size</span>.<span class="hljs-params">width</span><span class="hljs-operator">/</span>2.25,<span class="hljs-params">size</span>.<span class="hljs-params">height</span>-30)</span>;

      path.quadratic<span class="hljs-constructor">BezierTo(<span class="hljs-params">firstControlPoint</span>.<span class="hljs-params">dx</span>, <span class="hljs-params">firstControlPoint</span>.<span class="hljs-params">dy</span>, <span class="hljs-params">firstEndPoint</span>.<span class="hljs-params">dx</span>, <span class="hljs-params">firstEndPoint</span>.<span class="hljs-params">dy</span>)</span>;

      var secondControlPoint = <span class="hljs-constructor">Offset(<span class="hljs-params">size</span>.<span class="hljs-params">width</span><span class="hljs-operator">/</span>4<span class="hljs-operator">*</span>3,<span class="hljs-params">size</span>.<span class="hljs-params">height</span>-80)</span>;
      var secondEndPoint = <span class="hljs-constructor">Offset(<span class="hljs-params">size</span>.<span class="hljs-params">width</span>,<span class="hljs-params">size</span>.<span class="hljs-params">height</span>-40)</span>;

      path.quadratic<span class="hljs-constructor">BezierTo(<span class="hljs-params">secondControlPoint</span>.<span class="hljs-params">dx</span>, <span class="hljs-params">secondControlPoint</span>.<span class="hljs-params">dy</span>, <span class="hljs-params">secondEndPoint</span>.<span class="hljs-params">dx</span>, <span class="hljs-params">secondEndPoint</span>.<span class="hljs-params">dy</span>)</span>;

      path.line<span class="hljs-constructor">To(<span class="hljs-params">size</span>.<span class="hljs-params">width</span>, <span class="hljs-params">size</span>.<span class="hljs-params">height</span>-40)</span>;
      path.line<span class="hljs-constructor">To(<span class="hljs-params">size</span>.<span class="hljs-params">width</span>, 0)</span>;

      return path;

    }
    @override
      <span class="hljs-built_in">bool</span> should<span class="hljs-constructor">Reclip(CustomClipper&lt;Path&gt; <span class="hljs-params">oldClipper</span>)</span> {
        <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> implement shouldReclip</span>
        return <span class="hljs-literal">false</span>;
      }

}</code></pre><p>这两节课的主要内容就是如何裁切和贝塞尔曲线的原理，其实裁切还有圆形裁切、圆角裁切和矩形裁切，因为都比较容易，我就不再讲解了。感兴趣的小伙伴可以自学一下。</p>
<a id="toc263" href="https://jspang.com/detailed?id=45#toc263" class="anchor-fix"><h2>第17节：打开应用的闪屏动画案例</h2></a>
<p>打开一个APP，经常会看到精美的启动页，这种启动页也称为闪屏动画。它是从无到有有一个透明度的渐变动画的。图像展示完事后，才跳转到用户可操作的页面。这节课主要学习一下闪屏动画的制作。</p>
<iframe src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/player(16).html" scrolling="no" border="1" width="100%" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>

<p><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo15.gif" alt="http://blogimages.jspang.com/FlutterDemo15.gif"></p>
<a id="toc364" href="https://jspang.com/detailed?id=45#toc364" class="anchor-fix"><h3>AnimationController</h3></a>
<p><code>AnimationController</code>是<code>Animation</code>的一个子类，它可以控制<code>Animation</code>, 也就是说它是来控制动画的，比如说控制动画的执行时间。</p>
<p>我们这里有了两个参数 ：</p>
<ul>
<li><code>vsync:this</code> :垂直同步设置，使用this就可以了。 </li>
<li><code>duration</code> : 动画持续时间，这个可以使用<code>seconds</code>秒，也可以使用<code>milliseconds</code>毫秒，工作中经常使用毫秒，因为秒还是太粗糙了。</li>
</ul>
<p>来看一段代码，这段代码就是控制动画的一个典型应用。</p>
<pre><code> _controller = <span class="hljs-constructor">AnimationController(<span class="hljs-params">vsync</span>:<span class="hljs-params">this</span>,<span class="hljs-params">duration</span>:Duration(<span class="hljs-params">milliseconds</span>:3000)</span>);
_animation = <span class="hljs-constructor">Tween(<span class="hljs-params">begin</span>: 0.0,<span class="hljs-params">end</span>:1.0)</span>.animate(_controller);</code></pre><p>这段代码的意思是，设置一个动画控制器，这个动画控制器控制动画执行时间是3000毫秒。然后我们设置了一段动画，动画使用了动画控制器的约定。</p>
<a id="toc365" href="https://jspang.com/detailed?id=45#toc365" class="anchor-fix"><h3>animation.addStatusListener</h3></a>
<p><code>animation.addStatusListener</code>动画事件监听器，它可以监听到动画的执行状态，我们这里只监听动画是否结束，如果结束则执行页面跳转动作。</p>
<pre><code>_animation.addStatusListener((status){
  <span class="hljs-keyword">if</span>(status == AnimationStatus.completed){
    Navigator.<span class="hljs-keyword">of</span>(context).pushAndRemoveUntil(
      MaterialPageRoute(builder: <span class="hljs-function"><span class="hljs-params">(context)</span>=&gt;</span>MyHomePage()), 
      <span class="hljs-function"><span class="hljs-params">(route)</span>=&gt;</span> route==<span class="hljs-literal">null</span>);
  }
});</code></pre><ul>
<li><code>AnimationStatus.completed</code>:表示动画已经执行完毕。</li>
<li><code>pushAndRemoveUntil</code>:跳转页面，并销毁当前控件。</li>
</ul>
<a id="toc366" href="https://jspang.com/detailed?id=45#toc366" class="anchor-fix"><h3>案例重要代码</h3></a>
<p>我们会了上边的知识点，做出案例就没什么问题了。我把复杂的代码都作了注释，小伙伴们应该可以看懂。</p>
<p>main.dart文件</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';
<span class="hljs-keyword">import</span> <span class="hljs-symbol">'splash_screen</span>.dart';

void main() =&gt; runApp(<span class="hljs-type">MyApp</span>());

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">MaterialApp</span>(
      title: <span class="hljs-symbol">'Flutter</span> <span class="hljs-type">Demo</span>',
      theme: <span class="hljs-type">ThemeData</span>(
        primarySwatch:<span class="hljs-type">Colors</span>.blue,
      ),
      home:<span class="hljs-type">SplashScreen</span>()
    );
  }
}</code></pre><p>splash_screen.dart文件</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';
<span class="hljs-keyword">import</span> <span class="hljs-symbol">'home_page</span>.dart';

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SplashScreen</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  _SplashScreenState createState() =&gt; _SplashScreenState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_SplashScreenState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State&lt;SplashScreen&gt;</span> <span class="hljs-keyword">with</span> <span class="hljs-title">SingleTickerProviderStateMixin</span> </span>{

  <span class="hljs-type">AnimationController</span> _controller;
  <span class="hljs-type">Animation</span> _animation;

  void initState() { 
    <span class="hljs-keyword">super</span>.initState();
    _controller = <span class="hljs-type">AnimationController</span>(vsync:<span class="hljs-keyword">this</span>,duration:<span class="hljs-type">Duration</span>(milliseconds:<span class="hljs-number">3000</span>));
    _animation = <span class="hljs-type">Tween</span>(begin: <span class="hljs-number">0.0</span>,end:<span class="hljs-number">1.0</span>).animate(_controller);


    <span class="hljs-comment">/*动画事件监听器，
    它可以监听到动画的执行状态，
    我们这里只监听动画是否结束，
    如果结束则执行页面跳转动作。 */</span>
    _animation.addStatusListener((status){
      <span class="hljs-keyword">if</span>(status == <span class="hljs-type">AnimationStatus</span>.completed){
        <span class="hljs-type">Navigator</span>.of(context).pushAndRemoveUntil(
          <span class="hljs-type">MaterialPageRoute</span>(builder: (context)=&gt;<span class="hljs-type">MyHomePage</span>()), 
          (route)=&gt; route==<span class="hljs-literal">null</span>);
      }
    });
    <span class="hljs-comment">//播放动画</span>
    _controller.forward();
  }

  <span class="hljs-meta">@override</span>
  void dispose() {
    _controller.dispose();
    <span class="hljs-keyword">super</span>.dispose();
  }


  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">FadeTransition</span>( <span class="hljs-comment">//透明度动画组件</span>
      opacity: _animation,  <span class="hljs-comment">//执行动画</span>
      child: <span class="hljs-type">Image</span>.network(  <span class="hljs-comment">//网络图片</span>
        <span class="hljs-symbol">'https</span>:<span class="hljs-comment">//timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1546851657199&amp;di=fdd278c2029f7826790191d59279dbbe&amp;imgtype=0&amp;src=http%3A%2F%2Fimg.zcool.cn%2Fcommunity%2F0112cb554438090000019ae93094f1.jpg%401280w_1l_2o_100sh.jpg',</span>
        scale: <span class="hljs-number">2.0</span>,  <span class="hljs-comment">//进行缩放</span>
        fit:<span class="hljs-type">BoxFit</span>.cover  <span class="hljs-comment">// 充满父容器</span>
      ),
    );
  }
}</code></pre><p>home_page.dart文件</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyHomePage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">Scaffold</span>(
      appBar: <span class="hljs-type">AppBar</span>(title:<span class="hljs-type">Text</span>('首页')),
      body:<span class="hljs-type">Center</span>(
        child: <span class="hljs-type">Text</span>('我是首页')
      )
    );
  }
}</code></pre><p>希望小伙伴都能练习一下，做出这个动态图片的效果。</p>
<a id="toc267" href="https://jspang.com/detailed?id=45#toc267" class="anchor-fix"><h2>第18节：右滑返回上一页案例</h2></a>
<p>在苹果手机上有一种才操作叫做右滑返回上一页，一些不错的应用都有类似的操作，随着苹果手机越来越多，这种操作开始普遍开来，在安卓手机上也开始使用。这节就来学习一下如何实现这种右滑返回上一页的操作。</p>
<iframe src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/player(17).html" scrolling="no" border="1" width="100%" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>


<p><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo16.gif" alt="http://blogimages.jspang.com/FlutterDemo16.gif"></p>
<a id="toc368" href="https://jspang.com/detailed?id=45#toc368" class="anchor-fix"><h3>Cupertino UI</h3></a>
<p>其实早都知道Flutter有两套UI模板，一套是<code>material</code>,另一套就是<code>Cupertino</code>。<code>Cupertino</code>主要针对的的就是IOS系统的UI，所以用的右滑返回上一级就是在这个<code>Cupertino</code>里。</p>
<p><strong>Cupertino的引入方法</strong></p>
<p>直接使用import引入就可以了，代码如下:</p>
<pre><code><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> 'package:flutter/cupertino.dart';</span></code></pre><p>引入了<code>cupertino</code>的包之后，就可以使用皮肤和交互效果的特性了。要用的右滑返回上一页也是皮肤的交互特性，直接使用就可以了。</p>
<a id="toc369" href="https://jspang.com/detailed?id=45#toc369" class="anchor-fix"><h3>CupertinoPageScaffold</h3></a>
<p>这个和以前使用<code>material</code>的<code>Scaffold</code>类似，不过他里边的参数是<code>child</code>，例如下面的代码.</p>
<pre><code>return CupertinoPageScaffold(
  <span class="hljs-name">child</span>: Center(
    <span class="hljs-name">child</span>: Container(
      <span class="hljs-name">height</span>: <span class="hljs-number">100.0</span>,
      width:<span class="hljs-number">100.0</span>,
      color: CupertinoColors.activeBlue,
      child: CupertinoButton(
        <span class="hljs-name">child</span>: Icon(<span class="hljs-name">CupertinoIcons</span>.add),
        onPressed: (){
          Navigator.of(<span class="hljs-name">context</span>).push(
            <span class="hljs-name">CupertinoPageRoute</span>(<span class="hljs-name">builder</span>: (<span class="hljs-name">BuildContext</span> context){
              return RightBackDemo()<span class="hljs-comment">;</span>
            })
          )<span class="hljs-comment">;</span>
        },
      ),
    ),
  ),
)<span class="hljs-comment">;</span></code></pre><p>在<code>Cupertino</code>下也有很多<code>Widget</code>控件，他们都是以<code>Cupertino</code>开头的，这就让我们很好区分，当然两种皮肤是可以进行混用的。</p>
<a id="toc370" href="https://jspang.com/detailed?id=45#toc370" class="anchor-fix"><h3>整个案例代码</h3></a>
<p>这个案例就两个主要文件，<code>main.dart</code>和<code>right_back_demo.dart</code>，具体解释可以看视频，代码如下:</p>
<p><strong>main.dart文件代码</strong></p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';
<span class="hljs-keyword">import</span> <span class="hljs-symbol">'right_back_demo</span>.dart';

void main()=&gt;runApp(<span class="hljs-type">MyApp</span>());

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">MaterialApp</span>(
      title:<span class="hljs-symbol">'Flutter</span> <span class="hljs-type">Demo</span>',
      theme:<span class="hljs-type">ThemeData</span>(primarySwatch: <span class="hljs-type">Colors</span>.blue),
      home: <span class="hljs-type">RightBackDemo</span>(),
    );
  }
}
</code></pre><p><strong>right_back_demo。dart文件</strong></p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/cupertino.dart'; 

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RightBackDemo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">CupertinoPageScaffold</span>(
      child: <span class="hljs-type">Center</span>(
        child: <span class="hljs-type">Container</span>(
          height: <span class="hljs-number">100.0</span>,
          width:<span class="hljs-number">100.0</span>,
          color: <span class="hljs-type">CupertinoColors</span>.activeBlue,
          child: <span class="hljs-type">CupertinoButton</span>(
            child: <span class="hljs-type">Icon</span>(<span class="hljs-type">CupertinoIcons</span>.add),
            onPressed: (){
              <span class="hljs-type">Navigator</span>.of(context).push(
                <span class="hljs-type">CupertinoPageRoute</span>(builder: (<span class="hljs-type">BuildContext</span> context){
                  <span class="hljs-keyword">return</span> <span class="hljs-type">RightBackDemo</span>();
                })
              );
            },
          ),
        ),
      ),
    );
  }
}</code></pre><p>其实只要使用<code>CupertinoPageRoute</code>打开的子页面，就可以实现右滑返回上一级。所以整个案例并不难。希望小伙伴们有所收获。</p>
<a id="toc271" href="https://jspang.com/detailed?id=45#toc271" class="anchor-fix"><h2>第19节：ToolTip控件实例</h2></a>
<p>轻提示的效果在应用中式少不了的，其实Flutter已经准备好了轻提示控件，这就是<code>toolTip</code>。 </p>
<iframe src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/player(18).html" scrolling="no" border="1" width="100%" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>


<p><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo17.gif" alt="http://blogimages.jspang.com/FlutterDemo17.gif"></p>
<a id="toc372" href="https://jspang.com/detailed?id=45#toc372" class="anchor-fix"><h3>轻量级操作提示</h3></a>
<p>其实Flutter中有很多提示控件,比如<code>Dialog</code>、<code>Snackbar</code>和<code>BottomSheet</code>这些操作都是比较重量级的，存在屏幕上的时间较长或者会直接打断用户的操作。</p>
<p>当然我并不是说这些控件不好，根据需求的不同，要有多种选择，所以才会给大家讲一下轻量级操作提示<code>Tooltip</code></p>
<p><code>Tooltip</code>是继承于<code>StatefulWidget</code>的一个Widget，它并不需要调出方法，当用户长按被<code>Tooltip</code>包裹的Widget时，会自动弹出相应的操作提示。</p>
<a id="toc373" href="https://jspang.com/detailed?id=45#toc373" class="anchor-fix"><h3>main.dart文件</h3></a>
<p>这节课就用最简单代码给大家做一个轻量级提示案例出来。入口文件代码如下：</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';
<span class="hljs-keyword">import</span> <span class="hljs-symbol">'tool_tips_demo</span>.dart';

void main()=&gt; runApp(<span class="hljs-type">MyApp</span>());

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">MaterialApp</span>(
      title:<span class="hljs-symbol">'Flutter</span> <span class="hljs-type">Demo</span>',
      theme:<span class="hljs-type">ThemeData</span>.light(),
      home: <span class="hljs-type">ToolTipDemo</span>(),
    );
  }
}</code></pre><a id="toc374" href="https://jspang.com/detailed?id=45#toc374" class="anchor-fix"><h3>tool_tips_demo.dart文件</h3></a>
<p>这个文件主要的用途就是承载轻提示控件，代码如下：</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ToolTipDemo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">Scaffold</span>(
      appBar: <span class="hljs-type">AppBar</span>(title:<span class="hljs-type">Text</span>(<span class="hljs-symbol">'tool</span> tips demo')),
      body:<span class="hljs-type">Center</span>(
        child: <span class="hljs-type">Tooltip</span>(
          message: '不要碰我，我怕痒',
          child: <span class="hljs-type">Icon</span>(<span class="hljs-type">Icons</span>.all_inclusive),
        ),
      )
    );
  }
}
</code></pre><a id="toc275" href="https://jspang.com/detailed?id=45#toc275" class="anchor-fix"><h2>20节Draggable控件实例</h2></a>
<p>Flutter提供了强大的拖拽控件，可以灵活定制，并且非常简单。这节课就学习一下Flutter拖拽控件，并根据学到的知识作一个拖拽案例。</p>
<p>这节课也是我们这个文章的最后一节，一共讲了20节，这20节算是一个Flutter进阶，是入门和实战的一个桥梁，在课程中我尽量靠近了平时工作的开发环境，无论hi编辑工具还是区分模块，都以实际工作为出发点，我相信只要你用心学习了这20节，一定是有所收获的。</p>
<iframe src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/player(19).html" scrolling="no" border="1" width="100%" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>

<p><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/FlutterDemo18.gif" alt="http://blogimages.jspang.com/FlutterDemo18.gif"></p>
<a id="toc376" href="https://jspang.com/detailed?id=45#toc376" class="anchor-fix"><h3>Draggable Widget</h3></a>
<p><code>Draggable</code>控件负责就是拖拽，父层使用了<code>Draggable</code>，它的子元素就是可以拖动的，子元素可以实容器，可以是图片。用起来非常的灵活。</p>
<p>参数说明：</p>
<ul>
<li><code>data</code>: 是要传递的参数，在<code>DragTarget</code>里，会接受到这个参数。当然要在拖拽控件推拽到<code>DragTarget</code>的时候。</li>
<li><code>child</code>:在这里放置你要推拽的元素，可以是容器，也可以是图片和文字。</li>
<li><code>feedback</code>: 常用于设置推拽元素时的样子，在案例中当推拽的时候，我们把它的颜色透明度变成了50%。当然你还可以改变它的大小。</li>
<li><code>onDraggableCanceled</code>:是当松开时的相应事件，经常用来改变推拽时到达的位置，改变时用<code>setState</code>来进行。</li>
</ul>
<p>代码:</p>
<pre><code>Draggable(
  <span class="hljs-name">data</span><span class="hljs-symbol">:widget</span>.widgetColor,
  child: Container(
    <span class="hljs-name">width</span>: <span class="hljs-number">100</span>,
    height: <span class="hljs-number">100</span>,
    color<span class="hljs-symbol">:widget</span>.widgetColor,
  ),
  feedback<span class="hljs-symbol">:Container</span>(
    <span class="hljs-name">width</span>: <span class="hljs-number">100.0</span>,
    height: <span class="hljs-number">100.0</span>,
    color: widget.widgetColor.withOpacity(<span class="hljs-number">0.5</span>),
  ),
  onDraggableCanceled: (<span class="hljs-name">Velocity</span> velocity, Offset offset){
    setState(() {
      this.offset = offset<span class="hljs-comment">;</span>
    })<span class="hljs-comment">;</span>
  },</code></pre><a id="toc377" href="https://jspang.com/detailed?id=45#toc377" class="anchor-fix"><h3>DragTarget Widget</h3></a>
<p><code>DragTarget</code>是用来接收拖拽事件的控件，当把<code>Draggable</code>放到<code>DragTarget</code>里时，他会接收<code>Draggable</code>传递过来的值，然后用生成器改变组件状态。</p>
<ul>
<li>onAccept:当推拽到控件里时触发，经常在这里得到传递过来的值。</li>
<li>builder: 构造器，里边进行修改child值。</li>
</ul>
<pre><code>DragTarget(onAccept: (Color <span class="hljs-built_in">color</span>) {
  _draggableColor = <span class="hljs-built_in">color</span>;
}, builder: (<span class="hljs-built_in">context</span>, candidateData, rejectedData) {
  <span class="hljs-built_in">return</span> Container(
    <span class="hljs-built_in">width</span>: <span class="hljs-number">200.0</span>,
    <span class="hljs-built_in">height</span>: <span class="hljs-number">200.0</span>,
    <span class="hljs-built_in">color</span>: _draggableColor,
  );
}),
</code></pre><a id="toc378" href="https://jspang.com/detailed?id=45#toc378" class="anchor-fix"><h3>实例代码DEMO</h3></a>
<p>main.dart 文件：</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';
<span class="hljs-keyword">import</span> <span class="hljs-symbol">'draggable_demo</span>.dart';

void main() =&gt; runApp(<span class="hljs-keyword">new</span> <span class="hljs-type">MyApp</span>());

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">MaterialApp</span>(
      title:<span class="hljs-symbol">'Flutter</span> <span class="hljs-type">Demo</span>',
      theme:<span class="hljs-type">ThemeData</span>(
        primarySwatch: <span class="hljs-type">Colors</span>.blue
      ),
      home:<span class="hljs-type">DraggableDemo</span>()
    );
  }
}</code></pre><p>draggable_demo.dart 文件</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';

<span class="hljs-keyword">import</span> <span class="hljs-symbol">'draggable_widget</span>.dart';

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DraggableDemo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  _DraggableDemoState createState() =&gt; _DraggableDemoState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_DraggableDemoState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State&lt;DraggableDemo&gt;</span> </span>{
  <span class="hljs-type">Color</span> _draggableColor = <span class="hljs-type">Colors</span>.grey;

  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">Scaffold</span>(
        body: <span class="hljs-type">Stack</span>(
      children: &lt;<span class="hljs-type">Widget</span>&gt;[
        <span class="hljs-type">DraggableWidget</span>(
          offset: <span class="hljs-type">Offset</span>(<span class="hljs-number">80.0</span>, <span class="hljs-number">80.0</span>),
          widgetColor: <span class="hljs-type">Colors</span>.tealAccent,
        ),
        <span class="hljs-type">DraggableWidget</span>(
          offset: <span class="hljs-type">Offset</span>(<span class="hljs-number">180.0</span>, <span class="hljs-number">80.0</span>),
          widgetColor: <span class="hljs-type">Colors</span>.redAccent,
        ),
        <span class="hljs-type">Center</span>(
          child: <span class="hljs-type">DragTarget</span>(onAccept: (<span class="hljs-type">Color</span> color) {
            _draggableColor = color;
          }, builder: (context, candidateData, rejectedData) {
            <span class="hljs-keyword">return</span> <span class="hljs-type">Container</span>(
              width: <span class="hljs-number">200.0</span>,
              height: <span class="hljs-number">200.0</span>,
              color: _draggableColor,
            );
          }),
        )
      ],
    ));
  }
}</code></pre><p>draggable_widget.dart 文件</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DraggableWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-type">Offset</span> offset;
  <span class="hljs-keyword">final</span> <span class="hljs-type">Color</span> widgetColor;
  const <span class="hljs-type">DraggableWidget</span>({<span class="hljs-type">Key</span> key, <span class="hljs-keyword">this</span>.offset, <span class="hljs-keyword">this</span>.widgetColor}):<span class="hljs-keyword">super</span>(key:key);
  _DraggableWidgetState createState() =&gt; _DraggableWidgetState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_DraggableWidgetState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State&lt;DraggableWidget&gt;</span> </span>{
  <span class="hljs-type">Offset</span> offset = <span class="hljs-type">Offset</span>(<span class="hljs-number">0.0</span>,<span class="hljs-number">0.0</span>);
  <span class="hljs-meta">@override</span>
  void initState() {
    <span class="hljs-keyword">super</span>.initState();
    offset = widget.offset;
  }

  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
   <span class="hljs-keyword">return</span> <span class="hljs-type">Positioned</span>(
     left: offset.dx,
     top:offset.dy,
     child: <span class="hljs-type">Draggable</span>(
       data:widget.widgetColor,
       child: <span class="hljs-type">Container</span>(
         width: <span class="hljs-number">100</span>,
         height: <span class="hljs-number">100</span>,
         color:widget.widgetColor,
       ),
       feedback:<span class="hljs-type">Container</span>(
         width: <span class="hljs-number">100.0</span>,
         height: <span class="hljs-number">100.0</span>,
         color: widget.widgetColor.withOpacity(<span class="hljs-number">0.5</span>),
       ),
       onDraggableCanceled: (<span class="hljs-type">Velocity</span> velocity, <span class="hljs-type">Offset</span> offset){
         setState(() {
            <span class="hljs-keyword">this</span>.offset = offset;
         });
       },
     ),
   );
  }
}</code></pre><p>这个案例做完，我们这篇文章就算结束了，我也希望你能有所收获。但是看一遍肯定什么都学不会，关键的是自己动手作一下，才可以有所收获。我在文章和课程中反复强调，希望小伙伴们真的能学会。</p>
</div><div class="comment"><div class="no-comment">对不起，该文章暂时不支持留言。</div><div class="comment-list"><div class="ant-list ant-list-vertical ant-list-split"><div class="ant-list-header"><div class="list-header">最新留言</div></div><div class="ant-spin-nested-loading"><div class="ant-spin-container"><div class="ant-list-empty-text"><div class="ant-empty ant-empty-normal"><div class="ant-empty-image"><svg width="64" height="41" viewBox="0 0 64 41" xmlns="http://www.w3.org/2000/svg"><g transform="translate(0 1)" fill="none" fill-rule="evenodd"><ellipse fill="#F5F5F5" cx="32" cy="33" rx="32" ry="7"></ellipse><g fill-rule="nonzero" stroke="#D9D9D9"><path d="M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"></path><path d="M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z" fill="#FAFAFA"></path></g></g></svg></div><p class="ant-empty-description">No Data</p></div></div></div></div></div></div></div></div></div></div><div class="ant-col comm-right ant-col-xs-0 ant-col-sm-0 ant-col-md-6"><div class="author-div comm-box"><div> <span style="width:100px;height:100px;line-height:100px;font-size:18px" class="ant-avatar ant-avatar-circle ant-avatar-image"><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/blogtouxiang1.jpg"></span></div><div class="author-introduction"><div class="author-name">技术胖</div><div>专注于WEB和移动前端开发</div><div class="author-tag"><span class="ant-tag ant-tag-magenta">光头Coder</span><span class="ant-tag ant-tag-green">12年经验</span><span class="ant-tag ant-tag-geekblue">业余讲师</span><span class="ant-tag ant-tag-blue">免费视频<span>620</span> 集</span><span class="ant-tag ant-tag-cyan">被访问<span>582243</span>次</span></div><div class="ant-divider ant-divider-horizontal ant-divider-with-text-center" role="separator"><span class="ant-divider-inner-text">社交账号</span></div><a href="https://space.bilibili.com/165659472" target="_blank"><span style="width:28px;height:28px;line-height:28px;font-size:18px" class="ant-avatar account ant-avatar-circle ant-avatar-image"><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/bilibiliIcon1.png"></span></a><a href="https://github.com/shenghy" target="_blank"><span style="width:28px;height:28px;line-height:28px;font-size:14px" class="ant-avatar account ant-avatar-circle ant-avatar-icon"><i aria-label="icon: github" class="anticon anticon-github"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="github" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0 1 38.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"></path></svg></i></span></a><span style="width:28px;height:28px;line-height:28px;font-size:14px" class="ant-avatar account ant-avatar-circle ant-avatar-icon"><i aria-label="icon: qq" class="anticon anticon-qq"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="qq" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M824.8 613.2c-16-51.4-34.4-94.6-62.7-165.3C766.5 262.2 689.3 112 511.5 112 331.7 112 256.2 265.2 261 447.9c-28.4 70.8-46.7 113.7-62.7 165.3-34 109.5-23 154.8-14.6 155.8 18 2.2 70.1-82.4 70.1-82.4 0 49 25.2 112.9 79.8 159-26.4 8.1-85.7 29.9-71.6 53.8 11.4 19.3 196.2 12.3 249.5 6.3 53.3 6 238.1 13 249.5-6.3 14.1-23.8-45.3-45.7-71.6-53.8 54.6-46.2 79.8-110.1 79.8-159 0 0 52.1 84.6 70.1 82.4 8.5-1.1 19.5-46.4-14.5-155.8z"></path></svg></i></span><span style="width:28px;height:28px;line-height:28px;font-size:14px" class="ant-avatar account ant-avatar-circle ant-avatar-icon"><i aria-label="icon: wechat" class="anticon anticon-wechat"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="wechat" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M690.1 377.4c5.9 0 11.8.2 17.6.5-24.4-128.7-158.3-227.1-319.9-227.1C209 150.8 64 271.4 64 420.2c0 81.1 43.6 154.2 111.9 203.6a21.5 21.5 0 0 1 9.1 17.6c0 2.4-.5 4.6-1.1 6.9-5.5 20.3-14.2 52.8-14.6 54.3-.7 2.6-1.7 5.2-1.7 7.9 0 5.9 4.8 10.8 10.8 10.8 2.3 0 4.2-.9 6.2-2l70.9-40.9c5.3-3.1 11-5 17.2-5 3.2 0 6.4.5 9.5 1.4 33.1 9.5 68.8 14.8 105.7 14.8 6 0 11.9-.1 17.8-.4-7.1-21-10.9-43.1-10.9-66 0-135.8 132.2-245.8 295.3-245.8zm-194.3-86.5c23.8 0 43.2 19.3 43.2 43.1s-19.3 43.1-43.2 43.1c-23.8 0-43.2-19.3-43.2-43.1s19.4-43.1 43.2-43.1zm-215.9 86.2c-23.8 0-43.2-19.3-43.2-43.1s19.3-43.1 43.2-43.1 43.2 19.3 43.2 43.1-19.4 43.1-43.2 43.1zm586.8 415.6c56.9-41.2 93.2-102 93.2-169.7 0-124-120.8-224.5-269.9-224.5-149 0-269.9 100.5-269.9 224.5S540.9 847.5 690 847.5c30.8 0 60.6-4.4 88.1-12.3 2.6-.8 5.2-1.2 7.9-1.2 5.2 0 9.9 1.6 14.3 4.1l59.1 34c1.7 1 3.3 1.7 5.2 1.7a9 9 0 0 0 6.4-2.6 9 9 0 0 0 2.6-6.4c0-2.2-.9-4.4-1.4-6.6-.3-1.2-7.6-28.3-12.2-45.3-.5-1.9-.9-3.8-.9-5.7.1-5.9 3.1-11.2 7.6-14.5zM600.2 587.2c-19.9 0-36-16.1-36-35.9 0-19.8 16.1-35.9 36-35.9s36 16.1 36 35.9c0 19.8-16.2 35.9-36 35.9zm179.9 0c-19.9 0-36-16.1-36-35.9 0-19.8 16.1-35.9 36-35.9s36 16.1 36 35.9a36.08 36.08 0 0 1-36 35.9z"></path></svg></i></span></div></div><div class="ad-div comm-box"><div><a href="http://www.zhufengpeixun.cn/main/course/index.html?ref=jsp" target="_blank"><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/WechatIMG12.jpeg" width="100%"></a></div><div><a href="https://juejin.im/book/5da96626e51d4524ba0fd237/" target="_blank"><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/shensanyuan.jpg" width="100%"></a></div></div><div class="comm-box rightmi-div"><div class="ant-tabs ant-tabs-top ant-tabs-line"><div role="tablist" class="ant-tabs-bar ant-tabs-top-bar" tabindex="0"><div class="ant-tabs-nav-container"><span unselectable="unselectable" class="ant-tabs-tab-prev ant-tabs-tab-btn-disabled"><span class="ant-tabs-tab-prev-icon"><i aria-label="icon: left" class="anticon anticon-left ant-tabs-tab-prev-icon-target"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="left" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg></i></span></span><span unselectable="unselectable" class="ant-tabs-tab-next ant-tabs-tab-btn-disabled"><span class="ant-tabs-tab-next-icon"><i aria-label="icon: right" class="anticon anticon-right ant-tabs-tab-next-icon-target"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="right" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"></path></svg></i></span></span><div class="ant-tabs-nav-wrap"><div class="ant-tabs-nav-scroll"><div class="ant-tabs-nav ant-tabs-nav-animated"><div><div role="tab" aria-disabled="false" aria-selected="true" class="ant-tabs-tab-active ant-tabs-tab">密圈</div><div role="tab" aria-disabled="false" aria-selected="false" class=" ant-tabs-tab">公号</div><div role="tab" aria-disabled="false" aria-selected="false" class=" ant-tabs-tab">QQ群</div></div><div class="ant-tabs-ink-bar ant-tabs-ink-bar-animated" style="display: block; transform: translate3d(0px, 0px, 0px); width: 60px;"></div></div></div></div></div></div><div tabindex="0" style="width:0;height:0;overflow:hidden;position:absolute" role="presentation"></div><div class="ant-tabs-content ant-tabs-content-animated ant-tabs-top-content" style="margin-left:0%"><div role="tabpanel" aria-hidden="false" class="ant-tabs-tabpane ant-tabs-tabpane-active"><div tabindex="0" style="width:0;height:0;overflow:hidden;position:absolute" role="presentation"></div><div class="miquan-img"><img src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/zhishixingqiu.png"></div><div class="miquan-price"><i aria-label="icon: money-collect" class="anticon anticon-money-collect"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="money-collect" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M911.5 700.7a8 8 0 0 0-10.3-4.8L840 718.2V180c0-37.6-30.4-68-68-68H252c-37.6 0-68 30.4-68 68v538.2l-61.3-22.3c-.9-.3-1.8-.5-2.7-.5-4.4 0-8 3.6-8 8V763c0 3.3 2.1 6.3 5.3 7.5L501 910.1c7.1 2.6 14.8 2.6 21.9 0l383.8-139.5c3.2-1.2 5.3-4.2 5.3-7.5v-59.6c0-1-.2-1.9-.5-2.8zM512 837.5l-256-93.1V184h512v560.4l-256 93.1zM660.6 312h-54.5c-3 0-5.8 1.7-7.1 4.4l-84.7 168.8H511l-84.7-168.8a8 8 0 0 0-7.1-4.4h-55.7c-1.3 0-2.6.3-3.8 1-3.9 2.1-5.3 7-3.2 10.8l103.9 191.6h-57c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76v39h-76c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76V704c0 4.4 3.6 8 8 8h49.9c4.4 0 8-3.6 8-8v-63.5h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8h-76.3v-39h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8H564l103.7-191.6c.6-1.2 1-2.5 1-3.8-.1-4.3-3.7-7.9-8.1-7.9z"></path></svg></i> 只要50元/年  得4项福利</div><div class="miquan-text"><p><i aria-label="icon: check-circle" class="anticon anticon-check-circle"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="check-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path fill="#1890ff" d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"></path><path fill="#e6f7ff" d="M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm193.4 225.7l-210.6 292a31.8 31.8 0 0 1-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.3 0 19.9 5 25.9 13.3l71.2 98.8 157.2-218c6-8.4 15.7-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.4 12.7z"></path><path fill="#1890ff" d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0 0 51.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></i> 视频离线高清版下载-400集</p><p><i aria-label="icon: check-circle" class="anticon anticon-check-circle"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="check-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path fill="#1890ff" d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"></path><path fill="#e6f7ff" d="M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm193.4 225.7l-210.6 292a31.8 31.8 0 0 1-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.3 0 19.9 5 25.9 13.3l71.2 98.8 157.2-218c6-8.4 15.7-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.4 12.7z"></path><path fill="#1890ff" d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0 0 51.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></i> 每周至少两篇文章分享</p><p><i aria-label="icon: check-circle" class="anticon anticon-check-circle"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="check-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path fill="#1890ff" d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"></path><path fill="#e6f7ff" d="M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm193.4 225.7l-210.6 292a31.8 31.8 0 0 1-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.3 0 19.9 5 25.9 13.3l71.2 98.8 157.2-218c6-8.4 15.7-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.4 12.7z"></path><path fill="#1890ff" d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0 0 51.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></i> 技术胖收费视频半价购买</p><p><i aria-label="icon: check-circle" class="anticon anticon-check-circle"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="check-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path fill="#1890ff" d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"></path><path fill="#e6f7ff" d="M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm193.4 225.7l-210.6 292a31.8 31.8 0 0 1-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.3 0 19.9 5 25.9 13.3l71.2 98.8 157.2-218c6-8.4 15.7-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.4 12.7z"></path><path fill="#1890ff" d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0 0 51.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></i> 每天回答所提问题（选择性回答）</p></div><div class="quan-button"><button type="button" class="ant-btn ant-btn-primary"><span>查看详情</span></button></div><div tabindex="0" style="width:0;height:0;overflow:hidden;position:absolute" role="presentation"></div></div><div role="tabpanel" aria-hidden="true" class="ant-tabs-tabpane ant-tabs-tabpane-inactive"></div><div role="tabpanel" aria-hidden="true" class="ant-tabs-tabpane ant-tabs-tabpane-inactive"></div></div><div tabindex="0" style="width:0;height:0;overflow:hidden;position:absolute" role="presentation"></div></div></div><div><div class="detailed-nav comm-box"><div class="nav-title">文章目录</div><div class="toc-list"><div><div aria-hidden="true" style="width: 255.406px; height: 575px;"></div><div class="ant-affix" style="position: fixed; top: 0px; width: 255.406px; height: 575px;"><div class="ant-anchor-wrapper" style="max-height: 100vh;"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball visible" style="top: 603px;"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="https://jspang.com/detailed?id=45#toc21" title="前置知识和说明">前置知识和说明</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="https://jspang.com/detailed?id=45#toc22" title="QQ群和微信群">QQ群和微信群</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="https://jspang.com/detailed?id=45#toc23" title="案例效果查看">案例效果查看</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="https://jspang.com/detailed?id=45#toc24" title="第01节: 底部导航栏制作-1">第01节: 底部导航栏制作-1</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="https://jspang.com/detailed?id=45#toc28" title="第02节: 底部导航栏制作-2">第02节: 底部导航栏制作-2</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="https://jspang.com/detailed?id=45#toc212" title="第03节: 不规则底部工具栏制作-1">第03节: 不规则底部工具栏制作-1</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="https://jspang.com/detailed?id=45#toc216" title="第04节: 不规则底部工具栏制作-2">第04节: 不规则底部工具栏制作-2</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="https://jspang.com/detailed?id=45#toc219" title="第05节: 酷炫的路由动画-1">第05节: 酷炫的路由动画-1</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="https://jspang.com/detailed?id=45#toc223" title="第06节: 酷炫的路由动画-2">第06节: 酷炫的路由动画-2</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="https://jspang.com/detailed?id=45#toc227" title="第07节: 毛玻璃效果制作">第07节: 毛玻璃效果制作</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="https://jspang.com/detailed?id=45#toc230" title="第08节:  保持页面状态">第08节:  保持页面状态</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="https://jspang.com/detailed?id=45#toc234" title="第09节:  保持页面状态-2">第09节:  保持页面状态-2</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="https://jspang.com/detailed?id=45#toc235" title="第10节:  一个不简单的搜索条-1">第10节:  一个不简单的搜索条-1</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="https://jspang.com/detailed?id=45#toc239" title="第11节:  一个不简单的搜索条-2">第11节:  一个不简单的搜索条-2</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="https://jspang.com/detailed?id=45#toc244" title="第12节:  流式布局 模拟添加照片效果">第12节:  流式布局 模拟添加照片效果</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="https://jspang.com/detailed?id=45#toc250" title="第13节: 展开闭合案例">第13节: 展开闭合案例</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="https://jspang.com/detailed?id=45#toc254" title="第14节: 展开闭合列表案例">第14节: 展开闭合列表案例</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="https://jspang.com/detailed?id=45#toc258" title="第15节: 贝塞尔曲线切割">第15节: 贝塞尔曲线切割</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="https://jspang.com/detailed?id=45#toc262" title="第16节: 波浪形式的贝塞尔曲线">第16节: 波浪形式的贝塞尔曲线</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="https://jspang.com/detailed?id=45#toc263" title="第17节：打开应用的闪屏动画案例">第17节：打开应用的闪屏动画案例</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="https://jspang.com/detailed?id=45#toc267" title="第18节：右滑返回上一页案例">第18节：右滑返回上一页案例</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="https://jspang.com/detailed?id=45#toc271" title="第19节：ToolTip控件实例">第19节：ToolTip控件实例</a></div><div class="ant-anchor-link ant-anchor-link-active"><a class="ant-anchor-link-title ant-anchor-link-title-active" href="https://jspang.com/detailed?id=45#toc275" title="20节Draggable控件实例">20节Draggable控件实例</a></div></div></div></div></div></div></div></div></div></div><div class="footer-div"><div>系统由 React+Node+Ant Desgin驱动 </div><div>JSPang.com</div></div><div class="ant-back-top"><div class="ant-back-top-content"><div class="ant-back-top-icon"></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"dataManager":"[]","props":{"pageProps":{"Id":45,"type_id":1,"title":"20个Flutter实例视频教程  让你轻松上手工作","article_content":"\n\n## 前置知识和说明\n\n**特别说明**\n\n最重要的放在最前面，这些实例有些是我原创的代码，有些是在Github上找到的，都是开源的，所以我和你都可以放心大胆的使用。（我不创造知识，我只是知识的搬运工。创造知识是尤大神和Google这样的人或公司才能做到的 ，我的级别还不行。我的目的就是减轻你的学习成本。）\n\n视频的目的是为了节约大家的学习成本，让大家简单快速的学会知识。视频中的任何一段代码我都有详细的讲解，但是我觉既然是一个进阶教程，不光要学习零散的知识点，最重要的是理解Flutter的开发模式、习惯和一些面向对象方法。\n\n\n那在学习这篇文章之前，你应该先学习一下基础知识，至少把下面这四篇文章，共25集视频，先看一边，作一下练习。(这些视频是完全免费的，大家直接可以在博客上收看)。\n\n\n- 第一季Flutter视频教程地址：[https://jspang.com/posts/2019/01/20/flutter-base.html](https://jspang.com/posts/2019/01/20/flutter-base.html)\n\n- 第二季Flutter视频教程地址：[https://jspang.com/posts/2019/01/21/flutter-base2.html](https://jspang.com/posts/2019/01/21/flutter-base2.html)\n\n- 第三季Flutter视频教程地址：[https://jspang.com/posts/2019/01/28/flutter-base3.html](https://jspang.com/posts/2019/01/28/flutter-base3.html)\n\n- 第四季Flutter视频教程地址：[https://jspang.com/posts/2019/02/01/flutter-base4.html](https://jspang.com/posts/2019/02/01/flutter-base4.html)\n\n\n## QQ群和微信群\n\n**QQ群806799257 **\n\n\u003e学习讨论QQ群：806799257 \n\n\u003e入群问题：Flutter出自于哪个公司？\n\n\u003e入群答案：google\n\n**微信群：**\n\n其实我微信群上的还是比较多的，QQ群则少很多，小伙伴们可以加我微信群。\n\n先扫码添加我微信好友，备注我要进群，我每天会在中午把你们邀请进群。\n\n为方便小伙伴学习，微信群里提供文章的高清视频下载。\n\n![alt](http://jspang.com/static/upload/20190102/_g3UOTjGLvyYE-l0YMS6t-0E.jpg)\n\n\n## 案例效果查看\n\n\u003ctable\u003e\n    \u003ctr\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo01.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo02.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo03.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n    \u003c/tr\u003e\n\n\n \u003ctr\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo04.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo05.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo06.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n    \u003c/tr\u003e\n\n \u003ctr\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo07.png\" \u003e\u003c/center\u003e\u003c/td\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo08.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo09.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n    \u003c/tr\u003e\n\n \u003ctr\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo10.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo11.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo12.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n    \u003c/tr\u003e\n \u003ctr\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo13.png\" \u003e\u003c/center\u003e\u003c/td\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo14.png\" \u003e\u003c/center\u003e\u003c/td\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo15.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n    \u003c/tr\u003e\n\u003ctr\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo16.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo17.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo18.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n    \u003c/tr\u003e\n\u003c/table\u003e\n\n\n\n## 第01节: 底部导航栏制作-1\n\n工作中最简单的一个APP也要具备一个功能，就是底部导航栏，你很难找出没有底部导航栏的应用。这么刚需的功能，那就从这里入手开始学习吧。\n\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=69758162\u0026page=1\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n![http://blogimages.jspang.com/FlutterDemo01.gif](http://blogimages.jspang.com/FlutterDemo01.gif)\n\n\n\n\n### 主入口文件的编写\n\n首先我们先写一个主入口文件，这个文件只是简单的APP通用结构，最主要的是要引入自定义的`BottomNavigationWidget`组件。\n\n\nmain.dart代码如下(视频中会进行详细讲解)\n```\nimport 'package:flutter/material.dart';\nimport 'bottom_navigation_widget.dart';\n\nvoid main()=\u003e runApp(new MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title:'Flutter bottomNavigationBar',\n      theme:ThemeData.light(),\n      home:BottomNavigationWidget()\n    );\n  }.\n}\n```\n注意的是`BottomNaivgationWidget`这个组件还没有编写，所以现在会报错。\n\n### StatefulWidget 讲解\n\n在编写`BottomNaivgationWidget`组件前，我们需要简单了解一下什么是`StatefulWidget`.\n\n\n`StatefulWidget`具有可变状态(state)的窗口组件（widget）。使用这个要根据变化状态，调整State值。\n\n在lib目录下，新建一个`bottom_navigation_widget.dart`文件。\n\n它的初始化和以前使用的`StatelessWidget`不同，我们在VSCode中直接使用快捷方式生成代码（直接在VSCode中输入stful）：\n\n```\nclass name extends StatefulWidget {\n  _nameState createState() =\u003e _nameState();\n}\n\nclass _nameState extends State\u003cname\u003e {\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n       child: child,\n    );\n  }\n}\n```\n\n上面的代码可以清楚的看到，使用`StatefulWidget`分为两个部分，第一个部分是继承与`StatefullWidget`，第二个部分是继承于`State`.其实`State`部分才是我们的重点，主要的代码都会写在`State`中。\n\n### BottomNaivgationWidget自定义\n\n接下来我们就要创建`BottomNaivgationWidget`这个Widget了，只是建立一个底部导航。\n\n```\nimport 'package:flutter/material.dart';\n\n\nclass BottomNavigationWidget extends StatefulWidget {\n  _BottomNavigationWidgetState createState() =\u003e _BottomNavigationWidgetState();\n}\n\nclass _BottomNavigationWidgetState extends State\u003cBottomNavigationWidget\u003e {\n  final _BottomNavigationColor = Colors.blue;\n\n  @override\n  Widget build(BuildContext context) {\n     return Scaffold(\n     \n       bottomNavigationBar: BottomNavigationBar(\n         items: [\n           BottomNavigationBarItem(\n             icon:Icon(\n               Icons.home,\n               color:_BottomNavigationColor,\n             ),\n             title:Text(\n               'Home',\n               style:TextStyle(color:_BottomNavigationColor)\n             )\n           ),\n           BottomNavigationBarItem(\n             icon:Icon(\n               Icons.email,\n               color:_BottomNavigationColor,\n             ),\n             title:Text(\n               'Email',\n               style:TextStyle(color:_BottomNavigationColor)\n             )\n           ),\n           BottomNavigationBarItem(\n             icon:Icon(\n               Icons.pages,\n               color:_BottomNavigationColor,\n             ),\n             title:Text(\n               'Pages',\n               style:TextStyle(color:_BottomNavigationColor)\n             )\n           ),\n           BottomNavigationBarItem(\n             icon:Icon(\n               Icons.airplay,\n               color:_BottomNavigationColor,\n             ),\n             title:Text(\n               'AipPlay',\n               style:TextStyle(color:_BottomNavigationColor)\n             )\n           ),\n         ],\n         type:BottomNavigationBarType.fixed\n       ),\n     );\n  }\n}\n```\n这时候我们就可以使用`flutter run` 来进行查看代码了，效果已经出现，在APP的页面上已经出现了一个底部导航栏，只不过现在还点击还没有什么效果。\n\n下节课我们继续学习，让点击后可以切换页面，完成我们第一个的小实例效果。\n\n\n## 第02节: 底部导航栏制作-2\n\n这节课我们继续上节课的内容，把底部导航的完整效果做出来，我们先把几个要导航的页面创建出来。\n\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=69758162\u0026page=2\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n### 子页面的编写\n\n子页面我们就采用最简单的编写了，只放入一个`AppBar`和一个`Center`，然后用Text Widget表明即可。\n\n先来写一个HomeScreen组件，新建一个pages目录，然后在目录下面新建`home_screen.dart`文件。\n\n```\nimport 'package:flutter/material.dart';\n\nclass HomeScreen extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar:AppBar(\n        title: Text('HOME'),\n      ),\n      body:Center(\n        child: Text('HOME'),\n      )\n    );\n  }\n}\n```\n\n有了这个文件剩下的文件就可以复制粘贴，然后改少量的代码来完成了。\n\n分别建立:\n\n- email_screen.dart\n- pages_screen.dart\n- airplay_screen.dart\n\n这些都是导航要用的子页面，有了这些页面，我们才能继续编写代码。\n\n### 重写initState()方法\n\n我们要重新`initState()`方法，把刚才做好的页面进行初始化到一个Widget数组中。有了数组就可以根据数组的索引来切换不同的页面了。这是现在几乎所有的APP采用的方式。\n\n代码如下:\n```\n List\u003cWidget\u003e list = List();\n @override\n void initState(){\n    list\n      ..add(HomeScreen())\n      ..add(EmailScreen())\n      ..add(PagesScreen())\n      ..add(AirplayScreen());\n    super.initState();\n  }\n```\n\n这里的`..add()`是Dart语言的..语法，如果你学过编程模式，你一定听说过建造者模式，简单来说就是返回调用者本身。这里list后用了..add()，还会返回list，然后就一直使用..语法，能一直想list里增加widget元素。 最后我们调用了一些父类的`initState()`方法。\n\n\n\n### BottomNavigationBar里的响应事件\n\n\n`BottomNavigationBar`组件里提供了一个相应事件`onTap`，这个事件自带一个索引值`index`，通过索引值我们就可以和我们list里的索引值相对应了。\n\n```\n        onTap:(int index){\n           setState((){\n             _currentIndex= index;\n           });\n         },\n```\n\n现在给出全部的`bottom_navigation_widget.dart`的全部代码，讲解我会在视频中一行一行讲解。\n\n```\nimport 'package:flutter/material.dart';\nimport 'pages/home_screen.dart';\nimport 'pages/email_screen.dart';\nimport 'pages/pages_screen.dart';\nimport 'pages/airplay_screen.dart';\n\nclass BottomNavigationWidget extends StatefulWidget {\n  _BottomNavigationWidgetState createState() =\u003e _BottomNavigationWidgetState();\n}\n\nclass _BottomNavigationWidgetState extends State\u003cBottomNavigationWidget\u003e {\n  final _BottomNavigationColor = Colors.blue;\n  int _currentIndex = 0;\n  List\u003cWidget\u003e list = List();\n\n  @override\n  void initState(){\n    list\n      ..add(HomeScreen())\n      ..add(EmailScreen())\n      ..add(PagesScreen())\n      ..add(AirplayScreen());\n    super.initState();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n     return Scaffold(\n       body: list[_currentIndex],\n       bottomNavigationBar: BottomNavigationBar(\n         items: [\n           BottomNavigationBarItem(\n             icon:Icon(\n               Icons.home,\n               color:_BottomNavigationColor,\n             ),\n             title:Text(\n               'Home',\n               style:TextStyle(color:_BottomNavigationColor)\n             )\n           ),\n           BottomNavigationBarItem(\n             icon:Icon(\n               Icons.email,\n               color:_BottomNavigationColor,\n             ),\n             title:Text(\n               'Email',\n               style:TextStyle(color:_BottomNavigationColor)\n             )\n           ),\n           BottomNavigationBarItem(\n             icon:Icon(\n               Icons.pages,\n               color:_BottomNavigationColor,\n             ),\n             title:Text(\n               'Pages',\n               style:TextStyle(color:_BottomNavigationColor)\n             )\n           ),\n           BottomNavigationBarItem(\n             icon:Icon(\n               Icons.airplay,\n               color:_BottomNavigationColor,\n             ),\n             title:Text(\n               'AipPlay',\n               style:TextStyle(color:_BottomNavigationColor)\n             )\n           ),\n         ],\n         currentIndex:_currentIndex,\n         onTap:(int index){\n           setState((){\n             _currentIndex= index;\n           });\n         },\n         type:BottomNavigationBarType.fixed\n       ),\n     );\n  }\n}\n```\n\n\n通过两节的学习，基本掌握了APP底部导航的编写方法，其实这些知识是很面向工作的，因为真是项目中，你也要如此划分你的代码结构。\n\n\n我希望你一定要动手练习一下，因为不动手练习，你是真的学不会的，这不再是基础知识，而是稍显复杂的小案例，并且这些案例你练习后，以后工作中用到，是可以直接拷贝里边的代码的，绝对不亏的。\n\n\n## 第03节: 不规则底部工具栏制作-1\n\n大部分的底部导航都是中规中矩的，但有些时候也需要突出个性，比如在中间部位增加一个突出的按钮。这节课我们主要学习一下不规则的导航如何制作。\n\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=69758162\u0026page=3\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n![http://blogimages.jspang.com/FlutterDemo02.gif](http://blogimages.jspang.com/FlutterDemo02.gif)\n\n\n### 自定义主题样本\n\nFlutter支持自定义主题，如果使用自定义主题，设置的内容项是非常多的，这可能让初学者头疼，Flutter贴心的为给我们准备了主题样本。\n\n\u003e primarySwatch ：现在支持18种主题样本了。\n\n具体代码如下：\n\n```\ntheme: ThemeData(\n  primarySwatch: Colors.lightBlue,\n),\n```\n\n会了这个知识后，我们就可以先把我们的主入口文件编写一下了，具体代码如下：\n\n```\nimport 'package:flutter/material.dart';\nimport 'bottom_appBar_demo.dart';\n\nvoid main()=\u003erunApp(new MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title:'Flutter Demo',\ntheme: ThemeData(\n  primarySwatch: Colors.lightBlue,\n),\n      home:BottomAppBarDemo(),\n    );\n  }\n}\n```\n\n这时候`bottom_appBar_demo.dart`这个文件还没有，也找不到，这个文件是我们的主要文件，我们的主要业务逻辑会写在这个文件里。\n\n因为没有所以你写完之后会报错，那接下来我们就来编写这个文件。\n\n### floatingActionButton Widget\n\n`floatingActionButton `工作中我们通常简称它为“FAB”，也许只是我们公司这样称呼，从字面理解可以看出，它是“可交互的浮动按钮”,其实在Flutter默认生成的代码中就有这家伙，只是我们没有正式的接触。\n\n一般来说，它是一个圆形，中间放着图标，会优先显示在其他Widget的前面。\n\n下面我们来看看它的常用属性:\n\n- onPressed ：点击相应事件，最常用的一个属性。\n\n- tooltip：长按显示的提示文字，因为一般只放一个图标在上面，防止用户不知道，当我们点击长按时就会出现一段文字性解释。非常友好，不妨碍整体布局。\n\n- child ：放置子元素，一般放置Icon Widget。\n\n\n我们来看一下`floatingActionButton`的主要代码:\n\n```\nfloatingActionButton: FloatingActionButton(\n    onPressed: (){\n      Navigator.of(context).push(MaterialPageRoute(builder:(BuildContext context){\n        return EachView('New Page');\n      }));\n    },\n    tooltip: 'Increment',\n    child: Icon(\n      Icons.add,\n      color: Colors.white,\n    ),\n  ),\n```\n\n写完这些代码已经有了一个悬浮的按钮，但这个悬浮按钮还没有和低栏进行融合，这时候需要一个属性。\n\n```\nfloatingActionButtonLocation: FloatingActionButtonLocation.centerDocked,\n```\n这时候就可以和底栏进行融合了。\n\n### BottomAppBar Widget\n\n`BottomAppBar` 是 底部工具栏的意思，这个要比`BottomNavigationBar` widget灵活很多，可以放置文字和图标，当然也可以放置容器。\n\n`BottomAppBar`的常用属性:\n\n- color:这个不用多说，底部工具栏的颜色。\n- shape：设置底栏的形状，一般使用这个都是为了和`floatingActionButton`融合，所以使用的值都是CircularNotchedRectangle(),有缺口的圆形矩形。\n- child ： 里边可以放置大部分Widget，让我们随心所欲的设计底栏。\n\n这节课先来看看这个布局，下节课我们再添加交互效果。\n\n本节课主要代码：\n\n```\nimport 'package:flutter/material.dart';\n\nclass BottomAppBarDemo extends StatefulWidget {\n  _BottomAppBarDemoState createState() =\u003e _BottomAppBarDemoState();\n}\n\nclass _BottomAppBarDemoState extends State\u003cBottomAppBarDemo\u003e {\n\n  @override\n  Widget build(BuildContext context) {\n     return Scaffold(\n        floatingActionButton: FloatingActionButton(\n          onPressed: (){\n          \n          },\n          tooltip: 'Increment',\n          child: Icon(\n            Icons.add,\n            color: Colors.white,\n          ),\n        ),\n       floatingActionButtonLocation: FloatingActionButtonLocation.centerDocked,\n       bottomNavigationBar: BottomAppBar(\n         color:Colors.lightBlue,\n         shape:CircularNotchedRectangle(),\n         child: Row(\n           mainAxisSize: MainAxisSize.max,\n           mainAxisAlignment: MainAxisAlignment.spaceAround,\n           children: \u003cWidget\u003e[\n             IconButton(\n               icon:Icon(Icons.home),\n               color:Colors.white,\n               onPressed:(){\n                \n               }\n             ),\n             IconButton(\n               icon:Icon(Icons.airport_shuttle),\n               color:Colors.white,\n               onPressed:(){\n                 \n               }\n             ),\n           ],\n         ),\n       )\n        ,\n     );\n  }\n}\n```\n\n\n## 第04节: 不规则底部工具栏制作-2\n\n上节课已经完成了基本的页面布局，但是还没有交互效果，这节主要制作一下交互效果。\n\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=69758162\u0026page=4\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n###  StatefulWidget子页面的制作\n\n在前两节课的实例中我们使用了子页面，但子页面继承与`StatelessWidget`(不可变控件)，所以很麻烦的写了4个页面，其实完全可以写一个继承于`StatefulWidget`的控件，进行搞定。\n\n新建一个`each_view.dart`文件，然后输入如下代码：\n\n```\nimport 'package:flutter/material.dart';\n\nclass EachView extends StatefulWidget {\n  String _title;\n  EachView(this._title);\n  @override\n  _EachViewState createState() =\u003e _EachViewState();\n}\n\nclass _EachViewState extends State\u003cEachView\u003e {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar:AppBar(title:Text(widget._title)),\n      body: Center(child:Text(widget._title)),\n    );\n  }\n}\n```\n\n代码中设置了一个内部的`_title`变量，这个变量是从主页面传递过来的，然后根据传递过来的具体值显示在APP的标题栏和屏幕中间。\n\n### 按钮交互效果的制作\n\n这些效果都是在`bottom_appBar_demo.dart`页面完成的。首先我们需要引入新作的子页面`each_view.dart`。\n\n```\nimport 'each_view.dart';\n```\n\n新建两个变量,主要作用是控制body中的试图，也就是显示不同的子页面。\n\n```\n  List\u003cWidget\u003e _eachView;  //创建视图数组\n  int _index = 0;          //数组索引，通过改变索引值改变视图\n```\n\n下一步是为`_eachView`进行初始化赋值，我们可以直接重写初始化方法，具体代码如下：\n\n```\n  @override\n  void initState() {\n      // TODO: implement initState\n      super.initState();\n      _eachView = List();\n      _eachView..add(EachView('Home'))..add(EachView('Me'));\n    }\n```\n\n剩下的就是写个个按钮的交互事件，交互的动作分两种：\n\n-  直接打开子导航，比如我们点击了中间的”+“按钮，我们直接开启子页面。\n```\nonPressed: (){\n    Navigator.of(context).push(MaterialPageRoute(builder:(BuildContext context){\n      return EachView('New Page');\n    }));\n  },\n```\n\n-  改变状态，通过改变状态，来切换页面，这样我们整体页面并没有被刷新。\n```\nonPressed:(){\n  setState(() {\n    _index=0;             \n  });\n}\n```\n\n为了方便小伙伴们学习，给出`bottom_appBar_demo.dart`所有代码，代码如下:\n\n```\nimport 'package:flutter/material.dart';\nimport 'each_view.dart';\n\nclass BottomAppBarDemo extends StatefulWidget {\n  _BottomAppBarDemoState createState() =\u003e _BottomAppBarDemoState();\n}\n\nclass _BottomAppBarDemoState extends State\u003cBottomAppBarDemo\u003e {\n  List\u003cWidget\u003e _eachView;  //创建视图数组\n  int _index = 0;          //数组索引，通过改变索引值改变视图\n\n  @override\n  void initState() {\n      // TODO: implement initState\n      super.initState();\n      _eachView = List();\n      _eachView..add(EachView('Home'))..add(EachView('Me'));\n    }\n\n  @override\n  Widget build(BuildContext context) {\n     return Scaffold(\n       body:_eachView[_index],\n        floatingActionButton: FloatingActionButton(\n        onPressed: (){\n          Navigator.of(context).push(MaterialPageRoute(builder:(BuildContext context){\n            return EachView('New Page');\n          }));\n        },\n          tooltip: 'Increment',\n          child: Icon(\n            Icons.add,\n            color: Colors.white,\n          ),\n        ),\n       floatingActionButtonLocation: FloatingActionButtonLocation.centerDocked,\n       bottomNavigationBar: BottomAppBar(\n         color:Colors.lightBlue,\n         shape:CircularNotchedRectangle(),\n         child: Row(\n           mainAxisSize: MainAxisSize.max,\n           mainAxisAlignment: MainAxisAlignment.spaceAround,\n           children: \u003cWidget\u003e[\n             IconButton(\n               icon:Icon(Icons.home),\n               color:Colors.white,\n                onPressed:(){\n                  setState(() {\n                    _index=0;             \n                  });\n                }\n             ),\n             IconButton(\n               icon:Icon(Icons.airport_shuttle),\n               color:Colors.white,\n               onPressed:(){\n                 setState(() {\n                    _index=1;             \n                 });\n               }\n             ),\n           ],\n         ),\n       )\n        ,\n     );\n  }\n}\n```\n\n\n我相信小伙伴都制作出了这个效果，这个在工作中也很常见。希望你们都能学会，特别是动态子页面的这个使用技巧。\n\n\n## 第05节: 酷炫的路由动画-1\n\n现在Flutter的路由效果已经非常不错了，能满足大部分App的需求，但是谁不希望自己的App更酷更炫那，学完这节课你就可以给自己的APP加上酷炫的路由动画了。\n\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=69758162\u0026page=5\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\n\u003ctable\u003e\n    \u003ctr\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo03.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo04.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n    \u003c/tr\u003e\n \u003ctr\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo05.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo06.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n    \u003c/tr\u003e\n\u003c/table\u003e\n\n\n\n\n其实路由动画的原理很简单，就是重写并继承`PageRouterBuilder`这个类里的`transitionsBuilder`方法。\n\n不过这个方法还是有很多写法的，通过写法的不同，产生的动画效果也有所不同。\n\n\n### 主入口方法\n\n先编写一个主入口方法，还是最简单的格式，只不过home属性，使用的`FirstPage`的组件是我们自定义的，需要我们再次编写。入口文件的代码如下：\n\n```\nimport 'package:flutter/material.dart';\nimport 'pages.dart';\n\nvoid main()=\u003erunApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title:'Flutter Demo',\n      theme: new ThemeData(\n        primarySwatch: Colors.blue,\n      ),\n      home:FirstPage()\n    );\n  }\n}\n```\n\n### pages.dart页面的编写\n\n主入口文件用`import`引入了`pages.dart`文件，这个文件就是生成了两个页面（Flutter里的页面也是Widget,这个你要跟网页区分开）。有了两个页面就可以实现路由跳转了。\n\n`pages.dart`文件的代码如下，这里我们先用普通路由代替，看一看效果。\n\n```\nimport 'package:flutter/material.dart';\n\n\nclass FirstPage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      backgroundColor: Colors.blue,\n      appBar:AppBar(\n        title:Text('FirstPage',style: TextStyle(fontSize: 36.0)),\n        elevation: 0.0,\n      ),\n      body:Center(\n        child: MaterialButton(\n          child: Icon(\n            Icons.navigate_next,\n            color:Colors.white,\n            size:64.0,\n          ),\n          onPressed: (){\n              Navigator.of(context).push(\n                MaterialPageRoute(\n                  builder:(BuildContext context){\n                     return SecondPage();\n                  }));\n          },\n        ),\n      )\n    );\n  }\n}\n\nclass SecondPage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      backgroundColor: Colors.pinkAccent,\n      appBar: AppBar(\n        title: Text('SecondPage',style:TextStyle(fontSize:36.0),),\n        backgroundColor: Colors.pinkAccent,\n        leading:Container(),\n        elevation: 0.0,\n      ),\n      body:Center(\n        child: MaterialButton(\n          child: Icon(\n            Icons.navigate_before,\n            color:Colors.white,\n            size:64.0\n          ),\n          onPressed: ()=\u003eNavigator.of(context).pop(),\n        ),\n      )\n    );\n  }\n}\n```\n上面代码中有一个新知识点，需要学习一下：\n\n1. AppBar Widger的 elevation 属性：这个值是AppBar\n滚动时的融合程度，一般有滚动时默认是4.0，现在我们设置成0.0，就是和也main完全融合了。\n\n写完这个页面代码后，已经可以进行最基本的导航了，但是并没有什么酷炫的动画。\n\n### 自定义CustomRoute Widget\n\n新建一个`custome_router.dart`文件，这个就是要自定义的路由方法，自定义首先要继承于通用的路由的构造器类`PageRouterBuilder`。继承之后重写父类的`CustomRoute`构造方法。\n\n构造方法可以简单理解为：只要以调用这个类或者说是Widget，构造方法里的所有代码就执行了。\n\n`custome_router.dart`代码如下(详细解释视频中说):\n\n```\nimport 'package:flutter/material.dart';\n\nclass CustomRoute extends PageRouteBuilder{\n  final Widget widget;\n  CustomRoute(this.widget)\n    :super(\n      transitionDuration:const Duration(seconds:1),\n      pageBuilder:(\n        BuildContext context,\n        Animation\u003cdouble\u003e animation1,\n        Animation\u003cdouble\u003e animation2){\n          return widget;\n        },\n     transitionsBuilder:(\n          BuildContext context,\n          Animation\u003cdouble\u003e animation1,\n          Animation\u003cdouble\u003e animation2,\n          Widget child){\n            return FadeTransition(\n              opacity: Tween(begin:0.0,end :1.0).animate(CurvedAnimation(\n                  parent:animation1,\n                  curve:Curves.fastOutSlowIn\n              )),\n              child: child,\n            );\n        }  \n      \n    ); \n}\n```\n\n - FadeTransition:渐隐渐现过渡效果，主要设置opactiy（透明度）属性，值是0.0-1.0。\n\n- animate :动画的样式，一般使用动画曲线组件（CurvedAnimation）。\n\n- curve: 设置动画的节奏，也就是常说的曲线，Flutter准备了很多节奏，通过改变动画取消可以做出很多不同的效果。\n\n-  transitionDuration：设置动画持续的时间，建议再1和2之间。\n\n\n\n\n写完代码，我们已经可以看到在切换路由时有了动画效果，下节课我们再写三个常用动画效果。\n\n## 第06节: 酷炫的路由动画-2\n\n这节课我们接着上节课再作三个常用的动画效果，目的是让你更深刻的了解路由动画的使用方法。\n\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=69758162\u0026page=6\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\n### 缩放路由动画\n\n\n```\nreturn ScaleTransition(\n  scale:Tween(begin:0.0,end:1.0).animate(CurvedAnimation(\n    parent:animation1,\n    curve: Curves.fastOutSlowIn\n    )),\n    child:child\n);\n```\n\n### 旋转+缩放路由动画\n\n旋转+缩放的思路是在一个路由动画里的child属性里再加入一个动画，让两个动画同时执行。来看详细代码：\n\n```\n return RotationTransition(\n  turns:Tween(begin:0.0,end:1.0)\n  .animate(CurvedAnimation(\n    parent: animation1,\n    curve: Curves.fastOutSlowIn\n  )),\n  child:ScaleTransition(\n    scale:Tween(begin: 0.0,end:1.0)\n    .animate(CurvedAnimation(\n        parent: animation1,\n        curve:Curves.fastOutSlowIn\n    )),\n    child: child,\n  )\n);\n```\n\n### 左右滑动路由动画\n\n其实用的做多的还是左右滑动路由动画，其实实现起来也是非常简单，直接使用`SlideTransition`就可以了。\n\n```\n// 幻灯片路由动画\nreturn SlideTransition(\n  position: Tween\u003cOffset\u003e(\n    begin: Offset(-1.0, 0.0),\n    end:Offset(0.0, 0.0)\n  )\n  .animate(CurvedAnimation(\n    parent: animation1,\n    curve: Curves.fastOutSlowIn\n  )),\n  child: child,\n);\n```\n\n总结:动画的使用会让我们的APP更加酷炫，也会让别人觉的你不是一个新手，再Flutter里使用动画是非常方便的，所以你可以把这些动画效果事先写好，在工作中直接使用。\n\n\n## 第07节: 毛玻璃效果制作\n\nFlutter的Fliter Widget 也是非常强大的，它可以制作出你想要的神奇滤镜效果。这节我们就以实战的方式，制作一个毛玻璃效果，通过实例来学习Fitler 的用法。（制作效果如下图）\n\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=69758162\u0026page=7\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\n![http://blogimages.jspang.com/FlutterDemo07.png](http://blogimages.jspang.com/FlutterDemo07.png)\n\n### main.dart文件编写\n\n这个和以前的写法都一样，所以就直接贴代码了。详细解释会在视频中解说，不过我相信不解释，小伙伴也一定可以看明白。\n\n```\nimport 'package:flutter/material.dart';\nimport 'frosted_glass_emo.dart';\n\nvoid main() =\u003e runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title:'Flutter Demo',\n      theme:ThemeData(\n        primarySwatch: Colors.blue,\n      ),\n      home:Scaffold(\n        body:FrostedGlassDemo(),\n      )\n    );\n  }\n}\n```\n\n### BackdropFilter Widget   \n\n`BackdropFilter`就是背景滤镜组件，使用它可以给父元素增加滤镜效果，它里边最重要的一个属性是`filter`。\n`filter`属性中要添加一个滤镜组件，实例中我们添加了图片滤镜组件，并给了模糊效果。\n\n\u003e 图片地址：https://timgsa.baidu.com/timg?image\u0026quality=80\u0026size=b9999_10000\u0026sec=1545738629147\u0026di=22e12a65bbc6c4123ae5596e24dbc5d3\u0026imgtype=0\u0026src=http%3A%2F%2Fpic30.photophoto.cn%2F20140309%2F0034034413812339_b.jpg\n\n我们新建一个`frosted_glass_demo.dart`的文件，然后写入下面的代码，具体的解释已经写到了代码的注释中。\n\n```\nimport 'package:flutter/material.dart';\nimport 'dart:ui';   //引入ui库，因为ImageFilter Widget在这个里边。\n\nclass FrostedGlassDemo extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body:Stack(   //重叠的Stack Widget，实现重贴\n        children: \u003cWidget\u003e[\n          ConstrainedBox( //约束盒子组件，添加额外的限制条件到 child上。\n            constraints: const BoxConstraints.expand(), //限制条件，可扩展的。\n            child:Image.network('https://timgsa.baidu.com/timg?image\u0026quality=80\u0026size=b9999_10000\u0026sec=1545738629147\u0026di=22e12a65bbc6c4123ae5596e24dbc5d3\u0026imgtype=0\u0026src=http%3A%2F%2Fpic30.photophoto.cn%2F20140309%2F0034034413812339_b.jpg')\n          ),\n          Center(\n            child: ClipRect(  //裁切长方形\n              child: BackdropFilter(   //背景滤镜器\n                filter: ImageFilter.blur(sigmaX: 5.0,sigmaY: 5.0), //图片模糊过滤，横向竖向都设置5.0\n                child: Opacity( //透明控件\n                  opacity: 0.5,\n                  child: Container(// 容器组件\n                    width: 500.0,\n                    height: 700.0,\n                    decoration: BoxDecoration(color:Colors.grey.shade200), //盒子装饰器，进行装饰，设置颜色为灰色\n                    child: Center(\n                      child: Text(\n                        'JSPang',\n                        style: Theme.of(context).textTheme.display3, //设置比较酷炫的字体\n                      ),\n                    ),\n                  ),\n                ),\n              ),\n            ),\n          )\n        ],\n      )\n    );\n  }\n}\n```\n\n这个代码嵌套很多，所以一定要注意你的代码层次，容易出错的地方就是嵌套错误。这个效果尽量少用，因为我测试了一下，它对系统的消耗还是比较大的。\n\n## 第08节:  保持页面状态\n\n在工作中切换页面时，再切换回来，时要求页面状态不发生改变的。这能给APP浏览者最好的体验，机会所有的APP都有这个需求，属于一个大众需求。这节课我们就来看看这样的效果如何实现。\n\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=69758162\u0026page=8\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n![http://blogimages.jspang.com/FlutterDemo08.gif](http://blogimages.jspang.com/FlutterDemo08.gif)\n\n### With 关键字的使用\n\nwith是dart的关键字，意思是混入的意思，就是说可以将一个或者多个类的功能添加到自己的类无需继承这些类，\n避免多重继承导致的问题。\n\n比如下面的代码：\n\n```\nclass _KeepAliveDemoState extends State\u003cKeepAliveDemo\u003e with SingleTickerProviderStateMixin {\n\n}\n```\n需要注意的是with后边是Mixin，而不是普通的Widget，这个初学者比较爱犯错误。需要强调一下。\n\n\n\n### TabBar Widget的使用\n\n`TabBar`是切换组件，它需要设置两个属性。\n\n- controller: 控制器，后边跟的多是`TabController`组件。\n- tabs：具体切换项，是一个数组，里边放的也是Tab Widget。\n\n```\nbottom:TabBar(\n  controller: _controller,\n  tabs:[\n    Tab(icon:Icon(Icons.directions_car)),\n    Tab(icon:Icon(Icons.directions_transit)),\n    Tab(icon:Icon(Icons.directions_bike)),\n  ],\n)\n```\n\n###  基本页面布局\n\n我们先把入口页面布局好，下节课我们再让他保持状态。学了上面两个知识，你其实可以做出来布局了。全部代码如下：\n\n\n```\nimport 'package:flutter/material.dart';\n\nvoid main()=\u003erunApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Flutter Demo',\n      theme:ThemeData(\n        primarySwatch: Colors.blue,\n      ),\n      home:KeepAliveDemo()\n    );\n  }\n} \n\nclass KeepAliveDemo extends StatefulWidget {\n  _KeepAliveDemoState createState() =\u003e _KeepAliveDemoState();\n}\n/*\nwith是dart的关键字，意思是混入的意思，\n就是说可以将一个或者多个类的功能添加到自己的类无需继承这些类，\n避免多重继承导致的问题。\nSingleTickerProviderStateMixin 主要是我们初始化TabController时，\n需要用到vsync ，垂直属性，然后传递this\n*/\nclass _KeepAliveDemoState extends State\u003cKeepAliveDemo\u003e with SingleTickerProviderStateMixin {\n  TabController _controller;\n\n  @override\n  void initState(){\n    super.initState();\n    _controller = TabController(length:3, vsync: this);\n  }\n\n  //重写被释放的方法，只释放TabController\n  @override\n  void dispose(){\n    _controller.dispose();\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar:AppBar(\n        title:Text('Keep Alive Demo'),\n        bottom:TabBar(\n          controller: _controller,\n          tabs:[\n            Tab(icon:Icon(Icons.directions_car)),\n            Tab(icon:Icon(Icons.directions_transit)),\n            Tab(icon:Icon(Icons.directions_bike)),\n          ],\n        )\n      ),\n      body:TabBarView(\n        controller: _controller,\n        children: \u003cWidget\u003e[\n         Text('1111'),\n         Text('2222'),\n         Text('3333')\n        ],\n      )\n    );\n  }\n}\n\n```\n\n## 第09节:  保持页面状态-2\n\n上节课已经做出了TabBar的效果，这节课主要任务是保持状态。那为了能看出是保持状态的，我们作一个按钮，然后点一下加一。就跟Flutter为我们生成的例子一样。\n\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=69758162\u0026page=9\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n我这里就直接贴出代码了，知识点我已经在代码中写了注释，并且我会在视频中详细讲解。\n\n如果小伙伴们对代码有什么不了解的，可以私信，我来进行解答。\n\n```\nimport 'package:flutter/material.dart';\n\nclass MyHomePage extends StatefulWidget {\n\n  @override\n  _MyHomePageState createState() =\u003e _MyHomePageState();\n}\n\n//混入AutomaticKeepAliveClientMixin，这是保持状态的关键\n//然后重写wantKeppAlive 的值为true。\nclass _MyHomePageState extends State\u003cMyHomePage\u003e with AutomaticKeepAliveClientMixin {\n  int _counter = 0;\n  //重写keepAlive 为ture ，就是可以有记忆功能了。\n  @override\n  bool get wantKeepAlive =\u003e true;\n  //声明一个内部方法，用来点击按钮后增加数量\n  void _incrementCounter(){\n    setState((){ _counter++;});\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body:Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: \u003cWidget\u003e[\n            Text('点一下加1，点一下加1:'),\n            Text(\n              '$_counter',\n              style:Theme.of(context).textTheme.display1,\n            )\n          ],\n        ),\n      ),\n      //增加一个悬浮按钮，点击时触犯_incrementCounter方法\n      floatingActionButton: FloatingActionButton(\n        onPressed: _incrementCounter,\n        tooltip: 'Increment',\n        child: Icon(Icons.add),\n      ),\n    );\n  }\n}\n```\n写完这个Widget，然后在入口文件中引入。\n\n```\nimport 'keep_alive_demo.dart';\n```\n然后把Body区域改成我们刚写的MyHomePage Widget  就可以了，注意是改三个。\n\n\n## 第10节:  一个不简单的搜索条-1\n\n搜索这个功能，大部分APP都会存在，这节课我们就学习一下，如何做一个有提示功能，而且交互很好的搜索条。需要提前提示的是，这节课的内容可能稍微有些难度，需要你慢慢消化，多作两遍。\n\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=69758162\u0026page=10\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n![http://blogimages.jspang.com/FlutterDemo09.gif](http://blogimages.jspang.com/FlutterDemo09.gif)\n\n\n### 主入口文件\n\n这个还是继承`StatelessWidget`,然后在home属性中加入`SearchBarDemo`，这是一个自定义的Widget，主要代码都在这个文件中。\n\n`main.dart` 文件的代码如下：\n\n```\nimport 'package:flutter/material.dart';\nimport 'search_bar_demo.dart';\n\nvoid main() =\u003erunApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title:'Flutter Demo',\n      theme: ThemeData.light(),\n      home: SearchBarDemo()\n    );\n  }\n}\n```\n\n### 数据文件 asset.dart\n\n`asset.dart`相当于数据文件，工作中这些数据是后台传递给我们，或者写成配置文件的，这里我们就以List的方式代替了。我们在这个文件中定义了两个List：\n\n- searchList : 这个相当于数据库中的数据，我们要在这里进行搜索。\n\n- recentSuggest ： 目前的推荐数据，就是搜索时，自动为我们进行推荐。\n\n整体代码如下 ：\n\n```\nconst searchList = [\n  \"jiejie-大长腿\",\n  \"jiejie-水蛇腰\",\n  \"gege1-帅气欧巴\",\n  \"gege2-小鲜肉\"\n];\n\nconst recentSuggest = [\n  \"推荐-1\",\n  \"推荐-2\"\n];\n```\n\n### AppBar的样式制作\n\n这节课我们先把第一个搜索界面布好，下节课我们主要作搜索的交互效果。看下面的代码：\n\n\n```\nimport 'package:flutter/material.dart';\nimport 'asset.dart';\n\n\nclass SearchBarDemo extends StatefulWidget {\n  _SearchBarDemoState createState() =\u003e _SearchBarDemoState();\n}\n\nclass _SearchBarDemoState extends State\u003cSearchBarDemo\u003e {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar:AppBar(\n        title:Text('SearchBarDemo'),\n        actions:\u003cWidget\u003e[\n          IconButton(\n            icon:Icon(Icons.search),\n            onPressed: (){\n               print('开始搜索');\n            }\n          ),\n        ]\n      )\n    );\n\n  }\n}\n\n```\n\n这时候就可以在虚拟机中进行预览了，但是这时候点击搜索按钮还没有任何反应。\n\n\n## 第11节:  一个不简单的搜索条-2\n\n上节课已经作好了搜索条的基本布局，现在就是要在点击搜索图标后，变成搜索条的样式，并且有一定都交互效果。\n\n在点击图标时执行`searchBarDelegate` 类，这个类继承与`SearchDelegate`类，继承后要重写里边的四个方法。\n\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=69758162\u0026page=11\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n###  重写buildActions方法：\n\n`buildActions`方法时搜索条右侧的按钮执行方法，我们在这里方法里放入一个clear图标。\n当点击图片时，清空搜索的内容。\n\n代码如下:\n```\n  @override\n  List\u003cWidget\u003e buildActions(BuildContext context){\n    return [\n      IconButton(\n        icon:Icon(Icons.clear),\n        onPressed: ()=\u003equery = \"\",)\n      ];\n  }\n\n```\n\n### buildLeading 方法重写\n\n这个时搜索栏左侧的图标和功能的编写，这里我们才用`AnimatedIcon`，然后在点击时关闭整个搜索页面，代码如下。\n\n```\n  @override\n  Widget buildLeading(BuildContext context) {\n    return IconButton(\n        icon: AnimatedIcon(\n            icon: AnimatedIcons.menu_arrow, progress: transitionAnimation),\n        onPressed: () =\u003e close(context, null));\n  }\n```\n\n###  buildResults方法重写\n\n`buildResults`方法，是搜到到内容后的展现，因为我们的数据都是模拟的，所以我这里就使用最简单的`Container`+`Card`组件进行演示了，不做过多的花式修饰了。\n\n```\n @override\n  Widget buildResults(BuildContext context) {\n    return Container(\n      width: 100.0,\n      height: 100.0,\n      child: Card(\n        color: Colors.redAccent,\n        child: Center(\n          child: Text(query),\n        ),\n      ),\n    );\n  }\n```\n \n###  buildSuggestions方法重写\n\n这个方法主要的作用就是设置推荐，就是我们输入一个字，然后自动为我们推送相关的搜索结果，这样的体验是非常好的。(具体代码的解释，请观看视频)\n\n具体代码如下：\n\n```\n @override\n  Widget buildSuggestions(BuildContext context) {\n    final suggestionList = query.isEmpty\n        ? recentSuggest\n        : searchList.where((input) =\u003e input.startsWith(query)).toList();\n    return ListView.builder(\n        itemCount: suggestionList.length,\n        itemBuilder: (context, index) =\u003e ListTile(\n              title: RichText(\n                  text: TextSpan(\n                      text: suggestionList[index].substring(0, query.length),\n                      style: TextStyle(\n                          color: Colors.black, fontWeight: FontWeight.bold),\n                      children: [\n                    TextSpan(\n                        text: suggestionList[index].substring(query.length),\n                        style: TextStyle(color: Colors.grey))\n                  ])),\n            ));\n  }\n\n\n}\n```\n\n\n为了方便小伙伴们学习，给出所有`search_bar_demo.dart`文件的代码：\n\n\n```\nimport 'package:flutter/material.dart';\nimport 'asset.dart';\n\n\nclass SearchBarDemo extends StatefulWidget {\n  _SearchBarDemoState createState() =\u003e _SearchBarDemoState();\n}\n\nclass _SearchBarDemoState extends State\u003cSearchBarDemo\u003e {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar:AppBar(\n        title:Text('SearchBarDemo'),\n        actions:\u003cWidget\u003e[\n          IconButton(\n            icon:Icon(Icons.search),\n            onPressed: (){\n               showSearch(context:context,delegate: searchBarDelegate());\n            }\n            // showSearch(context:context,delegate: searchBarDelegate()),\n          ),\n        ]\n      )\n    );\n\n  }\n}\n\nclass searchBarDelegate extends SearchDelegate\u003cString\u003e{\n  @override\n  List\u003cWidget\u003e buildActions(BuildContext context){\n    return [\n      IconButton(\n        icon:Icon(Icons.clear),\n        onPressed: ()=\u003equery = \"\",)\n      ];\n  }\n  \n  @override\n  Widget buildLeading(BuildContext context) {\n    return IconButton(\n        icon: AnimatedIcon(\n            icon: AnimatedIcons.menu_arrow, progress: transitionAnimation),\n        onPressed: () =\u003e close(context, null));\n  }\n\n  @override\n  Widget buildResults(BuildContext context) {\n    return Container(\n      width: 100.0,\n      height: 100.0,\n      child: Card(\n        color: Colors.redAccent,\n        child: Center(\n          child: Text(query),\n        ),\n      ),\n    );\n  }\n\n   @override\n  Widget buildSuggestions(BuildContext context) {\n    final suggestionList = query.isEmpty\n        ? recentSuggest\n        : searchList.where((input) =\u003e input.startsWith(query)).toList();\n    return ListView.builder(\n        itemCount: suggestionList.length,\n        itemBuilder: (context, index) =\u003e ListTile(\n              title: RichText(\n                  text: TextSpan(\n                      text: suggestionList[index].substring(0, query.length),\n                      style: TextStyle(\n                          color: Colors.black, fontWeight: FontWeight.bold),\n                      children: [\n                    TextSpan(\n                        text: suggestionList[index].substring(query.length),\n                        style: TextStyle(color: Colors.grey))\n                  ])),\n            ));\n  }\n\n\n}\n\n```\n\n\n## 第12节:  流式布局 模拟添加照片效果\n\n这节已一个模拟添加多张照片的小实例，主要学习一下流式布局在Flutter里的应用。如果你作为一个前端开发者，那这节课的内容将非常容易。\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=69809722\u0026page=12\" scrolling=\"no\" width=\"100%\" border=\"1\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\n![http://blogimages.jspang.com/FlutterDemo10.gif](http://blogimages.jspang.com/FlutterDemo10.gif)\n\n### mediaQuery 媒体查询\n\n使用`meidaQuery`可以很容易的得到屏幕的宽和高，得到宽和高的代码如下：\n\n```\nfinal width = MediaQuery.of(context).size.width;\nfinal height = MediaQuery.of(context).size.height;\n```\n\n### Wrap流式布局\n\nFlutter中流式布局大概有三种常用方法，这节课先学一下Wrap的流式布局。有的小伙伴会说Wrap中的流式布局可以用Flow很轻松的实现出来，但是Wrap更多的式在使用了Flex中的一些概念，某种意义上说式跟Row、Column更加相似的。\n\n\n\n单行的Wrap跟Row表现几乎一致，单列的Wrap则跟Column表现几乎一致。但Row与Column都是单行单列的，Wrap则突破了这个限制，mainAxis上空间不足时，则向crossAxis上去扩展显示。\n\n\n从效率上讲，Flow肯定会比Wrap高，但Wrap使用起来会更方便一些。\n\n这个会在实例中用到，所以，我在实例中会讲解这个代码。\n\n\n###  GestureDetector 手势操作\n\n`GestureDetector`它式一个Widget，但没有任何的显示功能，而只是一个手势操作，用来触发事件的。虽然很多Button组件是有触发事件的，比如点击，但是也有一些组件是没有触发事件的，比如：Padding、Container、Center这时候我们想让它有触发事件就需要再它们的外层增加一个`GestureDetector`，比如我们让Padding有触发事件，代码如下：\n\n```\nWidget buildAddButton(){\n    return  GestureDetector(\n      onTap:(){\n        if(list.length\u003c9){\n          setState(() {\n                list.insert(list.length-1,buildPhoto());\n          });\n        }\n      },\n      child: Padding(\n        padding:const EdgeInsets.all(8.0),\n        child: Container(\n          width: 80.0,\n          height: 80.0,\n          color: Colors.black54,\n          child: Icon(Icons.add),\n        ),\n      ),\n    );\n  }\n\n```\n\n\n### 入口文件\n\n入口文件很简单，就是引用了`warp_demo.dart`文件，然后再home属性中使用了`WarpDemo`，代码如下：\n\n```\nimport 'package:flutter/material.dart';\nimport 'warp_demo.dart';\n\nvoid main()=\u003erunApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Flutter Demo',\n      theme: new ThemeData.dark(),\n      home:WarpDemo()\n    );\n  }\n}\n\n```\n\n### warp_demo.dart\n\n主要的文件代码我就列在下面了，方便小伙伴们学习。讲解还式主要看视频吧。\n\n```\nimport 'package:flutter/material.dart';\n\n\n//继承与动态组件\nclass WarpDemo extends StatefulWidget {\n  _WarpDemoState createState() =\u003e _WarpDemoState();\n}\n\nclass _WarpDemoState extends State\u003cWarpDemo\u003e {\n  List\u003cWidget\u003e list;  //声明一个list数组\n\n  @override\n  //初始化状态，给list添加值，这时候调用了一个自定义方法`buildAddButton`\n  void initState() { \n    super.initState();\n    list = List\u003cWidget\u003e()..add(buildAddButton());\n  }\n\n\n  @override\n  Widget build(BuildContext context) {\n    //得到屏幕的高度和宽度，用来设置Container的宽和高\n    final width = MediaQuery.of(context).size.width;\n    final height = MediaQuery.of(context).size.height;\n    \n\n\n    return Scaffold(\n      appBar: AppBar(\n        title: Text('Wrap流式布局'),\n      ),\n      body:Center(\n        child: Opacity(\n          opacity: 0.8,\n          child: Container(\n            width: width,\n            height: height/2,\n            color: Colors.grey,\n            child: Wrap(    //流式布局，\n              children: list,\n              spacing: 26.0,  //设置间距\n            ),\n          ),\n        ),\n      )\n    );\n  }\n\n  Widget buildAddButton(){\n    //返回一个手势Widget，只用用于显示事件\n    return  GestureDetector(\n      onTap:(){\n        if(list.length\u003c9){\n          setState(() {\n                list.insert(list.length-1,buildPhoto());\n          });\n        }\n      },\n      child: Padding(\n        padding:const EdgeInsets.all(8.0),\n        child: Container(\n          width: 80.0,\n          height: 80.0,\n          color: Colors.black54,\n          child: Icon(Icons.add),\n        ),\n      ),\n    );\n  }\n\n\n  Widget buildPhoto(){\n    return Padding(\n        padding: const EdgeInsets.all(8.0),\n        child: Container(\n          width: 80.0,\n          height: 80.0,\n          color: Colors.amber,\n          child: Center(\n            child: Text('照片'),\n          ),\n        ),\n    );\n  }\n\n}\n```\n\n\n## 第13节: 展开闭合案例\n\n手机的屏幕本身就很小，所以要合理利用空间，把主要的元素展示出来，次要或者不重要的元素等用户向看的时候再给用户展示。这类操作最常见的交互就是展开和闭合了。这节课我们主要学习一下`ExpansionTile`组件的使用。\n\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=69758162\u0026page=13\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\n![http://blogimages.jspang.com/FlutterDemo11.gif](http://blogimages.jspang.com/FlutterDemo11.gif)\n\n\n### ExpansionTile组件\n\n`ExpansionTile Widget`就是一个可以展开闭合的组件，常用的属性有如下几个。\n\n- title:闭合时显示的标题，这个部分经常使用`Text Widget`。\n- leading:标题左侧图标，多是用来修饰，让界面显得美观。\n- backgroundColor: 展开时的背景颜色，当然也是有过度动画的，效果非常好。\n- children: 子元素，是一个数组，可以放入多个元素。\n- trailing ： 右侧的箭头，你可以自行替换但是我觉的很少替换，因为谷歌已经表现的很完美了。\n- initiallyExpanded: 初始状态是否展开，为true时，是展开，默认为false，是不展开。\n\n### main.dart入口文件\n\n```\nimport 'package:flutter/material.dart';\nimport 'expansion_tile.dart';\n\nvoid main() =\u003e runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title:'Flutter Demo',\n      theme: new ThemeData.dark(),\n      home:ExpansionTileDemo()\n    );\n  }\n}\n```\n\n### expansion_tile.dart 扩展组件\n\n这个文件是我们的主要学习文件，但是并不复杂，就是一个可展开组件。全部代码如下:\n```\nimport 'package:flutter/material.dart';\n\nclass ExpansionTileDemo extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title:Text('expansion tile demo')),\n      body:Center(\n        child: ExpansionTile(\n          title:Text('Expansion Tile'),\n          leading:Icon(Icons.ac_unit),\n          backgroundColor: Colors.white12,\n          children: \u003cWidget\u003e[\n            ListTile(\n              title:Text('list tile'),\n              subtitle:Text('subtitle')\n            )\n          ],\n          initiallyExpanded: true,\n        )\n      )\n    );\n  }\n}\n```\n\n这时候就可以预览了，效果也应该出现了。\n\n## 第14节: 展开闭合列表案例\n\n上节课学的只是一个单个的展开闭合组件，你当然可以把这个组件作为List元素，组成一个数组，形成列表。不过Flutter也很贴心的为提供了一个ExpansionPanelList Widget，它可以实现展开闭合的列表功能。\n\n需要注意的是这个列表必须放在可滑动组件中使用，否则会报错。\n\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=69758162\u0026page=14\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\n![http://blogimages.jspang.com/FlutterDemo12.gif](http://blogimages.jspang.com/FlutterDemo12.gif)\n\n### ExpansionPanelList 常用属性\n\n- expansionCallback:点击和交互的回掉事件，有两个参数，第一个是触发动作的索引，第二个是布尔类型的触发值。\n- children:列表的子元素，里边多是一个List数组。\n\n\n### ExpandStateBean 自定义类\n\n为了方便管理制作了一个`ExpandStateBean`类，里边就是两个状态，一个是是否展开`isOpen`,另一个索引值。代码如下:\n\n```\nclass ExpandStateBean{\n  var isOpen;\n  var index;\n  ExpandStateBean(this.index,this.isOpen);\n}\n```\n\n### expansion_panel_list.dart \n\n这个文件我就直接上代码了，讲解我会在视频里说明，代码中我也进行了详细的注释。\n\n```\nimport 'package:flutter/material.dart';\n\nclass ExpansionPanelListDemo extends StatefulWidget {\n  _ExpansionPanelListDemoState createState() =\u003e _ExpansionPanelListDemoState();\n}\n\nclass _ExpansionPanelListDemoState extends State\u003cExpansionPanelListDemo\u003e {\n  var currentPanelIndex = -1;\n  List\u003cint\u003e mList;   //组成一个int类型数组，用来控制索引\n  List\u003cExpandStateBean\u003e expandStateList;    //开展开的状态列表， ExpandStateBean是自定义的类\n  //构造方法，调用这个类的时候自动执行\n  _ExpansionPanelListDemoState(){\n    mList = new List(); \n    expandStateList = new List();\n    //便利为两个List进行赋值\n    for(int i=0;i\u003c10;i++){\n      mList.add(i);\n      expandStateList.add(ExpandStateBean(i,false));\n    }\n  }\n   //修改展开与闭合的内部方法\n  _setCurrentIndex(int index, isExpand){\n    setState(() {\n          //遍历可展开状态列表\n          expandStateList.forEach((item){\n            if(item.index==index){\n              //取反，经典取反方法\n              item.isOpen = !isExpand;\n            }\n          });\n        });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar:AppBar(\n        title:Text(\"expansion panel list\")\n      ),\n      //加入可滚动组件\n      body:SingleChildScrollView(\n        child: ExpansionPanelList(\n          //交互回掉属性，里边是个匿名函数\n          expansionCallback: (index,bol){\n            //调用内部方法\n            _setCurrentIndex(index, bol);\n          },\n          children: mList.map((index){//进行map操作，然后用toList再次组成List\n            return ExpansionPanel(\n              headerBuilder: (context,isExpanded){\n                return ListTile(\n                  title:Text('This is No. $index')\n                );\n              },\n              body:ListTile(\n                title:Text('expansion no.$index')\n              ),\n              isExpanded: expandStateList[index].isOpen\n            );\n          }).toList(),\n        ),\n      )\n\n    );\n  }\n}\n//自定义扩展状态类\nclass ExpandStateBean{\n  var isOpen;\n  var index;\n  ExpandStateBean(this.index,this.isOpen);\n}\n```\n\n## 第15节: 贝塞尔曲线切割 \n\n现在人们对于网站的美感要求是越来越高了，所以很多布局需要优美的曲线设计。当然最简单的办法是作一个PNG的透明图片，然后外边放一个`Container`.但其内容如果本身就不是图片，只是容器，这种放入图片的做法会让包体变大。其实我们完全可以使用贝塞尔曲线进行切割。\n\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=70409103\u0026page=15\" scrolling=\"no\" border=\"1\"  width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n![http://blogimages.jspang.com/FlutterDemo13.png](http://blogimages.jspang.com/FlutterDemo13.png)\n\n\n### 去掉DeBug图标\n\n在讲正式内容之前，先回答小伙伴们的一个问题，就是如何去掉DeBug图标。在我们进行编写代码预览时，有一Debug的图标一直在屏幕上，确实不太美观，其实只要语句代码就可以去掉的。\n\n```\n debugShowCheckedModeBanner: false,\n```\n这个代码要配置在主入口文件里，全部代码如下“\n\n```\nimport 'package:flutter/material.dart';\nimport 'custom_clipper.dart';\n\nvoid main() =\u003e runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title:'Flutter Demo',\n      debugShowCheckedModeBanner: false,\n      theme:ThemeData(\n        primarySwatch: Colors.blue,\n      ),\n      home:HomePage()\n    );\n  }\n}\n```\n\n\n### ClipPath 路径裁切控件\n\n`clipPath`控件可以把其内部的子控件切割，它有两个主要属性（参数）:\n\n- child :要切割的元素，可以是容器，图片.....\n- clipper : 切割的路径，这个要和CustomClipper对象配合使用。\n- \n\n```\nimport 'package:flutter/material.dart';\n\nclass HomePage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body:Column(\n        children: \u003cWidget\u003e[\n          ClipPath(\n            clipper:BottomClipper(),\n            child: Container(\n              color:Colors.deepPurpleAccent,\n              height: 200.0,\n            ),\n          )\n        ],\n      )\n    );\n  }\n}\n```\n\n在`Scaffold`里放置了一个列容器，然后把`ClipPath`控件放到了里边，`ClipPath`的子元素是一个容器控件`Container`。`BootomClipper`是我们自定义的一个对象，里边主要就是切割的路径。\n\n\n### CustomClipper 裁切路径\n\n我们主要的贝塞尔曲线路径就写在`getClip`方法里，它返回一段路径。\n\n一个二阶的贝塞尔曲线是需要控制点和终点的，控制点就像一块磁铁，把直线吸引过去，形成一个完美的弧度，这个弧度就是贝塞尔曲线了。\n\n我们先来熟悉一下裁切路径和贝塞尔曲线，作一个最简单的贝塞尔曲线出来。\n\n全部代码如下：\n\n```\nimport 'package:flutter/material.dart';\n\nclass HomePage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body:Column(\n        children: \u003cWidget\u003e[\n          ClipPath(\n            clipper:BottomClipper(),\n            child: Container(\n              color:Colors.deepPurpleAccent,\n              height: 200.0,\n            ),\n          )\n        ],\n      )\n    );\n  }\n}\n\nclass BottomClipperTest extends CustomClipper\u003cPath\u003e{\n  @override\n    Path getClip(Size size) {\n      // TODO: implement getClip\n      var path = Path();\n      path.lineTo(0, 0);\n      path.lineTo(0, size.height-30);\n      var firstControlPoint =Offset(size.width/2,size.height);\n      var firstEndPoint = Offset(size.width,size.height-30);\n\n      path.quadraticBezierTo(firstControlPoint.dx, firstControlPoint.dy, firstEndPoint.dx, firstEndPoint.dy);\n\n      path.lineTo(size.width, size.height-30);\n      path.lineTo(size.width, 0);\n    \n      return path;\n\n    }\n    @override\n      bool shouldReclip(CustomClipper\u003cPath\u003e oldClipper) {\n        // TODO: implement shouldReclip\n        return false;\n      }\n\n}\n```\n\n\n## 第16节: 波浪形式的贝塞尔曲线 \n\n上节课已经对知识点有了了解，这节课我们主要就是加大一些难度，作个更复杂的贝塞尔裁切出来。\n\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=70409103\u0026page=16\" scrolling=\"no\" border=\"1\"  width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n![http://blogimages.jspang.com/FlutterDemo14.png](http://blogimages.jspang.com/FlutterDemo14.png)\n\n这节课主要改造上节课的代码，作一个波浪形的贝塞尔裁切。波浪形式的只要把裁切变成两个对称的贝塞尔曲线就可以实现了。代码如下：（具体方法视频）\n\n```\nclass BottomClipper extends CustomClipper\u003cPath\u003e{\n  @override\n    Path getClip(Size size) {\n      // TODO: implement getClip\n      var path = Path();\n      path.lineTo(0, size.height-20);\n      var firstControlPoint =Offset(size.width/4,size.height);\n      var firstEndPoint = Offset(size.width/2.25,size.height-30);\n\n      path.quadraticBezierTo(firstControlPoint.dx, firstControlPoint.dy, firstEndPoint.dx, firstEndPoint.dy);\n\n      var secondControlPoint = Offset(size.width/4*3,size.height-80);\n      var secondEndPoint = Offset(size.width,size.height-40);\n\n      path.quadraticBezierTo(secondControlPoint.dx, secondControlPoint.dy, secondEndPoint.dx, secondEndPoint.dy);\n\n      path.lineTo(size.width, size.height-40);\n      path.lineTo(size.width, 0);\n\n      return path;\n\n    }\n    @override\n      bool shouldReclip(CustomClipper\u003cPath\u003e oldClipper) {\n        // TODO: implement shouldReclip\n        return false;\n      }\n\n}\n```\n\n这两节课的主要内容就是如何裁切和贝塞尔曲线的原理，其实裁切还有圆形裁切、圆角裁切和矩形裁切，因为都比较容易，我就不再讲解了。感兴趣的小伙伴可以自学一下。\n\n## 第17节：打开应用的闪屏动画案例\n\n打开一个APP，经常会看到精美的启动页，这种启动页也称为闪屏动画。它是从无到有有一个透明度的渐变动画的。图像展示完事后，才跳转到用户可操作的页面。这节课主要学习一下闪屏动画的制作。\n\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=70687456\u0026page=17\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n![http://blogimages.jspang.com/FlutterDemo15.gif](http://blogimages.jspang.com/FlutterDemo15.gif)\n\n### AnimationController \n\n`AnimationController`是`Animation`的一个子类，它可以控制`Animation`, 也就是说它是来控制动画的，比如说控制动画的执行时间。\n\n我们这里有了两个参数 ：\n\n- `vsync:this` :垂直同步设置，使用this就可以了。 \n-  `duration` : 动画持续时间，这个可以使用`seconds`秒，也可以使用`milliseconds`毫秒，工作中经常使用毫秒，因为秒还是太粗糙了。\n\n来看一段代码，这段代码就是控制动画的一个典型应用。\n\n```\n _controller = AnimationController(vsync:this,duration:Duration(milliseconds:3000));\n_animation = Tween(begin: 0.0,end:1.0).animate(_controller);\n```\n\n这段代码的意思是，设置一个动画控制器，这个动画控制器控制动画执行时间是3000毫秒。然后我们设置了一段动画，动画使用了动画控制器的约定。\n\n\n### animation.addStatusListener \n\n`animation.addStatusListener`动画事件监听器，它可以监听到动画的执行状态，我们这里只监听动画是否结束，如果结束则执行页面跳转动作。\n\n```\n_animation.addStatusListener((status){\n  if(status == AnimationStatus.completed){\n    Navigator.of(context).pushAndRemoveUntil(\n      MaterialPageRoute(builder: (context)=\u003eMyHomePage()), \n      (route)=\u003e route==null);\n  }\n});\n```\n\n- `AnimationStatus.completed`:表示动画已经执行完毕。\n- `pushAndRemoveUntil`:跳转页面，并销毁当前控件。\n\n\n\n### 案例重要代码\n\n我们会了上边的知识点，做出案例就没什么问题了。我把复杂的代码都作了注释，小伙伴们应该可以看懂。\n\nmain.dart文件\n\n```\nimport 'package:flutter/material.dart';\nimport 'splash_screen.dart';\n\nvoid main() =\u003e runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Flutter Demo',\n      theme: ThemeData(\n        primarySwatch:Colors.blue,\n      ),\n      home:SplashScreen()\n    );\n  }\n}\n```\n\n\nsplash_screen.dart文件\n\n```\nimport 'package:flutter/material.dart';\nimport 'home_page.dart';\n\nclass SplashScreen extends StatefulWidget {\n  _SplashScreenState createState() =\u003e _SplashScreenState();\n}\n\nclass _SplashScreenState extends State\u003cSplashScreen\u003e with SingleTickerProviderStateMixin {\n\n  AnimationController _controller;\n  Animation _animation;\n\n  void initState() { \n    super.initState();\n    _controller = AnimationController(vsync:this,duration:Duration(milliseconds:3000));\n    _animation = Tween(begin: 0.0,end:1.0).animate(_controller);\n\n\n    /*动画事件监听器，\n    它可以监听到动画的执行状态，\n    我们这里只监听动画是否结束，\n    如果结束则执行页面跳转动作。 */\n    _animation.addStatusListener((status){\n      if(status == AnimationStatus.completed){\n        Navigator.of(context).pushAndRemoveUntil(\n          MaterialPageRoute(builder: (context)=\u003eMyHomePage()), \n          (route)=\u003e route==null);\n      }\n    });\n    //播放动画\n    _controller.forward();\n  }\n\n  @override\n  void dispose() {\n    _controller.dispose();\n    super.dispose();\n  }\n\n\n  @override\n  Widget build(BuildContext context) {\n    return FadeTransition( //透明度动画组件\n      opacity: _animation,  //执行动画\n      child: Image.network(  //网络图片\n        'https://timgsa.baidu.com/timg?image\u0026quality=80\u0026size=b9999_10000\u0026sec=1546851657199\u0026di=fdd278c2029f7826790191d59279dbbe\u0026imgtype=0\u0026src=http%3A%2F%2Fimg.zcool.cn%2Fcommunity%2F0112cb554438090000019ae93094f1.jpg%401280w_1l_2o_100sh.jpg',\n        scale: 2.0,  //进行缩放\n        fit:BoxFit.cover  // 充满父容器\n      ),\n    );\n  }\n}\n```\n\nhome_page.dart文件\n\n```\nimport 'package:flutter/material.dart';\n\nclass MyHomePage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title:Text('首页')),\n      body:Center(\n        child: Text('我是首页')\n      )\n    );\n  }\n}\n```\n\n希望小伙伴都能练习一下，做出这个动态图片的效果。\n\n## 第18节：右滑返回上一页案例\n\n在苹果手机上有一种才操作叫做右滑返回上一页，一些不错的应用都有类似的操作，随着苹果手机越来越多，这种操作开始普遍开来，在安卓手机上也开始使用。这节就来学习一下如何实现这种右滑返回上一页的操作。\n\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=70687456\u0026page=18\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\n![http://blogimages.jspang.com/FlutterDemo16.gif](http://blogimages.jspang.com/FlutterDemo16.gif)\n\n\n### Cupertino UI\n\n其实早都知道Flutter有两套UI模板，一套是`material`,另一套就是`Cupertino`。`Cupertino`主要针对的的就是IOS系统的UI，所以用的右滑返回上一级就是在这个`Cupertino`里。\n\n**Cupertino的引入方法**\n\n直接使用import引入就可以了，代码如下:\n\n```\nimport 'package:flutter/cupertino.dart';\n```\n\n引入了`cupertino`的包之后，就可以使用皮肤和交互效果的特性了。要用的右滑返回上一页也是皮肤的交互特性，直接使用就可以了。\n\n### CupertinoPageScaffold \n\n这个和以前使用`material`的`Scaffold`类似，不过他里边的参数是`child`，例如下面的代码.\n```\nreturn CupertinoPageScaffold(\n  child: Center(\n    child: Container(\n      height: 100.0,\n      width:100.0,\n      color: CupertinoColors.activeBlue,\n      child: CupertinoButton(\n        child: Icon(CupertinoIcons.add),\n        onPressed: (){\n          Navigator.of(context).push(\n            CupertinoPageRoute(builder: (BuildContext context){\n              return RightBackDemo();\n            })\n          );\n        },\n      ),\n    ),\n  ),\n);\n```\n\n在`Cupertino`下也有很多`Widget`控件，他们都是以`Cupertino`开头的，这就让我们很好区分，当然两种皮肤是可以进行混用的。\n\n### 整个案例代码\n\n这个案例就两个主要文件，`main.dart`和`right_back_demo.dart`，具体解释可以看视频，代码如下:\n\n**main.dart文件代码**\n\n```\nimport 'package:flutter/material.dart';\nimport 'right_back_demo.dart';\n\nvoid main()=\u003erunApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title:'Flutter Demo',\n      theme:ThemeData(primarySwatch: Colors.blue),\n      home: RightBackDemo(),\n    );\n  }\n}\n\n```\n\n**right_back_demo。dart文件**\n\n```\nimport 'package:flutter/cupertino.dart'; \n\nclass RightBackDemo extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return CupertinoPageScaffold(\n      child: Center(\n        child: Container(\n          height: 100.0,\n          width:100.0,\n          color: CupertinoColors.activeBlue,\n          child: CupertinoButton(\n            child: Icon(CupertinoIcons.add),\n            onPressed: (){\n              Navigator.of(context).push(\n                CupertinoPageRoute(builder: (BuildContext context){\n                  return RightBackDemo();\n                })\n              );\n            },\n          ),\n        ),\n      ),\n    );\n  }\n}\n```\n\n其实只要使用`CupertinoPageRoute`打开的子页面，就可以实现右滑返回上一级。所以整个案例并不难。希望小伙伴们有所收获。\n\n## 第19节：ToolTip控件实例\n\n轻提示的效果在应用中式少不了的，其实Flutter已经准备好了轻提示控件，这就是`toolTip`。 \n\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=70687456\u0026page=19\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\n![http://blogimages.jspang.com/FlutterDemo17.gif](http://blogimages.jspang.com/FlutterDemo17.gif)\n\n\n### 轻量级操作提示\n\n其实Flutter中有很多提示控件,比如`Dialog`、`Snackbar`和`BottomSheet`这些操作都是比较重量级的，存在屏幕上的时间较长或者会直接打断用户的操作。\n\n当然我并不是说这些控件不好，根据需求的不同，要有多种选择，所以才会给大家讲一下轻量级操作提示`Tooltip`\n\n`Tooltip`是继承于`StatefulWidget`的一个Widget，它并不需要调出方法，当用户长按被`Tooltip`包裹的Widget时，会自动弹出相应的操作提示。\n\n### main.dart文件\n\n这节课就用最简单代码给大家做一个轻量级提示案例出来。入口文件代码如下：\n\n```\nimport 'package:flutter/material.dart';\nimport 'tool_tips_demo.dart';\n\nvoid main()=\u003e runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title:'Flutter Demo',\n      theme:ThemeData.light(),\n      home: ToolTipDemo(),\n    );\n  }\n}\n```\n\n### tool_tips_demo.dart文件\n\n这个文件主要的用途就是承载轻提示控件，代码如下：\n\n```\nimport 'package:flutter/material.dart';\n\nclass ToolTipDemo extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title:Text('tool tips demo')),\n      body:Center(\n        child: Tooltip(\n          message: '不要碰我，我怕痒',\n          child: Icon(Icons.all_inclusive),\n        ),\n      )\n    );\n  }\n}\n\n```\n\n## 20节Draggable控件实例\n\nFlutter提供了强大的拖拽控件，可以灵活定制，并且非常简单。这节课就学习一下Flutter拖拽控件，并根据学到的知识作一个拖拽案例。\n\n这节课也是我们这个文章的最后一节，一共讲了20节，这20节算是一个Flutter进阶，是入门和实战的一个桥梁，在课程中我尽量靠近了平时工作的开发环境，无论hi编辑工具还是区分模块，都以实际工作为出发点，我相信只要你用心学习了这20节，一定是有所收获的。\n\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=71559162\u0026page=20\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n![http://blogimages.jspang.com/FlutterDemo18.gif](http://blogimages.jspang.com/FlutterDemo18.gif)\n\n### Draggable Widget\n\n`Draggable`控件负责就是拖拽，父层使用了`Draggable`，它的子元素就是可以拖动的，子元素可以实容器，可以是图片。用起来非常的灵活。\n\n参数说明：\n\n-  `data`: 是要传递的参数，在`DragTarget`里，会接受到这个参数。当然要在拖拽控件推拽到`DragTarget`的时候。\n- `child`:在这里放置你要推拽的元素，可以是容器，也可以是图片和文字。\n- `feedback`: 常用于设置推拽元素时的样子，在案例中当推拽的时候，我们把它的颜色透明度变成了50%。当然你还可以改变它的大小。\n- `onDraggableCanceled`:是当松开时的相应事件，经常用来改变推拽时到达的位置，改变时用`setState`来进行。\n\n\n代码:\n\n```\nDraggable(\n  data:widget.widgetColor,\n  child: Container(\n    width: 100,\n    height: 100,\n    color:widget.widgetColor,\n  ),\n  feedback:Container(\n    width: 100.0,\n    height: 100.0,\n    color: widget.widgetColor.withOpacity(0.5),\n  ),\n  onDraggableCanceled: (Velocity velocity, Offset offset){\n    setState(() {\n      this.offset = offset;\n    });\n  },\n```\n\n### DragTarget Widget\n\n`DragTarget`是用来接收拖拽事件的控件，当把`Draggable`放到`DragTarget`里时，他会接收`Draggable`传递过来的值，然后用生成器改变组件状态。\n\n- onAccept:当推拽到控件里时触发，经常在这里得到传递过来的值。\n- builder: 构造器，里边进行修改child值。\n\n```\nDragTarget(onAccept: (Color color) {\n  _draggableColor = color;\n}, builder: (context, candidateData, rejectedData) {\n  return Container(\n    width: 200.0,\n    height: 200.0,\n    color: _draggableColor,\n  );\n}),\n\n```\n\n### 实例代码DEMO\n\nmain.dart 文件：\n\n```\nimport 'package:flutter/material.dart';\nimport 'draggable_demo.dart';\n\nvoid main() =\u003e runApp(new MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title:'Flutter Demo',\n      theme:ThemeData(\n        primarySwatch: Colors.blue\n      ),\n      home:DraggableDemo()\n    );\n  }\n}\n```\n\ndraggable_demo.dart 文件\n\n```\nimport 'package:flutter/material.dart';\n\nimport 'draggable_widget.dart';\n\nclass DraggableDemo extends StatefulWidget {\n  @override\n  _DraggableDemoState createState() =\u003e _DraggableDemoState();\n}\n\nclass _DraggableDemoState extends State\u003cDraggableDemo\u003e {\n  Color _draggableColor = Colors.grey;\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n        body: Stack(\n      children: \u003cWidget\u003e[\n        DraggableWidget(\n          offset: Offset(80.0, 80.0),\n          widgetColor: Colors.tealAccent,\n        ),\n        DraggableWidget(\n          offset: Offset(180.0, 80.0),\n          widgetColor: Colors.redAccent,\n        ),\n        Center(\n          child: DragTarget(onAccept: (Color color) {\n            _draggableColor = color;\n          }, builder: (context, candidateData, rejectedData) {\n            return Container(\n              width: 200.0,\n              height: 200.0,\n              color: _draggableColor,\n            );\n          }),\n        )\n      ],\n    ));\n  }\n}\n```\n\ndraggable_widget.dart 文件\n\n```\nimport 'package:flutter/material.dart';\n\nclass DraggableWidget extends StatefulWidget {\n  final Offset offset;\n  final Color widgetColor;\n  const DraggableWidget({Key key, this.offset, this.widgetColor}):super(key:key);\n  _DraggableWidgetState createState() =\u003e _DraggableWidgetState();\n}\n\nclass _DraggableWidgetState extends State\u003cDraggableWidget\u003e {\n  Offset offset = Offset(0.0,0.0);\n  @override\n  void initState() {\n    super.initState();\n    offset = widget.offset;\n  }\n\n  @override\n  Widget build(BuildContext context) {\n   return Positioned(\n     left: offset.dx,\n     top:offset.dy,\n     child: Draggable(\n       data:widget.widgetColor,\n       child: Container(\n         width: 100,\n         height: 100,\n         color:widget.widgetColor,\n       ),\n       feedback:Container(\n         width: 100.0,\n         height: 100.0,\n         color: widget.widgetColor.withOpacity(0.5),\n       ),\n       onDraggableCanceled: (Velocity velocity, Offset offset){\n         setState(() {\n            this.offset = offset;\n         });\n       },\n     ),\n   );\n  }\n}\n```\n\n这个案例做完，我们这篇文章就算结束了，我也希望你能有所收获。但是看一遍肯定什么都学不会，关键的是自己动手作一下，才可以有所收获。我在文章和课程中反复强调，希望小伙伴们真的能学会。\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","introduce":"这篇文章是Flutter基础的一个进阶教程，主要讲解的是在工作中一些常用的功能。学完这篇文章和视频，你可以轻松制作出80%以上工作中常用的Flutter复杂效果，对Flutter有更深刻的了解。\n\n**本文是实战和基础的一个衔接总结。** 在学完基础后，很多小伙伴都急于上手一个实战项目，觉的做完实战项目就算学会了Flutter，达到了工作水平一样。其实在实战和基础之间还需要有一个过度，人们喜欢称之为进阶。那这篇文章或者说视频就是进阶教程，它会以小实例的方式进行讲解。实例也会达到20个以上，每个小实例就是一个小的实战。\n\n\n** 学习这篇文章最重要的是，你必须在看完视频后动手练习，否则很难学会。**","view_count":12326,"part_count":20,"article_content_html":"\u003ca id=\"toc21\" href=\"#toc21\" class=\"anchor-fix\"\u003e\u003ch2\u003e前置知识和说明\u003c/h2\u003e\u003c/a\u003e\n\u003cp\u003e\u003cstrong\u003e特别说明\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e最重要的放在最前面，这些实例有些是我原创的代码，有些是在Github上找到的，都是开源的，所以我和你都可以放心大胆的使用。（我不创造知识，我只是知识的搬运工。创造知识是尤大神和Google这样的人或公司才能做到的 ，我的级别还不行。我的目的就是减轻你的学习成本。）\u003c/p\u003e\n\u003cp\u003e视频的目的是为了节约大家的学习成本，让大家简单快速的学会知识。视频中的任何一段代码我都有详细的讲解，但是我觉既然是一个进阶教程，不光要学习零散的知识点，最重要的是理解Flutter的开发模式、习惯和一些面向对象方法。\u003c/p\u003e\n\u003cp\u003e那在学习这篇文章之前，你应该先学习一下基础知识，至少把下面这四篇文章，共25集视频，先看一边，作一下练习。(这些视频是完全免费的，大家直接可以在博客上收看)。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003e第一季Flutter视频教程地址：\u003ca href=\"https://jspang.com/posts/2019/01/20/flutter-base.html\"\u003ehttps://jspang.com/posts/2019/01/20/flutter-base.html\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e第二季Flutter视频教程地址：\u003ca href=\"https://jspang.com/posts/2019/01/21/flutter-base2.html\"\u003ehttps://jspang.com/posts/2019/01/21/flutter-base2.html\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e第三季Flutter视频教程地址：\u003ca href=\"https://jspang.com/posts/2019/01/28/flutter-base3.html\"\u003ehttps://jspang.com/posts/2019/01/28/flutter-base3.html\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e第四季Flutter视频教程地址：\u003ca href=\"https://jspang.com/posts/2019/02/01/flutter-base4.html\"\u003ehttps://jspang.com/posts/2019/02/01/flutter-base4.html\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ca id=\"toc22\" href=\"#toc22\" class=\"anchor-fix\"\u003e\u003ch2\u003eQQ群和微信群\u003c/h2\u003e\u003c/a\u003e\n\u003cp\u003e*\u003cem\u003eQQ群806799257 *\u003c/em\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e学习讨论QQ群：806799257 \u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003e入群问题：Flutter出自于哪个公司？\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003e入群答案：google\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e\u003cstrong\u003e微信群：\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e其实我微信群上的还是比较多的，QQ群则少很多，小伙伴们可以加我微信群。\u003c/p\u003e\n\u003cp\u003e先扫码添加我微信好友，备注我要进群，我每天会在中午把你们邀请进群。\u003c/p\u003e\n\u003cp\u003e为方便小伙伴学习，微信群里提供文章的高清视频下载。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"http://jspang.com/static/upload/20190102/_g3UOTjGLvyYE-l0YMS6t-0E.jpg\" alt=\"alt\"\u003e\u003c/p\u003e\n\u003ca id=\"toc23\" href=\"#toc23\" class=\"anchor-fix\"\u003e\u003ch2\u003e案例效果查看\u003c/h2\u003e\u003c/a\u003e\n\u003ctable\u003e\n    \u003ctr\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo01.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo02.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo03.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n    \u003c/tr\u003e\n\n\n \u003ctr\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo04.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo05.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo06.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n    \u003c/tr\u003e\n\n \u003ctr\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo07.png\" \u003e\u003c/center\u003e\u003c/td\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo08.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo09.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n    \u003c/tr\u003e\n\n \u003ctr\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo10.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo11.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo12.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n    \u003c/tr\u003e\n \u003ctr\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo13.png\" \u003e\u003c/center\u003e\u003c/td\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo14.png\" \u003e\u003c/center\u003e\u003c/td\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo15.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n    \u003c/tr\u003e\n\u003ctr\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo16.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo17.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo18.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n    \u003c/tr\u003e\n\u003c/table\u003e\n\n\n\n\u003ca id=\"toc24\" href=\"#toc24\" class=\"anchor-fix\"\u003e\u003ch2\u003e第01节: 底部导航栏制作-1\u003c/h2\u003e\u003c/a\u003e\n\u003cp\u003e工作中最简单的一个APP也要具备一个功能，就是底部导航栏，你很难找出没有底部导航栏的应用。这么刚需的功能，那就从这里入手开始学习吧。\u003c/p\u003e\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=69758162\u0026page=1\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\u003cp\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo01.gif\" alt=\"http://blogimages.jspang.com/FlutterDemo01.gif\"\u003e\u003c/p\u003e\n\u003ca id=\"toc35\" href=\"#toc35\" class=\"anchor-fix\"\u003e\u003ch3\u003e主入口文件的编写\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e首先我们先写一个主入口文件，这个文件只是简单的APP通用结构，最主要的是要引入自定义的\u003ccode\u003eBottomNavigationWidget\u003c/code\u003e组件。\u003c/p\u003e\n\u003cp\u003emain.dart代码如下(视频中会进行详细讲解)\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'bottom_navigation_widget\u003c/span\u003e.dart';\n\nvoid main()=\u0026gt; runApp(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eMyApp\u003c/span\u003e());\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eMyApp\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eMaterialApp\u003c/span\u003e(\n      title:\u003cspan class=\"hljs-symbol\"\u003e'Flutter\u003c/span\u003e bottomNavigationBar',\n      theme:\u003cspan class=\"hljs-type\"\u003eThemeData\u003c/span\u003e.light(),\n      home:\u003cspan class=\"hljs-type\"\u003eBottomNavigationWidget\u003c/span\u003e()\n    );\n  }.\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e注意的是\u003ccode\u003eBottomNaivgationWidget\u003c/code\u003e这个组件还没有编写，所以现在会报错。\u003c/p\u003e\n\u003ca id=\"toc36\" href=\"#toc36\" class=\"anchor-fix\"\u003e\u003ch3\u003eStatefulWidget 讲解\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e在编写\u003ccode\u003eBottomNaivgationWidget\u003c/code\u003e组件前，我们需要简单了解一下什么是\u003ccode\u003eStatefulWidget\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eStatefulWidget\u003c/code\u003e具有可变状态(state)的窗口组件（widget）。使用这个要根据变化状态，调整State值。\u003c/p\u003e\n\u003cp\u003e在lib目录下，新建一个\u003ccode\u003ebottom_navigation_widget.dart\u003c/code\u003e文件。\u003c/p\u003e\n\u003cp\u003e它的初始化和以前使用的\u003ccode\u003eStatelessWidget\u003c/code\u003e不同，我们在VSCode中直接使用快捷方式生成代码（直接在VSCode中输入stful）：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003ename\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatefulWidget\u003c/span\u003e \u003c/span\u003e{\n  _nameState createState() =\u0026gt; _nameState();\n}\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003e_nameState\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eState\u0026lt;name\u0026gt;\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eContainer\u003c/span\u003e(\n       child: child,\n    );\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e上面的代码可以清楚的看到，使用\u003ccode\u003eStatefulWidget\u003c/code\u003e分为两个部分，第一个部分是继承与\u003ccode\u003eStatefullWidget\u003c/code\u003e，第二个部分是继承于\u003ccode\u003eState\u003c/code\u003e.其实\u003ccode\u003eState\u003c/code\u003e部分才是我们的重点，主要的代码都会写在\u003ccode\u003eState\u003c/code\u003e中。\u003c/p\u003e\n\u003ca id=\"toc37\" href=\"#toc37\" class=\"anchor-fix\"\u003e\u003ch3\u003eBottomNaivgationWidget自定义\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e接下来我们就要创建\u003ccode\u003eBottomNaivgationWidget\u003c/code\u003e这个Widget了，只是建立一个底部导航。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eBottomNavigationWidget\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatefulWidget\u003c/span\u003e \u003c/span\u003e{\n  _BottomNavigationWidgetState createState() =\u0026gt; _BottomNavigationWidgetState();\n}\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003e_BottomNavigationWidgetState\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eState\u0026lt;BottomNavigationWidget\u0026gt;\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e _BottomNavigationColor = \u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.blue;\n\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n     \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n\n       bottomNavigationBar: \u003cspan class=\"hljs-type\"\u003eBottomNavigationBar\u003c/span\u003e(\n         items: [\n           \u003cspan class=\"hljs-type\"\u003eBottomNavigationBarItem\u003c/span\u003e(\n             icon:\u003cspan class=\"hljs-type\"\u003eIcon\u003c/span\u003e(\n               \u003cspan class=\"hljs-type\"\u003eIcons\u003c/span\u003e.home,\n               color:_BottomNavigationColor,\n             ),\n             title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\n               \u003cspan class=\"hljs-symbol\"\u003e'Hom\u003c/span\u003ee',\n               style:\u003cspan class=\"hljs-type\"\u003eTextStyle\u003c/span\u003e(color:_BottomNavigationColor)\n             )\n           ),\n           \u003cspan class=\"hljs-type\"\u003eBottomNavigationBarItem\u003c/span\u003e(\n             icon:\u003cspan class=\"hljs-type\"\u003eIcon\u003c/span\u003e(\n               \u003cspan class=\"hljs-type\"\u003eIcons\u003c/span\u003e.email,\n               color:_BottomNavigationColor,\n             ),\n             title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\n               \u003cspan class=\"hljs-symbol\"\u003e'Emai\u003c/span\u003el',\n               style:\u003cspan class=\"hljs-type\"\u003eTextStyle\u003c/span\u003e(color:_BottomNavigationColor)\n             )\n           ),\n           \u003cspan class=\"hljs-type\"\u003eBottomNavigationBarItem\u003c/span\u003e(\n             icon:\u003cspan class=\"hljs-type\"\u003eIcon\u003c/span\u003e(\n               \u003cspan class=\"hljs-type\"\u003eIcons\u003c/span\u003e.pages,\n               color:_BottomNavigationColor,\n             ),\n             title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\n               \u003cspan class=\"hljs-symbol\"\u003e'Page\u003c/span\u003es',\n               style:\u003cspan class=\"hljs-type\"\u003eTextStyle\u003c/span\u003e(color:_BottomNavigationColor)\n             )\n           ),\n           \u003cspan class=\"hljs-type\"\u003eBottomNavigationBarItem\u003c/span\u003e(\n             icon:\u003cspan class=\"hljs-type\"\u003eIcon\u003c/span\u003e(\n               \u003cspan class=\"hljs-type\"\u003eIcons\u003c/span\u003e.airplay,\n               color:_BottomNavigationColor,\n             ),\n             title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\n               \u003cspan class=\"hljs-symbol\"\u003e'AipPla\u003c/span\u003ey',\n               style:\u003cspan class=\"hljs-type\"\u003eTextStyle\u003c/span\u003e(color:_BottomNavigationColor)\n             )\n           ),\n         ],\n         \u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003etype\u003c/span\u003e\u003c/span\u003e:\u003cspan class=\"hljs-type\"\u003eBottomNavigationBarType\u003c/span\u003e.fixed\n       ),\n     );\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e这时候我们就可以使用\u003ccode\u003eflutter run\u003c/code\u003e 来进行查看代码了，效果已经出现，在APP的页面上已经出现了一个底部导航栏，只不过现在还点击还没有什么效果。\u003c/p\u003e\n\u003cp\u003e下节课我们继续学习，让点击后可以切换页面，完成我们第一个的小实例效果。\u003c/p\u003e\n\u003ca id=\"toc28\" href=\"#toc28\" class=\"anchor-fix\"\u003e\u003ch2\u003e第02节: 底部导航栏制作-2\u003c/h2\u003e\u003c/a\u003e\n\u003cp\u003e这节课我们继续上节课的内容，把底部导航的完整效果做出来，我们先把几个要导航的页面创建出来。\u003c/p\u003e\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=69758162\u0026page=2\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\u003ca id=\"toc39\" href=\"#toc39\" class=\"anchor-fix\"\u003e\u003ch3\u003e子页面的编写\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e子页面我们就采用最简单的编写了，只放入一个\u003ccode\u003eAppBar\u003c/code\u003e和一个\u003ccode\u003eCenter\u003c/code\u003e，然后用Text Widget表明即可。\u003c/p\u003e\n\u003cp\u003e先来写一个HomeScreen组件，新建一个pages目录，然后在目录下面新建\u003ccode\u003ehome_screen.dart\u003c/code\u003e文件。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eHomeScreen\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n      appBar:\u003cspan class=\"hljs-type\"\u003eAppBar\u003c/span\u003e(\n        title: \u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\u003cspan class=\"hljs-symbol\"\u003e'HOM\u003c/span\u003eE'),\n      ),\n      body:\u003cspan class=\"hljs-type\"\u003eCenter\u003c/span\u003e(\n        child: \u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\u003cspan class=\"hljs-symbol\"\u003e'HOM\u003c/span\u003eE'),\n      )\n    );\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e有了这个文件剩下的文件就可以复制粘贴，然后改少量的代码来完成了。\u003c/p\u003e\n\u003cp\u003e分别建立:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eemail_screen.dart\u003c/li\u003e\n\u003cli\u003epages_screen.dart\u003c/li\u003e\n\u003cli\u003eairplay_screen.dart\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e这些都是导航要用的子页面，有了这些页面，我们才能继续编写代码。\u003c/p\u003e\n\u003ca id=\"toc310\" href=\"#toc310\" class=\"anchor-fix\"\u003e\u003ch3\u003e重写initState()方法\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e我们要重新\u003ccode\u003einitState()\u003c/code\u003e方法，把刚才做好的页面进行初始化到一个Widget数组中。有了数组就可以根据数组的索引来切换不同的页面了。这是现在几乎所有的APP采用的方式。\u003c/p\u003e\n\u003cp\u003e代码如下:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e List\u0026lt;Widget\u0026gt; list = List();\n @override\n void initState(){\n    list\n      \u003cspan class=\"hljs-built_in\"\u003e..\u003c/span\u003e\u003cspan class=\"hljs-builtin-name\"\u003eadd\u003c/span\u003e(HomeScreen())\n      \u003cspan class=\"hljs-built_in\"\u003e..\u003c/span\u003e\u003cspan class=\"hljs-builtin-name\"\u003eadd\u003c/span\u003e(EmailScreen())\n      \u003cspan class=\"hljs-built_in\"\u003e..\u003c/span\u003e\u003cspan class=\"hljs-builtin-name\"\u003eadd\u003c/span\u003e(PagesScreen())\n      \u003cspan class=\"hljs-built_in\"\u003e..\u003c/span\u003e\u003cspan class=\"hljs-builtin-name\"\u003eadd\u003c/span\u003e(AirplayScreen());\n    super.initState();\n  }\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e这里的\u003ccode\u003e..add()\u003c/code\u003e是Dart语言的..语法，如果你学过编程模式，你一定听说过建造者模式，简单来说就是返回调用者本身。这里list后用了..add()，还会返回list，然后就一直使用..语法，能一直想list里增加widget元素。 最后我们调用了一些父类的\u003ccode\u003einitState()\u003c/code\u003e方法。\u003c/p\u003e\n\u003ca id=\"toc311\" href=\"#toc311\" class=\"anchor-fix\"\u003e\u003ch3\u003eBottomNavigationBar里的响应事件\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e\u003ccode\u003eBottomNavigationBar\u003c/code\u003e组件里提供了一个相应事件\u003ccode\u003eonTap\u003c/code\u003e，这个事件自带一个索引值\u003ccode\u003eindex\u003c/code\u003e，通过索引值我们就可以和我们list里的索引值相对应了。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e        onTap:(\u003cspan class=\"hljs-keyword\"\u003eint\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eindex\u003c/span\u003e){\n           setState((){\n             _currentIndex= \u003cspan class=\"hljs-keyword\"\u003eindex\u003c/span\u003e;\n           });\n         },\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e现在给出全部的\u003ccode\u003ebottom_navigation_widget.dart\u003c/code\u003e的全部代码，讲解我会在视频中一行一行讲解。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'pages\u003c/span\u003e/home_screen.dart';\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'pages\u003c/span\u003e/email_screen.dart';\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'pages\u003c/span\u003e/pages_screen.dart';\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'pages\u003c/span\u003e/airplay_screen.dart';\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eBottomNavigationWidget\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatefulWidget\u003c/span\u003e \u003c/span\u003e{\n  _BottomNavigationWidgetState createState() =\u0026gt; _BottomNavigationWidgetState();\n}\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003e_BottomNavigationWidgetState\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eState\u0026lt;BottomNavigationWidget\u0026gt;\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e _BottomNavigationColor = \u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.blue;\n  int _currentIndex = \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;\n  \u003cspan class=\"hljs-type\"\u003eList\u003c/span\u003e\u0026lt;\u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e\u0026gt; list = \u003cspan class=\"hljs-type\"\u003eList\u003c/span\u003e();\n\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  void initState(){\n    list\n      ..add(\u003cspan class=\"hljs-type\"\u003eHomeScreen\u003c/span\u003e())\n      ..add(\u003cspan class=\"hljs-type\"\u003eEmailScreen\u003c/span\u003e())\n      ..add(\u003cspan class=\"hljs-type\"\u003ePagesScreen\u003c/span\u003e())\n      ..add(\u003cspan class=\"hljs-type\"\u003eAirplayScreen\u003c/span\u003e());\n    \u003cspan class=\"hljs-keyword\"\u003esuper\u003c/span\u003e.initState();\n  }\n\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n     \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n       body: list[_currentIndex],\n       bottomNavigationBar: \u003cspan class=\"hljs-type\"\u003eBottomNavigationBar\u003c/span\u003e(\n         items: [\n           \u003cspan class=\"hljs-type\"\u003eBottomNavigationBarItem\u003c/span\u003e(\n             icon:\u003cspan class=\"hljs-type\"\u003eIcon\u003c/span\u003e(\n               \u003cspan class=\"hljs-type\"\u003eIcons\u003c/span\u003e.home,\n               color:_BottomNavigationColor,\n             ),\n             title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\n               \u003cspan class=\"hljs-symbol\"\u003e'Hom\u003c/span\u003ee',\n               style:\u003cspan class=\"hljs-type\"\u003eTextStyle\u003c/span\u003e(color:_BottomNavigationColor)\n             )\n           ),\n           \u003cspan class=\"hljs-type\"\u003eBottomNavigationBarItem\u003c/span\u003e(\n             icon:\u003cspan class=\"hljs-type\"\u003eIcon\u003c/span\u003e(\n               \u003cspan class=\"hljs-type\"\u003eIcons\u003c/span\u003e.email,\n               color:_BottomNavigationColor,\n             ),\n             title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\n               \u003cspan class=\"hljs-symbol\"\u003e'Emai\u003c/span\u003el',\n               style:\u003cspan class=\"hljs-type\"\u003eTextStyle\u003c/span\u003e(color:_BottomNavigationColor)\n             )\n           ),\n           \u003cspan class=\"hljs-type\"\u003eBottomNavigationBarItem\u003c/span\u003e(\n             icon:\u003cspan class=\"hljs-type\"\u003eIcon\u003c/span\u003e(\n               \u003cspan class=\"hljs-type\"\u003eIcons\u003c/span\u003e.pages,\n               color:_BottomNavigationColor,\n             ),\n             title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\n               \u003cspan class=\"hljs-symbol\"\u003e'Page\u003c/span\u003es',\n               style:\u003cspan class=\"hljs-type\"\u003eTextStyle\u003c/span\u003e(color:_BottomNavigationColor)\n             )\n           ),\n           \u003cspan class=\"hljs-type\"\u003eBottomNavigationBarItem\u003c/span\u003e(\n             icon:\u003cspan class=\"hljs-type\"\u003eIcon\u003c/span\u003e(\n               \u003cspan class=\"hljs-type\"\u003eIcons\u003c/span\u003e.airplay,\n               color:_BottomNavigationColor,\n             ),\n             title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\n               \u003cspan class=\"hljs-symbol\"\u003e'AipPla\u003c/span\u003ey',\n               style:\u003cspan class=\"hljs-type\"\u003eTextStyle\u003c/span\u003e(color:_BottomNavigationColor)\n             )\n           ),\n         ],\n         currentIndex:_currentIndex,\n         onTap:(int index){\n           setState((){\n             _currentIndex= index;\n           });\n         },\n         \u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003etype\u003c/span\u003e\u003c/span\u003e:\u003cspan class=\"hljs-type\"\u003eBottomNavigationBarType\u003c/span\u003e.fixed\n       ),\n     );\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e通过两节的学习，基本掌握了APP底部导航的编写方法，其实这些知识是很面向工作的，因为真是项目中，你也要如此划分你的代码结构。\u003c/p\u003e\n\u003cp\u003e我希望你一定要动手练习一下，因为不动手练习，你是真的学不会的，这不再是基础知识，而是稍显复杂的小案例，并且这些案例你练习后，以后工作中用到，是可以直接拷贝里边的代码的，绝对不亏的。\u003c/p\u003e\n\u003ca id=\"toc212\" href=\"#toc212\" class=\"anchor-fix\"\u003e\u003ch2\u003e第03节: 不规则底部工具栏制作-1\u003c/h2\u003e\u003c/a\u003e\n\u003cp\u003e大部分的底部导航都是中规中矩的，但有些时候也需要突出个性，比如在中间部位增加一个突出的按钮。这节课我们主要学习一下不规则的导航如何制作。\u003c/p\u003e\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=69758162\u0026page=3\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\u003cp\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo02.gif\" alt=\"http://blogimages.jspang.com/FlutterDemo02.gif\"\u003e\u003c/p\u003e\n\u003ca id=\"toc313\" href=\"#toc313\" class=\"anchor-fix\"\u003e\u003ch3\u003e自定义主题样本\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003eFlutter支持自定义主题，如果使用自定义主题，设置的内容项是非常多的，这可能让初学者头疼，Flutter贴心的为给我们准备了主题样本。\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eprimarySwatch ：现在支持18种主题样本了。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e具体代码如下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-symbol\"\u003etheme:\u003c/span\u003e ThemeData(\n\u003cspan class=\"hljs-symbol\"\u003e  primarySwatch:\u003c/span\u003e Colors.lightBlue,\n),\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e会了这个知识后，我们就可以先把我们的主入口文件编写一下了，具体代码如下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'bottom_appBar_demo\u003c/span\u003e.dart';\n\nvoid main()=\u0026gt;runApp(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eMyApp\u003c/span\u003e());\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eMyApp\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eMaterialApp\u003c/span\u003e(\n      title:\u003cspan class=\"hljs-symbol\"\u003e'Flutter\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eDemo\u003c/span\u003e',\ntheme: \u003cspan class=\"hljs-type\"\u003eThemeData\u003c/span\u003e(\n  primarySwatch: \u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.lightBlue,\n),\n      home:\u003cspan class=\"hljs-type\"\u003eBottomAppBarDemo\u003c/span\u003e(),\n    );\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e这时候\u003ccode\u003ebottom_appBar_demo.dart\u003c/code\u003e这个文件还没有，也找不到，这个文件是我们的主要文件，我们的主要业务逻辑会写在这个文件里。\u003c/p\u003e\n\u003cp\u003e因为没有所以你写完之后会报错，那接下来我们就来编写这个文件。\u003c/p\u003e\n\u003ca id=\"toc314\" href=\"#toc314\" class=\"anchor-fix\"\u003e\u003ch3\u003efloatingActionButton Widget\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e\u003ccode\u003efloatingActionButton\u003c/code\u003e工作中我们通常简称它为“FAB”，也许只是我们公司这样称呼，从字面理解可以看出，它是“可交互的浮动按钮”,其实在Flutter默认生成的代码中就有这家伙，只是我们没有正式的接触。\u003c/p\u003e\n\u003cp\u003e一般来说，它是一个圆形，中间放着图标，会优先显示在其他Widget的前面。\u003c/p\u003e\n\u003cp\u003e下面我们来看看它的常用属性:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003eonPressed ：点击相应事件，最常用的一个属性。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003etooltip：长按显示的提示文字，因为一般只放一个图标在上面，防止用户不知道，当我们点击长按时就会出现一段文字性解释。非常友好，不妨碍整体布局。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003echild ：放置子元素，一般放置Icon Widget。\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e我们来看一下\u003ccode\u003efloatingActionButton\u003c/code\u003e的主要代码:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-attribute\"\u003efloatingActionButton\u003c/span\u003e: FloatingActionButton(\n    \u003cspan class=\"hljs-attribute\"\u003eonPressed\u003c/span\u003e: (){\n      Navigator.of(context).push(MaterialPageRoute(\u003cspan class=\"hljs-attribute\"\u003ebuilder\u003c/span\u003e:(BuildContext context){\n        return EachView(\u003cspan class=\"hljs-string\"\u003e'New Page'\u003c/span\u003e);\n      }));\n    },\n    \u003cspan class=\"hljs-attribute\"\u003etooltip\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'Increment'\u003c/span\u003e,\n    \u003cspan class=\"hljs-attribute\"\u003echild\u003c/span\u003e: Icon(\n      Icons.add,\n      \u003cspan class=\"hljs-attribute\"\u003ecolor\u003c/span\u003e: Colors.white,\n    ),\n  ),\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e写完这些代码已经有了一个悬浮的按钮，但这个悬浮按钮还没有和低栏进行融合，这时候需要一个属性。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003efloatingActionButtonLocation: \u003cspan class=\"hljs-module-access\"\u003e\u003cspan class=\"hljs-module\"\u003e\u003cspan class=\"hljs-identifier\"\u003eFloatingActionButtonLocation\u003c/span\u003e.\u003c/span\u003e\u003c/span\u003ecenterDocked,\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e这时候就可以和底栏进行融合了。\u003c/p\u003e\n\u003ca id=\"toc315\" href=\"#toc315\" class=\"anchor-fix\"\u003e\u003ch3\u003eBottomAppBar Widget\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e\u003ccode\u003eBottomAppBar\u003c/code\u003e 是 底部工具栏的意思，这个要比\u003ccode\u003eBottomNavigationBar\u003c/code\u003e widget灵活很多，可以放置文字和图标，当然也可以放置容器。\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eBottomAppBar\u003c/code\u003e的常用属性:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ecolor:这个不用多说，底部工具栏的颜色。\u003c/li\u003e\n\u003cli\u003eshape：设置底栏的形状，一般使用这个都是为了和\u003ccode\u003efloatingActionButton\u003c/code\u003e融合，所以使用的值都是CircularNotchedRectangle(),有缺口的圆形矩形。\u003c/li\u003e\n\u003cli\u003echild ： 里边可以放置大部分Widget，让我们随心所欲的设计底栏。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e这节课先来看看这个布局，下节课我们再添加交互效果。\u003c/p\u003e\n\u003cp\u003e本节课主要代码：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eBottomAppBarDemo\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatefulWidget\u003c/span\u003e \u003c/span\u003e{\n  _BottomAppBarDemoState createState() =\u0026gt; _BottomAppBarDemoState();\n}\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003e_BottomAppBarDemoState\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eState\u0026lt;BottomAppBarDemo\u0026gt;\u003c/span\u003e \u003c/span\u003e{\n\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n     \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n        floatingActionButton: \u003cspan class=\"hljs-type\"\u003eFloatingActionButton\u003c/span\u003e(\n          onPressed: (){\n\n          },\n          tooltip: \u003cspan class=\"hljs-symbol\"\u003e'Incremen\u003c/span\u003et',\n          child: \u003cspan class=\"hljs-type\"\u003eIcon\u003c/span\u003e(\n            \u003cspan class=\"hljs-type\"\u003eIcons\u003c/span\u003e.add,\n            color: \u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.white,\n          ),\n        ),\n       floatingActionButtonLocation: \u003cspan class=\"hljs-type\"\u003eFloatingActionButtonLocation\u003c/span\u003e.centerDocked,\n       bottomNavigationBar: \u003cspan class=\"hljs-type\"\u003eBottomAppBar\u003c/span\u003e(\n         color:\u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.lightBlue,\n         shape:\u003cspan class=\"hljs-type\"\u003eCircularNotchedRectangle\u003c/span\u003e(),\n         child: \u003cspan class=\"hljs-type\"\u003eRow\u003c/span\u003e(\n           mainAxisSize: \u003cspan class=\"hljs-type\"\u003eMainAxisSize\u003c/span\u003e.max,\n           mainAxisAlignment: \u003cspan class=\"hljs-type\"\u003eMainAxisAlignment\u003c/span\u003e.spaceAround,\n           children: \u0026lt;\u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e\u0026gt;[\n             \u003cspan class=\"hljs-type\"\u003eIconButton\u003c/span\u003e(\n               icon:\u003cspan class=\"hljs-type\"\u003eIcon\u003c/span\u003e(\u003cspan class=\"hljs-type\"\u003eIcons\u003c/span\u003e.home),\n               color:\u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.white,\n               onPressed:(){\n\n               }\n             ),\n             \u003cspan class=\"hljs-type\"\u003eIconButton\u003c/span\u003e(\n               icon:\u003cspan class=\"hljs-type\"\u003eIcon\u003c/span\u003e(\u003cspan class=\"hljs-type\"\u003eIcons\u003c/span\u003e.airport_shuttle),\n               color:\u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.white,\n               onPressed:(){\n\n               }\n             ),\n           ],\n         ),\n       )\n        ,\n     );\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc216\" href=\"#toc216\" class=\"anchor-fix\"\u003e\u003ch2\u003e第04节: 不规则底部工具栏制作-2\u003c/h2\u003e\u003c/a\u003e\n\u003cp\u003e上节课已经完成了基本的页面布局，但是还没有交互效果，这节主要制作一下交互效果。\u003c/p\u003e\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=69758162\u0026page=4\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\u003ca id=\"toc317\" href=\"#toc317\" class=\"anchor-fix\"\u003e\u003ch3\u003eStatefulWidget子页面的制作\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e在前两节课的实例中我们使用了子页面，但子页面继承与\u003ccode\u003eStatelessWidget\u003c/code\u003e(不可变控件)，所以很麻烦的写了4个页面，其实完全可以写一个继承于\u003ccode\u003eStatefulWidget\u003c/code\u003e的控件，进行搞定。\u003c/p\u003e\n\u003cp\u003e新建一个\u003ccode\u003eeach_view.dart\u003c/code\u003e文件，然后输入如下代码：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eEachView\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatefulWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-type\"\u003eString\u003c/span\u003e _title;\n  \u003cspan class=\"hljs-type\"\u003eEachView\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e._title);\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  _EachViewState createState() =\u0026gt; _EachViewState();\n}\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003e_EachViewState\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eState\u0026lt;EachView\u0026gt;\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n      appBar:\u003cspan class=\"hljs-type\"\u003eAppBar\u003c/span\u003e(title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(widget._title)),\n      body: \u003cspan class=\"hljs-type\"\u003eCenter\u003c/span\u003e(child:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(widget._title)),\n    );\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e代码中设置了一个内部的\u003ccode\u003e_title\u003c/code\u003e变量，这个变量是从主页面传递过来的，然后根据传递过来的具体值显示在APP的标题栏和屏幕中间。\u003c/p\u003e\n\u003ca id=\"toc318\" href=\"#toc318\" class=\"anchor-fix\"\u003e\u003ch3\u003e按钮交互效果的制作\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e这些效果都是在\u003ccode\u003ebottom_appBar_demo.dart\u003c/code\u003e页面完成的。首先我们需要引入新作的子页面\u003ccode\u003eeach_view.dart\u003c/code\u003e。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-meta\"\u003e\u003cspan class=\"hljs-meta-keyword\"\u003eimport\u003c/span\u003e 'each_view.dart';\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e新建两个变量,主要作用是控制body中的试图，也就是显示不同的子页面。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e  \u003cspan class=\"hljs-built_in\"\u003eList\u003c/span\u003e\u0026lt;Widget\u0026gt; \u003cspan class=\"hljs-variable\"\u003e_eachView\u003c/span\u003e;  \u003cspan class=\"hljs-comment\"\u003e//创建视图数组\u003c/span\u003e\n  int \u003cspan class=\"hljs-variable\"\u003e_index\u003c/span\u003e = \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;          \u003cspan class=\"hljs-comment\"\u003e//数组索引，通过改变索引值改变视图\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e下一步是为\u003ccode\u003e_eachView\u003c/code\u003e进行初始化赋值，我们可以直接重写初始化方法，具体代码如下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e  @\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003eoverride\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003einitState\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e)\u003c/span\u003e {\n      \u003cspan class=\"hljs-comment\"\u003e// \u003cspan class=\"hljs-doctag\"\u003eTODO:\u003c/span\u003e implement initState\u003c/span\u003e\n      super.initState();\n      _eachView = List();\n      _eachView..\u003cspan class=\"hljs-keyword\"\u003eadd\u003c/span\u003e(EachView(\u003cspan class=\"hljs-string\"\u003e'Home'\u003c/span\u003e))..\u003cspan class=\"hljs-keyword\"\u003eadd\u003c/span\u003e(EachView(\u003cspan class=\"hljs-string\"\u003e'Me'\u003c/span\u003e));\n    }\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e剩下的就是写个个按钮的交互事件，交互的动作分两种：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003e直接打开子导航，比如我们点击了中间的”+“按钮，我们直接开启子页面。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eonPressed: \u003cspan class=\"hljs-literal\"\u003e()\u003c/span\u003e{\n \u003cspan class=\"hljs-module-access\"\u003e\u003cspan class=\"hljs-module\"\u003e\u003cspan class=\"hljs-identifier\"\u003eNavigator\u003c/span\u003e.\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"hljs-keyword\"\u003eof\u003c/span\u003e(context).push(\u003cspan class=\"hljs-constructor\"\u003eMaterialPageRoute(\u003cspan class=\"hljs-params\"\u003ebuilder\u003c/span\u003e:(BuildContext \u003cspan class=\"hljs-params\"\u003econtext\u003c/span\u003e)\u003c/span\u003e{\n   return \u003cspan class=\"hljs-constructor\"\u003eEachView('New Page')\u003c/span\u003e;\n }));\n},\u003c/code\u003e\u003c/pre\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e改变状态，通过改变状态，来切换页面，这样我们整体页面并没有被刷新。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eon\u003c/span\u003ePressed:(){\n\u003cspan class=\"hljs-built_in\"\u003eset\u003c/span\u003eState(() {\n _index=\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;             \n});\n}\u003c/code\u003e\u003c/pre\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e为了方便小伙伴们学习，给出\u003ccode\u003ebottom_appBar_demo.dart\u003c/code\u003e所有代码，代码如下:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'each_view\u003c/span\u003e.dart';\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eBottomAppBarDemo\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatefulWidget\u003c/span\u003e \u003c/span\u003e{\n  _BottomAppBarDemoState createState() =\u0026gt; _BottomAppBarDemoState();\n}\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003e_BottomAppBarDemoState\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eState\u0026lt;BottomAppBarDemo\u0026gt;\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-type\"\u003eList\u003c/span\u003e\u0026lt;\u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e\u0026gt; _eachView;  \u003cspan class=\"hljs-comment\"\u003e//创建视图数组\u003c/span\u003e\n  int _index = \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;          \u003cspan class=\"hljs-comment\"\u003e//数组索引，通过改变索引值改变视图\u003c/span\u003e\n\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  void initState() {\n      \u003cspan class=\"hljs-comment\"\u003e// \u003cspan class=\"hljs-doctag\"\u003eTODO:\u003c/span\u003e implement initState\u003c/span\u003e\n      \u003cspan class=\"hljs-keyword\"\u003esuper\u003c/span\u003e.initState();\n      _eachView = \u003cspan class=\"hljs-type\"\u003eList\u003c/span\u003e();\n      _eachView..add(\u003cspan class=\"hljs-type\"\u003eEachView\u003c/span\u003e(\u003cspan class=\"hljs-symbol\"\u003e'Hom\u003c/span\u003ee'))..add(\u003cspan class=\"hljs-type\"\u003eEachView\u003c/span\u003e(\u003cspan class=\"hljs-symbol\"\u003e'M\u003c/span\u003ee'));\n    }\n\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n     \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n       body:_eachView[_index],\n        floatingActionButton: \u003cspan class=\"hljs-type\"\u003eFloatingActionButton\u003c/span\u003e(\n        onPressed: (){\n          \u003cspan class=\"hljs-type\"\u003eNavigator\u003c/span\u003e.of(context).push(\u003cspan class=\"hljs-type\"\u003eMaterialPageRoute\u003c/span\u003e(builder:(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context){\n            \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eEachView\u003c/span\u003e(\u003cspan class=\"hljs-symbol\"\u003e'New\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003ePage\u003c/span\u003e');\n          }));\n        },\n          tooltip: \u003cspan class=\"hljs-symbol\"\u003e'Incremen\u003c/span\u003et',\n          child: \u003cspan class=\"hljs-type\"\u003eIcon\u003c/span\u003e(\n            \u003cspan class=\"hljs-type\"\u003eIcons\u003c/span\u003e.add,\n            color: \u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.white,\n          ),\n        ),\n       floatingActionButtonLocation: \u003cspan class=\"hljs-type\"\u003eFloatingActionButtonLocation\u003c/span\u003e.centerDocked,\n       bottomNavigationBar: \u003cspan class=\"hljs-type\"\u003eBottomAppBar\u003c/span\u003e(\n         color:\u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.lightBlue,\n         shape:\u003cspan class=\"hljs-type\"\u003eCircularNotchedRectangle\u003c/span\u003e(),\n         child: \u003cspan class=\"hljs-type\"\u003eRow\u003c/span\u003e(\n           mainAxisSize: \u003cspan class=\"hljs-type\"\u003eMainAxisSize\u003c/span\u003e.max,\n           mainAxisAlignment: \u003cspan class=\"hljs-type\"\u003eMainAxisAlignment\u003c/span\u003e.spaceAround,\n           children: \u0026lt;\u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e\u0026gt;[\n             \u003cspan class=\"hljs-type\"\u003eIconButton\u003c/span\u003e(\n               icon:\u003cspan class=\"hljs-type\"\u003eIcon\u003c/span\u003e(\u003cspan class=\"hljs-type\"\u003eIcons\u003c/span\u003e.home),\n               color:\u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.white,\n                onPressed:(){\n                  setState(() {\n                    _index=\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;             \n                  });\n                }\n             ),\n             \u003cspan class=\"hljs-type\"\u003eIconButton\u003c/span\u003e(\n               icon:\u003cspan class=\"hljs-type\"\u003eIcon\u003c/span\u003e(\u003cspan class=\"hljs-type\"\u003eIcons\u003c/span\u003e.airport_shuttle),\n               color:\u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.white,\n               onPressed:(){\n                 setState(() {\n                    _index=\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e;             \n                 });\n               }\n             ),\n           ],\n         ),\n       )\n        ,\n     );\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e我相信小伙伴都制作出了这个效果，这个在工作中也很常见。希望你们都能学会，特别是动态子页面的这个使用技巧。\u003c/p\u003e\n\u003ca id=\"toc219\" href=\"#toc219\" class=\"anchor-fix\"\u003e\u003ch2\u003e第05节: 酷炫的路由动画-1\u003c/h2\u003e\u003c/a\u003e\n\u003cp\u003e现在Flutter的路由效果已经非常不错了，能满足大部分App的需求，但是谁不希望自己的App更酷更炫那，学完这节课你就可以给自己的APP加上酷炫的路由动画了。\u003c/p\u003e\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=69758162\u0026page=5\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\n\u003ctable\u003e\n    \u003ctr\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo03.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo04.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n    \u003c/tr\u003e\n \u003ctr\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo05.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n        \u003ctd \u003e\u003ccenter\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo06.gif\" \u003e\u003c/center\u003e\u003c/td\u003e\n    \u003c/tr\u003e\n\u003c/table\u003e\n\n\n\n\n\u003cp\u003e其实路由动画的原理很简单，就是重写并继承\u003ccode\u003ePageRouterBuilder\u003c/code\u003e这个类里的\u003ccode\u003etransitionsBuilder\u003c/code\u003e方法。\u003c/p\u003e\n\u003cp\u003e不过这个方法还是有很多写法的，通过写法的不同，产生的动画效果也有所不同。\u003c/p\u003e\n\u003ca id=\"toc320\" href=\"#toc320\" class=\"anchor-fix\"\u003e\u003ch3\u003e主入口方法\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e先编写一个主入口方法，还是最简单的格式，只不过home属性，使用的\u003ccode\u003eFirstPage\u003c/code\u003e的组件是我们自定义的，需要我们再次编写。入口文件的代码如下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'pages\u003c/span\u003e.dart';\n\nvoid main()=\u0026gt;runApp(\u003cspan class=\"hljs-type\"\u003eMyApp\u003c/span\u003e());\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eMyApp\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eMaterialApp\u003c/span\u003e(\n      title:\u003cspan class=\"hljs-symbol\"\u003e'Flutter\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eDemo\u003c/span\u003e',\n      theme: \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eThemeData\u003c/span\u003e(\n        primarySwatch: \u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.blue,\n      ),\n      home:\u003cspan class=\"hljs-type\"\u003eFirstPage\u003c/span\u003e()\n    );\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc321\" href=\"#toc321\" class=\"anchor-fix\"\u003e\u003ch3\u003epages.dart页面的编写\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e主入口文件用\u003ccode\u003eimport\u003c/code\u003e引入了\u003ccode\u003epages.dart\u003c/code\u003e文件，这个文件就是生成了两个页面（Flutter里的页面也是Widget,这个你要跟网页区分开）。有了两个页面就可以实现路由跳转了。\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003epages.dart\u003c/code\u003e文件的代码如下，这里我们先用普通路由代替，看一看效果。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eFirstPage\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n      backgroundColor: \u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.blue,\n      appBar:\u003cspan class=\"hljs-type\"\u003eAppBar\u003c/span\u003e(\n        title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\u003cspan class=\"hljs-symbol\"\u003e'FirstPag\u003c/span\u003ee',style: \u003cspan class=\"hljs-type\"\u003eTextStyle\u003c/span\u003e(fontSize: \u003cspan class=\"hljs-number\"\u003e36.0\u003c/span\u003e)),\n        elevation: \u003cspan class=\"hljs-number\"\u003e0.0\u003c/span\u003e,\n      ),\n      body:\u003cspan class=\"hljs-type\"\u003eCenter\u003c/span\u003e(\n        child: \u003cspan class=\"hljs-type\"\u003eMaterialButton\u003c/span\u003e(\n          child: \u003cspan class=\"hljs-type\"\u003eIcon\u003c/span\u003e(\n            \u003cspan class=\"hljs-type\"\u003eIcons\u003c/span\u003e.navigate_next,\n            color:\u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.white,\n            size:\u003cspan class=\"hljs-number\"\u003e64.0\u003c/span\u003e,\n          ),\n          onPressed: (){\n              \u003cspan class=\"hljs-type\"\u003eNavigator\u003c/span\u003e.of(context).push(\n                \u003cspan class=\"hljs-type\"\u003eMaterialPageRoute\u003c/span\u003e(\n                  builder:(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context){\n                     \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eSecondPage\u003c/span\u003e();\n                  }));\n          },\n        ),\n      )\n    );\n  }\n}\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eSecondPage\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n      backgroundColor: \u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.pinkAccent,\n      appBar: \u003cspan class=\"hljs-type\"\u003eAppBar\u003c/span\u003e(\n        title: \u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\u003cspan class=\"hljs-symbol\"\u003e'SecondPag\u003c/span\u003ee',style:\u003cspan class=\"hljs-type\"\u003eTextStyle\u003c/span\u003e(fontSize:\u003cspan class=\"hljs-number\"\u003e36.0\u003c/span\u003e),),\n        backgroundColor: \u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.pinkAccent,\n        leading:\u003cspan class=\"hljs-type\"\u003eContainer\u003c/span\u003e(),\n        elevation: \u003cspan class=\"hljs-number\"\u003e0.0\u003c/span\u003e,\n      ),\n      body:\u003cspan class=\"hljs-type\"\u003eCenter\u003c/span\u003e(\n        child: \u003cspan class=\"hljs-type\"\u003eMaterialButton\u003c/span\u003e(\n          child: \u003cspan class=\"hljs-type\"\u003eIcon\u003c/span\u003e(\n            \u003cspan class=\"hljs-type\"\u003eIcons\u003c/span\u003e.navigate_before,\n            color:\u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.white,\n            size:\u003cspan class=\"hljs-number\"\u003e64.0\u003c/span\u003e\n          ),\n          onPressed: ()=\u0026gt;\u003cspan class=\"hljs-type\"\u003eNavigator\u003c/span\u003e.of(context).pop(),\n        ),\n      )\n    );\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e上面代码中有一个新知识点，需要学习一下：\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eAppBar Widger的 elevation 属性：这个值是AppBar\n滚动时的融合程度，一般有滚动时默认是4.0，现在我们设置成0.0，就是和也main完全融合了。\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e写完这个页面代码后，已经可以进行最基本的导航了，但是并没有什么酷炫的动画。\u003c/p\u003e\n\u003ca id=\"toc322\" href=\"#toc322\" class=\"anchor-fix\"\u003e\u003ch3\u003e自定义CustomRoute Widget\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e新建一个\u003ccode\u003ecustome_router.dart\u003c/code\u003e文件，这个就是要自定义的路由方法，自定义首先要继承于通用的路由的构造器类\u003ccode\u003ePageRouterBuilder\u003c/code\u003e。继承之后重写父类的\u003ccode\u003eCustomRoute\u003c/code\u003e构造方法。\u003c/p\u003e\n\u003cp\u003e构造方法可以简单理解为：只要以调用这个类或者说是Widget，构造方法里的所有代码就执行了。\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003ecustome_router.dart\u003c/code\u003e代码如下(详细解释视频中说):\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eCustomRoute\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003ePageRouteBuilder\u003c/span\u003e\u003c/span\u003e{\n  \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e widget;\n  \u003cspan class=\"hljs-type\"\u003eCustomRoute\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e.widget)\n    :\u003cspan class=\"hljs-keyword\"\u003esuper\u003c/span\u003e(\n      transitionDuration:const \u003cspan class=\"hljs-type\"\u003eDuration\u003c/span\u003e(seconds:\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e),\n      pageBuilder:(\n        \u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context,\n        \u003cspan class=\"hljs-type\"\u003eAnimation\u003c/span\u003e\u0026lt;double\u0026gt; animation1,\n        \u003cspan class=\"hljs-type\"\u003eAnimation\u003c/span\u003e\u0026lt;double\u0026gt; animation2){\n          \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e widget;\n        },\n     transitionsBuilder:(\n          \u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context,\n          \u003cspan class=\"hljs-type\"\u003eAnimation\u003c/span\u003e\u0026lt;double\u0026gt; animation1,\n          \u003cspan class=\"hljs-type\"\u003eAnimation\u003c/span\u003e\u0026lt;double\u0026gt; animation2,\n          \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e child){\n            \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eFadeTransition\u003c/span\u003e(\n              opacity: \u003cspan class=\"hljs-type\"\u003eTween\u003c/span\u003e(begin:\u003cspan class=\"hljs-number\"\u003e0.0\u003c/span\u003e,end :\u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e).animate(\u003cspan class=\"hljs-type\"\u003eCurvedAnimation\u003c/span\u003e(\n                  parent:animation1,\n                  curve:\u003cspan class=\"hljs-type\"\u003eCurves\u003c/span\u003e.fastOutSlowIn\n              )),\n              child: child,\n            );\n        }  \n\n    ); \n}\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003eFadeTransition:渐隐渐现过渡效果，主要设置opactiy（透明度）属性，值是0.0-1.0。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003eanimate :动画的样式，一般使用动画曲线组件（CurvedAnimation）。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003ecurve: 设置动画的节奏，也就是常说的曲线，Flutter准备了很多节奏，通过改变动画取消可以做出很多不同的效果。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003etransitionDuration：设置动画持续的时间，建议再1和2之间。\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e写完代码，我们已经可以看到在切换路由时有了动画效果，下节课我们再写三个常用动画效果。\u003c/p\u003e\n\u003ca id=\"toc223\" href=\"#toc223\" class=\"anchor-fix\"\u003e\u003ch2\u003e第06节: 酷炫的路由动画-2\u003c/h2\u003e\u003c/a\u003e\n\u003cp\u003e这节课我们接着上节课再作三个常用的动画效果，目的是让你更深刻的了解路由动画的使用方法。\u003c/p\u003e\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=69758162\u0026page=6\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\n\u003ca id=\"toc324\" href=\"#toc324\" class=\"anchor-fix\"\u003e\u003ch3\u003e缩放路由动画\u003c/h3\u003e\u003c/a\u003e\n\u003cpre\u003e\u003ccode\u003ereturn ScaleTransition(\n  \u003cspan class=\"hljs-name\"\u003escale\u003c/span\u003e\u003cspan class=\"hljs-symbol\"\u003e:Tween\u003c/span\u003e(\u003cspan class=\"hljs-name\"\u003ebegin\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0.0\u003c/span\u003e,end:\u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e).animate(\u003cspan class=\"hljs-name\"\u003eCurvedAnimation\u003c/span\u003e(\n    \u003cspan class=\"hljs-name\"\u003eparent\u003c/span\u003e\u003cspan class=\"hljs-symbol\"\u003e:animation1\u003c/span\u003e,\n    curve: Curves.fastOutSlowIn\n    )),\n    child\u003cspan class=\"hljs-symbol\"\u003e:child\u003c/span\u003e\n)\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc325\" href=\"#toc325\" class=\"anchor-fix\"\u003e\u003ch3\u003e旋转+缩放路由动画\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e旋转+缩放的思路是在一个路由动画里的child属性里再加入一个动画，让两个动画同时执行。来看详细代码：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e return RotationTransition(\n  \u003cspan class=\"hljs-name\"\u003eturns\u003c/span\u003e\u003cspan class=\"hljs-symbol\"\u003e:Tween\u003c/span\u003e(\u003cspan class=\"hljs-name\"\u003ebegin\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0.0\u003c/span\u003e,end:\u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e)\n  .animate(\u003cspan class=\"hljs-name\"\u003eCurvedAnimation\u003c/span\u003e(\n    \u003cspan class=\"hljs-name\"\u003eparent\u003c/span\u003e: animation1,\n    curve: Curves.fastOutSlowIn\n  )),\n  child\u003cspan class=\"hljs-symbol\"\u003e:ScaleTransition\u003c/span\u003e(\n    \u003cspan class=\"hljs-name\"\u003escale\u003c/span\u003e\u003cspan class=\"hljs-symbol\"\u003e:Tween\u003c/span\u003e(\u003cspan class=\"hljs-name\"\u003ebegin\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0.0\u003c/span\u003e,end:\u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e)\n    .animate(\u003cspan class=\"hljs-name\"\u003eCurvedAnimation\u003c/span\u003e(\n        \u003cspan class=\"hljs-name\"\u003eparent\u003c/span\u003e: animation1,\n        curve\u003cspan class=\"hljs-symbol\"\u003e:Curves\u003c/span\u003e.fastOutSlowIn\n    )),\n    child: child,\n  )\n)\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc326\" href=\"#toc326\" class=\"anchor-fix\"\u003e\u003ch3\u003e左右滑动路由动画\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e其实用的做多的还是左右滑动路由动画，其实实现起来也是非常简单，直接使用\u003ccode\u003eSlideTransition\u003c/code\u003e就可以了。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-comment\"\u003e// 幻灯片路由动画\u003c/span\u003e\nreturn SlideTransition(\n\u003cspan class=\"hljs-symbol\"\u003e  position:\u003c/span\u003e Tween\u003cspan class=\"hljs-params\"\u003e\u0026lt;Offset\u0026gt;\u003c/span\u003e(\n\u003cspan class=\"hljs-symbol\"\u003e    begin:\u003c/span\u003e Offset(\u003cspan class=\"hljs-number\"\u003e-1.0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e0.0\u003c/span\u003e),\n\u003cspan class=\"hljs-symbol\"\u003e    end:\u003c/span\u003eOffset(\u003cspan class=\"hljs-number\"\u003e0.0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e0.0\u003c/span\u003e)\n  )\n  .animate(CurvedAnimation(\n\u003cspan class=\"hljs-symbol\"\u003e    parent:\u003c/span\u003e animation1,\n\u003cspan class=\"hljs-symbol\"\u003e    curve:\u003c/span\u003e Curves.fastOutSlowIn\n  )),\n\u003cspan class=\"hljs-symbol\"\u003e  child:\u003c/span\u003e child,\n);\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e总结:动画的使用会让我们的APP更加酷炫，也会让别人觉的你不是一个新手，再Flutter里使用动画是非常方便的，所以你可以把这些动画效果事先写好，在工作中直接使用。\u003c/p\u003e\n\u003ca id=\"toc227\" href=\"#toc227\" class=\"anchor-fix\"\u003e\u003ch2\u003e第07节: 毛玻璃效果制作\u003c/h2\u003e\u003c/a\u003e\n\u003cp\u003eFlutter的Fliter Widget 也是非常强大的，它可以制作出你想要的神奇滤镜效果。这节我们就以实战的方式，制作一个毛玻璃效果，通过实例来学习Fitler 的用法。（制作效果如下图）\u003c/p\u003e\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=69758162\u0026page=7\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\n\u003cp\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo07.png\" alt=\"http://blogimages.jspang.com/FlutterDemo07.png\"\u003e\u003c/p\u003e\n\u003ca id=\"toc328\" href=\"#toc328\" class=\"anchor-fix\"\u003e\u003ch3\u003emain.dart文件编写\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e这个和以前的写法都一样，所以就直接贴代码了。详细解释会在视频中解说，不过我相信不解释，小伙伴也一定可以看明白。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'frosted_glass_emo\u003c/span\u003e.dart';\n\nvoid main() =\u0026gt; runApp(\u003cspan class=\"hljs-type\"\u003eMyApp\u003c/span\u003e());\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eMyApp\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eMaterialApp\u003c/span\u003e(\n      title:\u003cspan class=\"hljs-symbol\"\u003e'Flutter\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eDemo\u003c/span\u003e',\n      theme:\u003cspan class=\"hljs-type\"\u003eThemeData\u003c/span\u003e(\n        primarySwatch: \u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.blue,\n      ),\n      home:\u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n        body:\u003cspan class=\"hljs-type\"\u003eFrostedGlassDemo\u003c/span\u003e(),\n      )\n    );\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc329\" href=\"#toc329\" class=\"anchor-fix\"\u003e\u003ch3\u003eBackdropFilter Widget\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e\u003ccode\u003eBackdropFilter\u003c/code\u003e就是背景滤镜组件，使用它可以给父元素增加滤镜效果，它里边最重要的一个属性是\u003ccode\u003efilter\u003c/code\u003e。\n\u003ccode\u003efilter\u003c/code\u003e属性中要添加一个滤镜组件，实例中我们添加了图片滤镜组件，并给了模糊效果。\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e图片地址：\u003ca href=\"https://timgsa.baidu.com/timg?image\u0026amp;quality=80\u0026amp;size=b9999_10000\u0026amp;sec=1545738629147\u0026amp;di=22e12a65bbc6c4123ae5596e24dbc5d3\u0026amp;imgtype=0\u0026amp;src=http%3A%2F%2Fpic30.photophoto.cn%2F20140309%2F0034034413812339_b.jpg\"\u003ehttps://timgsa.baidu.com/timg?image\u0026amp;quality=80\u0026amp;size=b9999_10000\u0026amp;sec=1545738629147\u0026amp;di=22e12a65bbc6c4123ae5596e24dbc5d3\u0026amp;imgtype=0\u0026amp;src=http%3A%2F%2Fpic30.photophoto.cn%2F20140309%2F0034034413812339_b.jpg\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e我们新建一个\u003ccode\u003efrosted_glass_demo.dart\u003c/code\u003e的文件，然后写入下面的代码，具体的解释已经写到了代码的注释中。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'dart\u003c/span\u003e:ui';   \u003cspan class=\"hljs-comment\"\u003e//引入ui库，因为ImageFilter Widget在这个里边。\u003c/span\u003e\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eFrostedGlassDemo\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n      body:\u003cspan class=\"hljs-type\"\u003eStack\u003c/span\u003e(   \u003cspan class=\"hljs-comment\"\u003e//重叠的Stack Widget，实现重贴\u003c/span\u003e\n        children: \u0026lt;\u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e\u0026gt;[\n          \u003cspan class=\"hljs-type\"\u003eConstrainedBox\u003c/span\u003e( \u003cspan class=\"hljs-comment\"\u003e//约束盒子组件，添加额外的限制条件到 child上。\u003c/span\u003e\n            constraints: const \u003cspan class=\"hljs-type\"\u003eBoxConstraints\u003c/span\u003e.expand(), \u003cspan class=\"hljs-comment\"\u003e//限制条件，可扩展的。\u003c/span\u003e\n            child:\u003cspan class=\"hljs-type\"\u003eImage\u003c/span\u003e.network(\u003cspan class=\"hljs-symbol\"\u003e'https\u003c/span\u003e:\u003cspan class=\"hljs-comment\"\u003e//timgsa.baidu.com/timg?image\u0026amp;quality=80\u0026amp;size=b9999_10000\u0026amp;sec=1545738629147\u0026amp;di=22e12a65bbc6c4123ae5596e24dbc5d3\u0026amp;imgtype=0\u0026amp;src=http%3A%2F%2Fpic30.photophoto.cn%2F20140309%2F0034034413812339_b.jpg')\u003c/span\u003e\n          ),\n          \u003cspan class=\"hljs-type\"\u003eCenter\u003c/span\u003e(\n            child: \u003cspan class=\"hljs-type\"\u003eClipRect\u003c/span\u003e(  \u003cspan class=\"hljs-comment\"\u003e//裁切长方形\u003c/span\u003e\n              child: \u003cspan class=\"hljs-type\"\u003eBackdropFilter\u003c/span\u003e(   \u003cspan class=\"hljs-comment\"\u003e//背景滤镜器\u003c/span\u003e\n                filter: \u003cspan class=\"hljs-type\"\u003eImageFilter\u003c/span\u003e.blur(sigmaX: \u003cspan class=\"hljs-number\"\u003e5.0\u003c/span\u003e,sigmaY: \u003cspan class=\"hljs-number\"\u003e5.0\u003c/span\u003e), \u003cspan class=\"hljs-comment\"\u003e//图片模糊过滤，横向竖向都设置5.0\u003c/span\u003e\n                child: \u003cspan class=\"hljs-type\"\u003eOpacity\u003c/span\u003e( \u003cspan class=\"hljs-comment\"\u003e//透明控件\u003c/span\u003e\n                  opacity: \u003cspan class=\"hljs-number\"\u003e0.5\u003c/span\u003e,\n                  child: \u003cspan class=\"hljs-type\"\u003eContainer\u003c/span\u003e(\u003cspan class=\"hljs-comment\"\u003e// 容器组件\u003c/span\u003e\n                    width: \u003cspan class=\"hljs-number\"\u003e500.0\u003c/span\u003e,\n                    height: \u003cspan class=\"hljs-number\"\u003e700.0\u003c/span\u003e,\n                    decoration: \u003cspan class=\"hljs-type\"\u003eBoxDecoration\u003c/span\u003e(color:\u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.grey.shade200), \u003cspan class=\"hljs-comment\"\u003e//盒子装饰器，进行装饰，设置颜色为灰色\u003c/span\u003e\n                    child: \u003cspan class=\"hljs-type\"\u003eCenter\u003c/span\u003e(\n                      child: \u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\n                        \u003cspan class=\"hljs-symbol\"\u003e'JSPan\u003c/span\u003eg',\n                        style: \u003cspan class=\"hljs-type\"\u003eTheme\u003c/span\u003e.of(context).textTheme.display3, \u003cspan class=\"hljs-comment\"\u003e//设置比较酷炫的字体\u003c/span\u003e\n                      ),\n                    ),\n                  ),\n                ),\n              ),\n            ),\n          )\n        ],\n      )\n    );\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e这个代码嵌套很多，所以一定要注意你的代码层次，容易出错的地方就是嵌套错误。这个效果尽量少用，因为我测试了一下，它对系统的消耗还是比较大的。\u003c/p\u003e\n\u003ca id=\"toc230\" href=\"#toc230\" class=\"anchor-fix\"\u003e\u003ch2\u003e第08节:  保持页面状态\u003c/h2\u003e\u003c/a\u003e\n\u003cp\u003e在工作中切换页面时，再切换回来，时要求页面状态不发生改变的。这能给APP浏览者最好的体验，机会所有的APP都有这个需求，属于一个大众需求。这节课我们就来看看这样的效果如何实现。\u003c/p\u003e\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=69758162\u0026page=8\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\u003cp\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo08.gif\" alt=\"http://blogimages.jspang.com/FlutterDemo08.gif\"\u003e\u003c/p\u003e\n\u003ca id=\"toc331\" href=\"#toc331\" class=\"anchor-fix\"\u003e\u003ch3\u003eWith 关键字的使用\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003ewith是dart的关键字，意思是混入的意思，就是说可以将一个或者多个类的功能添加到自己的类无需继承这些类，\n避免多重继承导致的问题。\u003c/p\u003e\n\u003cp\u003e比如下面的代码：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003e_KeepAliveDemoState\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eState\u0026lt;KeepAliveDemo\u0026gt;\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eSingleTickerProviderStateMixin\u003c/span\u003e \u003c/span\u003e{\n\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e需要注意的是with后边是Mixin，而不是普通的Widget，这个初学者比较爱犯错误。需要强调一下。\u003c/p\u003e\n\u003ca id=\"toc332\" href=\"#toc332\" class=\"anchor-fix\"\u003e\u003ch3\u003eTabBar Widget的使用\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e\u003ccode\u003eTabBar\u003c/code\u003e是切换组件，它需要设置两个属性。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003econtroller: 控制器，后边跟的多是\u003ccode\u003eTabController\u003c/code\u003e组件。\u003c/li\u003e\n\u003cli\u003etabs：具体切换项，是一个数组，里边放的也是Tab Widget。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-attribute\"\u003ebottom\u003c/span\u003e:TabBar(\n  \u003cspan class=\"hljs-attribute\"\u003econtroller\u003c/span\u003e: _controller,\n  \u003cspan class=\"hljs-attribute\"\u003etabs\u003c/span\u003e:[\n    Tab(\u003cspan class=\"hljs-attribute\"\u003eicon\u003c/span\u003e:Icon(Icons.directions_car)),\n    Tab(\u003cspan class=\"hljs-attribute\"\u003eicon\u003c/span\u003e:Icon(Icons.directions_transit)),\n    Tab(\u003cspan class=\"hljs-attribute\"\u003eicon\u003c/span\u003e:Icon(Icons.directions_bike)),\n  ],\n)\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc333\" href=\"#toc333\" class=\"anchor-fix\"\u003e\u003ch3\u003e基本页面布局\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e我们先把入口页面布局好，下节课我们再让他保持状态。学了上面两个知识，你其实可以做出来布局了。全部代码如下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\nvoid main()=\u0026gt;runApp(\u003cspan class=\"hljs-type\"\u003eMyApp\u003c/span\u003e());\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eMyApp\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eMaterialApp\u003c/span\u003e(\n      title: \u003cspan class=\"hljs-symbol\"\u003e'Flutter\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eDemo\u003c/span\u003e',\n      theme:\u003cspan class=\"hljs-type\"\u003eThemeData\u003c/span\u003e(\n        primarySwatch: \u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.blue,\n      ),\n      home:\u003cspan class=\"hljs-type\"\u003eKeepAliveDemo\u003c/span\u003e()\n    );\n  }\n} \n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eKeepAliveDemo\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatefulWidget\u003c/span\u003e \u003c/span\u003e{\n  _KeepAliveDemoState createState() =\u0026gt; _KeepAliveDemoState();\n}\n\u003cspan class=\"hljs-comment\"\u003e/*\nwith是dart的关键字，意思是混入的意思，\n就是说可以将一个或者多个类的功能添加到自己的类无需继承这些类，\n避免多重继承导致的问题。\nSingleTickerProviderStateMixin 主要是我们初始化TabController时，\n需要用到vsync ，垂直属性，然后传递this\n*/\u003c/span\u003e\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003e_KeepAliveDemoState\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eState\u0026lt;KeepAliveDemo\u0026gt;\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eSingleTickerProviderStateMixin\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-type\"\u003eTabController\u003c/span\u003e _controller;\n\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  void initState(){\n    \u003cspan class=\"hljs-keyword\"\u003esuper\u003c/span\u003e.initState();\n    _controller = \u003cspan class=\"hljs-type\"\u003eTabController\u003c/span\u003e(length:\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e, vsync: \u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e);\n  }\n\n  \u003cspan class=\"hljs-comment\"\u003e//重写被释放的方法，只释放TabController\u003c/span\u003e\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  void dispose(){\n    _controller.dispose();\n    \u003cspan class=\"hljs-keyword\"\u003esuper\u003c/span\u003e.dispose();\n  }\n\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n      appBar:\u003cspan class=\"hljs-type\"\u003eAppBar\u003c/span\u003e(\n        title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\u003cspan class=\"hljs-symbol\"\u003e'Keep\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eAlive\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eDemo\u003c/span\u003e'),\n        bottom:\u003cspan class=\"hljs-type\"\u003eTabBar\u003c/span\u003e(\n          controller: _controller,\n          tabs:[\n            \u003cspan class=\"hljs-type\"\u003eTab\u003c/span\u003e(icon:\u003cspan class=\"hljs-type\"\u003eIcon\u003c/span\u003e(\u003cspan class=\"hljs-type\"\u003eIcons\u003c/span\u003e.directions_car)),\n            \u003cspan class=\"hljs-type\"\u003eTab\u003c/span\u003e(icon:\u003cspan class=\"hljs-type\"\u003eIcon\u003c/span\u003e(\u003cspan class=\"hljs-type\"\u003eIcons\u003c/span\u003e.directions_transit)),\n            \u003cspan class=\"hljs-type\"\u003eTab\u003c/span\u003e(icon:\u003cspan class=\"hljs-type\"\u003eIcon\u003c/span\u003e(\u003cspan class=\"hljs-type\"\u003eIcons\u003c/span\u003e.directions_bike)),\n          ],\n        )\n      ),\n      body:\u003cspan class=\"hljs-type\"\u003eTabBarView\u003c/span\u003e(\n        controller: _controller,\n        children: \u0026lt;\u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e\u0026gt;[\n         \u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\u003cspan class=\"hljs-symbol\"\u003e'111\u003c/span\u003e1'),\n         \u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\u003cspan class=\"hljs-symbol\"\u003e'222\u003c/span\u003e2'),\n         \u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\u003cspan class=\"hljs-symbol\"\u003e'333\u003c/span\u003e3')\n        ],\n      )\n    );\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc234\" href=\"#toc234\" class=\"anchor-fix\"\u003e\u003ch2\u003e第09节:  保持页面状态-2\u003c/h2\u003e\u003c/a\u003e\n\u003cp\u003e上节课已经做出了TabBar的效果，这节课主要任务是保持状态。那为了能看出是保持状态的，我们作一个按钮，然后点一下加一。就跟Flutter为我们生成的例子一样。\u003c/p\u003e\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=69758162\u0026page=9\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\u003cp\u003e我这里就直接贴出代码了，知识点我已经在代码中写了注释，并且我会在视频中详细讲解。\u003c/p\u003e\n\u003cp\u003e如果小伙伴们对代码有什么不了解的，可以私信，我来进行解答。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eMyHomePage\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatefulWidget\u003c/span\u003e \u003c/span\u003e{\n\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  _MyHomePageState createState() =\u0026gt; _MyHomePageState();\n}\n\n\u003cspan class=\"hljs-comment\"\u003e//混入AutomaticKeepAliveClientMixin，这是保持状态的关键\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e//然后重写wantKeppAlive 的值为true。\u003c/span\u003e\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003e_MyHomePageState\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eState\u0026lt;MyHomePage\u0026gt;\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eAutomaticKeepAliveClientMixin\u003c/span\u003e \u003c/span\u003e{\n  int _counter = \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;\n  \u003cspan class=\"hljs-comment\"\u003e//重写keepAlive 为ture ，就是可以有记忆功能了。\u003c/span\u003e\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  bool get wantKeepAlive =\u0026gt; \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e;\n  \u003cspan class=\"hljs-comment\"\u003e//声明一个内部方法，用来点击按钮后增加数量\u003c/span\u003e\n  void _incrementCounter(){\n    setState((){ _counter++;});\n  }\n\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n      body:\u003cspan class=\"hljs-type\"\u003eCenter\u003c/span\u003e(\n        child: \u003cspan class=\"hljs-type\"\u003eColumn\u003c/span\u003e(\n          mainAxisAlignment: \u003cspan class=\"hljs-type\"\u003eMainAxisAlignment\u003c/span\u003e.center,\n          children: \u0026lt;\u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e\u0026gt;[\n            \u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e('点一下加\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e，点一下加\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e:'),\n            \u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\n              '$_counter',\n              style:\u003cspan class=\"hljs-type\"\u003eTheme\u003c/span\u003e.of(context).textTheme.display1,\n            )\n          ],\n        ),\n      ),\n      \u003cspan class=\"hljs-comment\"\u003e//增加一个悬浮按钮，点击时触犯_incrementCounter方法\u003c/span\u003e\n      floatingActionButton: \u003cspan class=\"hljs-type\"\u003eFloatingActionButton\u003c/span\u003e(\n        onPressed: _incrementCounter,\n        tooltip: \u003cspan class=\"hljs-symbol\"\u003e'Incremen\u003c/span\u003et',\n        child: \u003cspan class=\"hljs-type\"\u003eIcon\u003c/span\u003e(\u003cspan class=\"hljs-type\"\u003eIcons\u003c/span\u003e.add),\n      ),\n    );\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e写完这个Widget，然后在入口文件中引入。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-meta\"\u003e\u003cspan class=\"hljs-meta-keyword\"\u003eimport\u003c/span\u003e 'keep_alive_demo.dart';\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e然后把Body区域改成我们刚写的MyHomePage Widget  就可以了，注意是改三个。\u003c/p\u003e\n\u003ca id=\"toc235\" href=\"#toc235\" class=\"anchor-fix\"\u003e\u003ch2\u003e第10节:  一个不简单的搜索条-1\u003c/h2\u003e\u003c/a\u003e\n\u003cp\u003e搜索这个功能，大部分APP都会存在，这节课我们就学习一下，如何做一个有提示功能，而且交互很好的搜索条。需要提前提示的是，这节课的内容可能稍微有些难度，需要你慢慢消化，多作两遍。\u003c/p\u003e\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=69758162\u0026page=10\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\u003cp\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo09.gif\" alt=\"http://blogimages.jspang.com/FlutterDemo09.gif\"\u003e\u003c/p\u003e\n\u003ca id=\"toc336\" href=\"#toc336\" class=\"anchor-fix\"\u003e\u003ch3\u003e主入口文件\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e这个还是继承\u003ccode\u003eStatelessWidget\u003c/code\u003e,然后在home属性中加入\u003ccode\u003eSearchBarDemo\u003c/code\u003e，这是一个自定义的Widget，主要代码都在这个文件中。\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003emain.dart\u003c/code\u003e 文件的代码如下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'search_bar_demo\u003c/span\u003e.dart';\n\nvoid main() =\u0026gt;runApp(\u003cspan class=\"hljs-type\"\u003eMyApp\u003c/span\u003e());\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eMyApp\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eMaterialApp\u003c/span\u003e(\n      title:\u003cspan class=\"hljs-symbol\"\u003e'Flutter\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eDemo\u003c/span\u003e',\n      theme: \u003cspan class=\"hljs-type\"\u003eThemeData\u003c/span\u003e.light(),\n      home: \u003cspan class=\"hljs-type\"\u003eSearchBarDemo\u003c/span\u003e()\n    );\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc337\" href=\"#toc337\" class=\"anchor-fix\"\u003e\u003ch3\u003e数据文件 asset.dart\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e\u003ccode\u003easset.dart\u003c/code\u003e相当于数据文件，工作中这些数据是后台传递给我们，或者写成配置文件的，这里我们就以List的方式代替了。我们在这个文件中定义了两个List：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003esearchList : 这个相当于数据库中的数据，我们要在这里进行搜索。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003erecentSuggest ： 目前的推荐数据，就是搜索时，自动为我们进行推荐。\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e整体代码如下 ：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-attribute\"\u003econst searchList\u003c/span\u003e = [\n  \u003cspan class=\"hljs-string\"\u003e\"jiejie-大长腿\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-string\"\u003e\"jiejie-水蛇腰\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-string\"\u003e\"gege1-帅气欧巴\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-string\"\u003e\"gege2-小鲜肉\"\u003c/span\u003e\n];\n\n\u003cspan class=\"hljs-attribute\"\u003econst recentSuggest\u003c/span\u003e = [\n  \u003cspan class=\"hljs-string\"\u003e\"推荐-1\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-string\"\u003e\"推荐-2\"\u003c/span\u003e\n];\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc338\" href=\"#toc338\" class=\"anchor-fix\"\u003e\u003ch3\u003eAppBar的样式制作\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e这节课我们先把第一个搜索界面布好，下节课我们主要作搜索的交互效果。看下面的代码：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'asset\u003c/span\u003e.dart';\n\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eSearchBarDemo\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatefulWidget\u003c/span\u003e \u003c/span\u003e{\n  _SearchBarDemoState createState() =\u0026gt; _SearchBarDemoState();\n}\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003e_SearchBarDemoState\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eState\u0026lt;SearchBarDemo\u0026gt;\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n      appBar:\u003cspan class=\"hljs-type\"\u003eAppBar\u003c/span\u003e(\n        title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\u003cspan class=\"hljs-symbol\"\u003e'SearchBarDem\u003c/span\u003eo'),\n        actions:\u0026lt;\u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e\u0026gt;[\n          \u003cspan class=\"hljs-type\"\u003eIconButton\u003c/span\u003e(\n            icon:\u003cspan class=\"hljs-type\"\u003eIcon\u003c/span\u003e(\u003cspan class=\"hljs-type\"\u003eIcons\u003c/span\u003e.search),\n            onPressed: (){\n               print('开始搜索');\n            }\n          ),\n        ]\n      )\n    );\n\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e这时候就可以在虚拟机中进行预览了，但是这时候点击搜索按钮还没有任何反应。\u003c/p\u003e\n\u003ca id=\"toc239\" href=\"#toc239\" class=\"anchor-fix\"\u003e\u003ch2\u003e第11节:  一个不简单的搜索条-2\u003c/h2\u003e\u003c/a\u003e\n\u003cp\u003e上节课已经作好了搜索条的基本布局，现在就是要在点击搜索图标后，变成搜索条的样式，并且有一定都交互效果。\u003c/p\u003e\n\u003cp\u003e在点击图标时执行\u003ccode\u003esearchBarDelegate\u003c/code\u003e 类，这个类继承与\u003ccode\u003eSearchDelegate\u003c/code\u003e类，继承后要重写里边的四个方法。\u003c/p\u003e\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=69758162\u0026page=11\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\u003ca id=\"toc340\" href=\"#toc340\" class=\"anchor-fix\"\u003e\u003ch3\u003e重写buildActions方法：\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e\u003ccode\u003ebuildActions\u003c/code\u003e方法时搜索条右侧的按钮执行方法，我们在这里方法里放入一个clear图标。\n当点击图片时，清空搜索的内容。\u003c/p\u003e\n\u003cp\u003e代码如下:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e  @override\n  List\u0026lt;Widget\u0026gt; buildActions(BuildContext context){\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e [\n      IconButton(\n        icon:Icon(Icons.clear),\n        onPressed: \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e=\u0026gt;\u003c/span\u003equery = \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e,)\n      ];\n  }\n\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc341\" href=\"#toc341\" class=\"anchor-fix\"\u003e\u003ch3\u003ebuildLeading 方法重写\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e这个时搜索栏左侧的图标和功能的编写，这里我们才用\u003ccode\u003eAnimatedIcon\u003c/code\u003e，然后在点击时关闭整个搜索页面，代码如下。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e  @override\n  Widget buildLeading(BuildContext context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e IconButton(\n        icon: AnimatedIcon(\n            icon: AnimatedIcons.menu_arrow, progress: transitionAnimation),\n        onPressed: \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e =\u0026gt;\u003c/span\u003e close(context, \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e));\n  }\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc342\" href=\"#toc342\" class=\"anchor-fix\"\u003e\u003ch3\u003ebuildResults方法重写\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e\u003ccode\u003ebuildResults\u003c/code\u003e方法，是搜到到内容后的展现，因为我们的数据都是模拟的，所以我这里就使用最简单的\u003ccode\u003eContainer\u003c/code\u003e+\u003ccode\u003eCard\u003c/code\u003e组件进行演示了，不做过多的花式修饰了。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e \u003cspan class=\"hljs-variable\"\u003e@override\u003c/span\u003e\n  Widget buildResults(BuildContext context) {\n    \u003cspan class=\"hljs-selector-tag\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eContainer\u003c/span\u003e(\n      \u003cspan class=\"hljs-attribute\"\u003ewidth\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e100.0\u003c/span\u003e,\n      \u003cspan class=\"hljs-attribute\"\u003eheight\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e100.0\u003c/span\u003e,\n      \u003cspan class=\"hljs-attribute\"\u003echild\u003c/span\u003e: Card(\n        \u003cspan class=\"hljs-attribute\"\u003ecolor\u003c/span\u003e: Colors.redAccent,\n        \u003cspan class=\"hljs-attribute\"\u003echild\u003c/span\u003e: Center(\n          \u003cspan class=\"hljs-attribute\"\u003echild\u003c/span\u003e: Text(query),\n        ),\n      ),\n    );\n  }\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc343\" href=\"#toc343\" class=\"anchor-fix\"\u003e\u003ch3\u003ebuildSuggestions方法重写\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e这个方法主要的作用就是设置推荐，就是我们输入一个字，然后自动为我们推送相关的搜索结果，这样的体验是非常好的。(具体代码的解释，请观看视频)\u003c/p\u003e\n\u003cp\u003e具体代码如下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e @override\n  Widget buildSuggestions(BuildContext context) {\n    final suggestionList = query.isEmpty\n        ? recentSuggest\n        : searchList.\u003cspan class=\"hljs-meta\"\u003ewhere\u003c/span\u003e((\u003cspan class=\"hljs-meta\"\u003einput\u003c/span\u003e) =\u0026gt; \u003cspan class=\"hljs-meta\"\u003einput\u003c/span\u003e.startsWith(query)).toList();\n    \u003cspan class=\"hljs-meta\"\u003ereturn\u003c/span\u003e ListView.builder(\n        itemCount: suggestionList.\u003cspan class=\"hljs-meta\"\u003elength\u003c/span\u003e,\n        itemBuilder: (context, \u003cspan class=\"hljs-meta\"\u003eindex\u003c/span\u003e) =\u0026gt; ListTile(\n              \u003cspan class=\"hljs-meta\"\u003etitle\u003c/span\u003e: RichText(\n                  text: TextSp\u003cspan class=\"hljs-meta\"\u003ean(\u003c/span\u003e\n                      text: suggestionList[\u003cspan class=\"hljs-meta\"\u003eindex\u003c/span\u003e].substring(0, query.\u003cspan class=\"hljs-meta\"\u003elength\u003c/span\u003e),\n                      style: TextStyle(\n                          color: Colors.black, fontWeight: FontWeight.bold),\n                      children: [\n                    TextSp\u003cspan class=\"hljs-meta\"\u003ean(\u003c/span\u003e\n                        text: suggestionList[\u003cspan class=\"hljs-meta\"\u003eindex\u003c/span\u003e].substring(query.\u003cspan class=\"hljs-meta\"\u003elength\u003c/span\u003e),\n                        style: TextStyle(color: Colors.grey))\n                  ])),\n            ));\n  }\n\n\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e为了方便小伙伴们学习，给出所有\u003ccode\u003esearch_bar_demo.dart\u003c/code\u003e文件的代码：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'asset\u003c/span\u003e.dart';\n\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eSearchBarDemo\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatefulWidget\u003c/span\u003e \u003c/span\u003e{\n  _SearchBarDemoState createState() =\u0026gt; _SearchBarDemoState();\n}\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003e_SearchBarDemoState\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eState\u0026lt;SearchBarDemo\u0026gt;\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n      appBar:\u003cspan class=\"hljs-type\"\u003eAppBar\u003c/span\u003e(\n        title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\u003cspan class=\"hljs-symbol\"\u003e'SearchBarDem\u003c/span\u003eo'),\n        actions:\u0026lt;\u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e\u0026gt;[\n          \u003cspan class=\"hljs-type\"\u003eIconButton\u003c/span\u003e(\n            icon:\u003cspan class=\"hljs-type\"\u003eIcon\u003c/span\u003e(\u003cspan class=\"hljs-type\"\u003eIcons\u003c/span\u003e.search),\n            onPressed: (){\n               showSearch(context:context,delegate: searchBarDelegate());\n            }\n            \u003cspan class=\"hljs-comment\"\u003e// showSearch(context:context,delegate: searchBarDelegate()),\u003c/span\u003e\n          ),\n        ]\n      )\n    );\n\n  }\n}\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003esearchBarDelegate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eSearchDelegate\u0026lt;String\u0026gt;\u003c/span\u003e\u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eList\u003c/span\u003e\u0026lt;\u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e\u0026gt; buildActions(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context){\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e [\n      \u003cspan class=\"hljs-type\"\u003eIconButton\u003c/span\u003e(\n        icon:\u003cspan class=\"hljs-type\"\u003eIcon\u003c/span\u003e(\u003cspan class=\"hljs-type\"\u003eIcons\u003c/span\u003e.clear),\n        onPressed: ()=\u0026gt;query = \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e,)\n      ];\n  }\n\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e buildLeading(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eIconButton\u003c/span\u003e(\n        icon: \u003cspan class=\"hljs-type\"\u003eAnimatedIcon\u003c/span\u003e(\n            icon: \u003cspan class=\"hljs-type\"\u003eAnimatedIcons\u003c/span\u003e.menu_arrow, progress: transitionAnimation),\n        onPressed: () =\u0026gt; close(context, \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e));\n  }\n\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e buildResults(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eContainer\u003c/span\u003e(\n      width: \u003cspan class=\"hljs-number\"\u003e100.0\u003c/span\u003e,\n      height: \u003cspan class=\"hljs-number\"\u003e100.0\u003c/span\u003e,\n      child: \u003cspan class=\"hljs-type\"\u003eCard\u003c/span\u003e(\n        color: \u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.redAccent,\n        child: \u003cspan class=\"hljs-type\"\u003eCenter\u003c/span\u003e(\n          child: \u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(query),\n        ),\n      ),\n    );\n  }\n\n   \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e buildSuggestions(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e suggestionList = query.isEmpty\n        ? recentSuggest\n        : searchList.where((input) =\u0026gt; input.startsWith(query)).toList();\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eListView\u003c/span\u003e.builder(\n        itemCount: suggestionList.length,\n        itemBuilder: (context, index) =\u0026gt; \u003cspan class=\"hljs-type\"\u003eListTile\u003c/span\u003e(\n              title: \u003cspan class=\"hljs-type\"\u003eRichText\u003c/span\u003e(\n                  text: \u003cspan class=\"hljs-type\"\u003eTextSpan\u003c/span\u003e(\n                      text: suggestionList[index].substring(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, query.length),\n                      style: \u003cspan class=\"hljs-type\"\u003eTextStyle\u003c/span\u003e(\n                          color: \u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.black, fontWeight: \u003cspan class=\"hljs-type\"\u003eFontWeight\u003c/span\u003e.bold),\n                      children: [\n                    \u003cspan class=\"hljs-type\"\u003eTextSpan\u003c/span\u003e(\n                        text: suggestionList[index].substring(query.length),\n                        style: \u003cspan class=\"hljs-type\"\u003eTextStyle\u003c/span\u003e(color: \u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.grey))\n                  ])),\n            ));\n  }\n\n\n}\n\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc244\" href=\"#toc244\" class=\"anchor-fix\"\u003e\u003ch2\u003e第12节:  流式布局 模拟添加照片效果\u003c/h2\u003e\u003c/a\u003e\n\u003cp\u003e这节已一个模拟添加多张照片的小实例，主要学习一下流式布局在Flutter里的应用。如果你作为一个前端开发者，那这节课的内容将非常容易。\u003c/p\u003e\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=69809722\u0026page=12\" scrolling=\"no\" width=\"100%\" border=\"1\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\n\u003cp\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo10.gif\" alt=\"http://blogimages.jspang.com/FlutterDemo10.gif\"\u003e\u003c/p\u003e\n\u003ca id=\"toc345\" href=\"#toc345\" class=\"anchor-fix\"\u003e\u003ch3\u003emediaQuery 媒体查询\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e使用\u003ccode\u003emeidaQuery\u003c/code\u003e可以很容易的得到屏幕的宽和高，得到宽和高的代码如下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003ewidth\u003c/span\u003e = MediaQuery.of(context).\u003cspan class=\"hljs-built_in\"\u003esize\u003c/span\u003e.\u003cspan class=\"hljs-built_in\"\u003ewidth\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003eheight\u003c/span\u003e = MediaQuery.of(context).\u003cspan class=\"hljs-built_in\"\u003esize\u003c/span\u003e.\u003cspan class=\"hljs-built_in\"\u003eheight\u003c/span\u003e;\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc346\" href=\"#toc346\" class=\"anchor-fix\"\u003e\u003ch3\u003eWrap流式布局\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003eFlutter中流式布局大概有三种常用方法，这节课先学一下Wrap的流式布局。有的小伙伴会说Wrap中的流式布局可以用Flow很轻松的实现出来，但是Wrap更多的式在使用了Flex中的一些概念，某种意义上说式跟Row、Column更加相似的。\u003c/p\u003e\n\u003cp\u003e单行的Wrap跟Row表现几乎一致，单列的Wrap则跟Column表现几乎一致。但Row与Column都是单行单列的，Wrap则突破了这个限制，mainAxis上空间不足时，则向crossAxis上去扩展显示。\u003c/p\u003e\n\u003cp\u003e从效率上讲，Flow肯定会比Wrap高，但Wrap使用起来会更方便一些。\u003c/p\u003e\n\u003cp\u003e这个会在实例中用到，所以，我在实例中会讲解这个代码。\u003c/p\u003e\n\u003ca id=\"toc347\" href=\"#toc347\" class=\"anchor-fix\"\u003e\u003ch3\u003eGestureDetector 手势操作\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e\u003ccode\u003eGestureDetector\u003c/code\u003e它式一个Widget，但没有任何的显示功能，而只是一个手势操作，用来触发事件的。虽然很多Button组件是有触发事件的，比如点击，但是也有一些组件是没有触发事件的，比如：Padding、Container、Center这时候我们想让它有触发事件就需要再它们的外层增加一个\u003ccode\u003eGestureDetector\u003c/code\u003e，比如我们让Padding有触发事件，代码如下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-selector-tag\"\u003eWidget\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003ebuildAddButton\u003c/span\u003e(){\n    \u003cspan class=\"hljs-selector-tag\"\u003ereturn\u003c/span\u003e  \u003cspan class=\"hljs-selector-tag\"\u003eGestureDetector\u003c/span\u003e(\n      \u003cspan class=\"hljs-attribute\"\u003eonTap\u003c/span\u003e:(){\n        \u003cspan class=\"hljs-selector-tag\"\u003eif\u003c/span\u003e(list.length\u0026lt;\u003cspan class=\"hljs-number\"\u003e9\u003c/span\u003e){\n          \u003cspan class=\"hljs-selector-tag\"\u003esetState\u003c/span\u003e(() {\n                \u003cspan class=\"hljs-selector-tag\"\u003elist\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.insert\u003c/span\u003e(list.length-\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e,buildPhoto());\n          });\n        }\n      },\n      \u003cspan class=\"hljs-selector-tag\"\u003echild\u003c/span\u003e: \u003cspan class=\"hljs-selector-tag\"\u003ePadding\u003c/span\u003e(\n        \u003cspan class=\"hljs-attribute\"\u003epadding\u003c/span\u003e:const EdgeInsets.all(\u003cspan class=\"hljs-number\"\u003e8.0\u003c/span\u003e),\n        \u003cspan class=\"hljs-attribute\"\u003echild\u003c/span\u003e: Container(\n          \u003cspan class=\"hljs-attribute\"\u003ewidth\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e80.0\u003c/span\u003e,\n          \u003cspan class=\"hljs-attribute\"\u003eheight\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e80.0\u003c/span\u003e,\n          \u003cspan class=\"hljs-attribute\"\u003ecolor\u003c/span\u003e: Colors.black54,\n          \u003cspan class=\"hljs-attribute\"\u003echild\u003c/span\u003e: Icon(Icons.add),\n        ),\n      ),\n    );\n  }\n\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc348\" href=\"#toc348\" class=\"anchor-fix\"\u003e\u003ch3\u003e入口文件\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e入口文件很简单，就是引用了\u003ccode\u003ewarp_demo.dart\u003c/code\u003e文件，然后再home属性中使用了\u003ccode\u003eWarpDemo\u003c/code\u003e，代码如下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'warp_demo\u003c/span\u003e.dart';\n\nvoid main()=\u0026gt;runApp(\u003cspan class=\"hljs-type\"\u003eMyApp\u003c/span\u003e());\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eMyApp\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eMaterialApp\u003c/span\u003e(\n      title: \u003cspan class=\"hljs-symbol\"\u003e'Flutter\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eDemo\u003c/span\u003e',\n      theme: \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eThemeData\u003c/span\u003e.dark(),\n      home:\u003cspan class=\"hljs-type\"\u003eWarpDemo\u003c/span\u003e()\n    );\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc349\" href=\"#toc349\" class=\"anchor-fix\"\u003e\u003ch3\u003ewarp_demo.dart\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e主要的文件代码我就列在下面了，方便小伙伴们学习。讲解还式主要看视频吧。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\n\n\u003cspan class=\"hljs-comment\"\u003e//继承与动态组件\u003c/span\u003e\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eWarpDemo\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatefulWidget\u003c/span\u003e \u003c/span\u003e{\n  _WarpDemoState createState() =\u0026gt; _WarpDemoState();\n}\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003e_WarpDemoState\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eState\u0026lt;WarpDemo\u0026gt;\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-type\"\u003eList\u003c/span\u003e\u0026lt;\u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e\u0026gt; list;  \u003cspan class=\"hljs-comment\"\u003e//声明一个list数组\u003c/span\u003e\n\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-comment\"\u003e//初始化状态，给list添加值，这时候调用了一个自定义方法`buildAddButton`\u003c/span\u003e\n  void initState() { \n    \u003cspan class=\"hljs-keyword\"\u003esuper\u003c/span\u003e.initState();\n    list = \u003cspan class=\"hljs-type\"\u003eList\u003c/span\u003e\u0026lt;\u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e\u0026gt;()..add(buildAddButton());\n  }\n\n\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-comment\"\u003e//得到屏幕的高度和宽度，用来设置Container的宽和高\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e width = \u003cspan class=\"hljs-type\"\u003eMediaQuery\u003c/span\u003e.of(context).size.width;\n    \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e height = \u003cspan class=\"hljs-type\"\u003eMediaQuery\u003c/span\u003e.of(context).size.height;\n\n\n\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n      appBar: \u003cspan class=\"hljs-type\"\u003eAppBar\u003c/span\u003e(\n        title: \u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\u003cspan class=\"hljs-symbol\"\u003e'Wrap\u003c/span\u003e流式布局'),\n      ),\n      body:\u003cspan class=\"hljs-type\"\u003eCenter\u003c/span\u003e(\n        child: \u003cspan class=\"hljs-type\"\u003eOpacity\u003c/span\u003e(\n          opacity: \u003cspan class=\"hljs-number\"\u003e0.8\u003c/span\u003e,\n          child: \u003cspan class=\"hljs-type\"\u003eContainer\u003c/span\u003e(\n            width: width,\n            height: height/\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e,\n            color: \u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.grey,\n            child: \u003cspan class=\"hljs-type\"\u003eWrap\u003c/span\u003e(    \u003cspan class=\"hljs-comment\"\u003e//流式布局，\u003c/span\u003e\n              children: list,\n              spacing: \u003cspan class=\"hljs-number\"\u003e26.0\u003c/span\u003e,  \u003cspan class=\"hljs-comment\"\u003e//设置间距\u003c/span\u003e\n            ),\n          ),\n        ),\n      )\n    );\n  }\n\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e buildAddButton(){\n    \u003cspan class=\"hljs-comment\"\u003e//返回一个手势Widget，只用用于显示事件\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e  \u003cspan class=\"hljs-type\"\u003eGestureDetector\u003c/span\u003e(\n      onTap:(){\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e(list.length\u0026lt;\u003cspan class=\"hljs-number\"\u003e9\u003c/span\u003e){\n          setState(() {\n                list.insert(list.length\u003cspan class=\"hljs-number\"\u003e-1\u003c/span\u003e,buildPhoto());\n          });\n        }\n      },\n      child: \u003cspan class=\"hljs-type\"\u003ePadding\u003c/span\u003e(\n        padding:const \u003cspan class=\"hljs-type\"\u003eEdgeInsets\u003c/span\u003e.all(\u003cspan class=\"hljs-number\"\u003e8.0\u003c/span\u003e),\n        child: \u003cspan class=\"hljs-type\"\u003eContainer\u003c/span\u003e(\n          width: \u003cspan class=\"hljs-number\"\u003e80.0\u003c/span\u003e,\n          height: \u003cspan class=\"hljs-number\"\u003e80.0\u003c/span\u003e,\n          color: \u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.black54,\n          child: \u003cspan class=\"hljs-type\"\u003eIcon\u003c/span\u003e(\u003cspan class=\"hljs-type\"\u003eIcons\u003c/span\u003e.add),\n        ),\n      ),\n    );\n  }\n\n\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e buildPhoto(){\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003ePadding\u003c/span\u003e(\n        padding: const \u003cspan class=\"hljs-type\"\u003eEdgeInsets\u003c/span\u003e.all(\u003cspan class=\"hljs-number\"\u003e8.0\u003c/span\u003e),\n        child: \u003cspan class=\"hljs-type\"\u003eContainer\u003c/span\u003e(\n          width: \u003cspan class=\"hljs-number\"\u003e80.0\u003c/span\u003e,\n          height: \u003cspan class=\"hljs-number\"\u003e80.0\u003c/span\u003e,\n          color: \u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.amber,\n          child: \u003cspan class=\"hljs-type\"\u003eCenter\u003c/span\u003e(\n            child: \u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e('照片'),\n          ),\n        ),\n    );\n  }\n\n}\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc250\" href=\"#toc250\" class=\"anchor-fix\"\u003e\u003ch2\u003e第13节: 展开闭合案例\u003c/h2\u003e\u003c/a\u003e\n\u003cp\u003e手机的屏幕本身就很小，所以要合理利用空间，把主要的元素展示出来，次要或者不重要的元素等用户向看的时候再给用户展示。这类操作最常见的交互就是展开和闭合了。这节课我们主要学习一下\u003ccode\u003eExpansionTile\u003c/code\u003e组件的使用。\u003c/p\u003e\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=69758162\u0026page=13\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\n\u003cp\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo11.gif\" alt=\"http://blogimages.jspang.com/FlutterDemo11.gif\"\u003e\u003c/p\u003e\n\u003ca id=\"toc351\" href=\"#toc351\" class=\"anchor-fix\"\u003e\u003ch3\u003eExpansionTile组件\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e\u003ccode\u003eExpansionTile Widget\u003c/code\u003e就是一个可以展开闭合的组件，常用的属性有如下几个。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003etitle:闭合时显示的标题，这个部分经常使用\u003ccode\u003eText Widget\u003c/code\u003e。\u003c/li\u003e\n\u003cli\u003eleading:标题左侧图标，多是用来修饰，让界面显得美观。\u003c/li\u003e\n\u003cli\u003ebackgroundColor: 展开时的背景颜色，当然也是有过度动画的，效果非常好。\u003c/li\u003e\n\u003cli\u003echildren: 子元素，是一个数组，可以放入多个元素。\u003c/li\u003e\n\u003cli\u003etrailing ： 右侧的箭头，你可以自行替换但是我觉的很少替换，因为谷歌已经表现的很完美了。\u003c/li\u003e\n\u003cli\u003einitiallyExpanded: 初始状态是否展开，为true时，是展开，默认为false，是不展开。\u003c/li\u003e\n\u003c/ul\u003e\n\u003ca id=\"toc352\" href=\"#toc352\" class=\"anchor-fix\"\u003e\u003ch3\u003emain.dart入口文件\u003c/h3\u003e\u003c/a\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'expansion_tile\u003c/span\u003e.dart';\n\nvoid main() =\u0026gt; runApp(\u003cspan class=\"hljs-type\"\u003eMyApp\u003c/span\u003e());\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eMyApp\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eMaterialApp\u003c/span\u003e(\n      title:\u003cspan class=\"hljs-symbol\"\u003e'Flutter\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eDemo\u003c/span\u003e',\n      theme: \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eThemeData\u003c/span\u003e.dark(),\n      home:\u003cspan class=\"hljs-type\"\u003eExpansionTileDemo\u003c/span\u003e()\n    );\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc353\" href=\"#toc353\" class=\"anchor-fix\"\u003e\u003ch3\u003eexpansion_tile.dart 扩展组件\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e这个文件是我们的主要学习文件，但是并不复杂，就是一个可展开组件。全部代码如下:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eExpansionTileDemo\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n      appBar: \u003cspan class=\"hljs-type\"\u003eAppBar\u003c/span\u003e(title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\u003cspan class=\"hljs-symbol\"\u003e'expansion\u003c/span\u003e tile demo')),\n      body:\u003cspan class=\"hljs-type\"\u003eCenter\u003c/span\u003e(\n        child: \u003cspan class=\"hljs-type\"\u003eExpansionTile\u003c/span\u003e(\n          title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\u003cspan class=\"hljs-symbol\"\u003e'Expansion\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eTile\u003c/span\u003e'),\n          leading:\u003cspan class=\"hljs-type\"\u003eIcon\u003c/span\u003e(\u003cspan class=\"hljs-type\"\u003eIcons\u003c/span\u003e.ac_unit),\n          backgroundColor: \u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.white12,\n          children: \u0026lt;\u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e\u0026gt;[\n            \u003cspan class=\"hljs-type\"\u003eListTile\u003c/span\u003e(\n              title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\u003cspan class=\"hljs-symbol\"\u003e'list\u003c/span\u003e tile'),\n              subtitle:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\u003cspan class=\"hljs-symbol\"\u003e'subtitl\u003c/span\u003ee')\n            )\n          ],\n          initiallyExpanded: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n        )\n      )\n    );\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e这时候就可以预览了，效果也应该出现了。\u003c/p\u003e\n\u003ca id=\"toc254\" href=\"#toc254\" class=\"anchor-fix\"\u003e\u003ch2\u003e第14节: 展开闭合列表案例\u003c/h2\u003e\u003c/a\u003e\n\u003cp\u003e上节课学的只是一个单个的展开闭合组件，你当然可以把这个组件作为List元素，组成一个数组，形成列表。不过Flutter也很贴心的为提供了一个ExpansionPanelList Widget，它可以实现展开闭合的列表功能。\u003c/p\u003e\n\u003cp\u003e需要注意的是这个列表必须放在可滑动组件中使用，否则会报错。\u003c/p\u003e\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=69758162\u0026page=14\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\n\u003cp\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo12.gif\" alt=\"http://blogimages.jspang.com/FlutterDemo12.gif\"\u003e\u003c/p\u003e\n\u003ca id=\"toc355\" href=\"#toc355\" class=\"anchor-fix\"\u003e\u003ch3\u003eExpansionPanelList 常用属性\u003c/h3\u003e\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003eexpansionCallback:点击和交互的回掉事件，有两个参数，第一个是触发动作的索引，第二个是布尔类型的触发值。\u003c/li\u003e\n\u003cli\u003echildren:列表的子元素，里边多是一个List数组。\u003c/li\u003e\n\u003c/ul\u003e\n\u003ca id=\"toc356\" href=\"#toc356\" class=\"anchor-fix\"\u003e\u003ch3\u003eExpandStateBean 自定义类\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e为了方便管理制作了一个\u003ccode\u003eExpandStateBean\u003c/code\u003e类，里边就是两个状态，一个是是否展开\u003ccode\u003eisOpen\u003c/code\u003e,另一个索引值。代码如下:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eExpandStateBean\u003c/span\u003e\u003c/span\u003e{\n  \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e isOpen;\n  \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e index;\n  ExpandStateBean(\u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e.index,\u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e.isOpen);\n}\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc357\" href=\"#toc357\" class=\"anchor-fix\"\u003e\u003ch3\u003eexpansion_panel_list.dart\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e这个文件我就直接上代码了，讲解我会在视频里说明，代码中我也进行了详细的注释。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eExpansionPanelListDemo\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatefulWidget\u003c/span\u003e \u003c/span\u003e{\n  _ExpansionPanelListDemoState createState() =\u0026gt; _ExpansionPanelListDemoState();\n}\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003e_ExpansionPanelListDemoState\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eState\u0026lt;ExpansionPanelListDemo\u0026gt;\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e currentPanelIndex = \u003cspan class=\"hljs-number\"\u003e-1\u003c/span\u003e;\n  \u003cspan class=\"hljs-type\"\u003eList\u003c/span\u003e\u0026lt;int\u0026gt; mList;   \u003cspan class=\"hljs-comment\"\u003e//组成一个int类型数组，用来控制索引\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eList\u003c/span\u003e\u0026lt;\u003cspan class=\"hljs-type\"\u003eExpandStateBean\u003c/span\u003e\u0026gt; expandStateList;    \u003cspan class=\"hljs-comment\"\u003e//开展开的状态列表， ExpandStateBean是自定义的类\u003c/span\u003e\n  \u003cspan class=\"hljs-comment\"\u003e//构造方法，调用这个类的时候自动执行\u003c/span\u003e\n  _ExpansionPanelListDemoState(){\n    mList = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eList\u003c/span\u003e(); \n    expandStateList = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eList\u003c/span\u003e();\n    \u003cspan class=\"hljs-comment\"\u003e//便利为两个List进行赋值\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e(int i=\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;i\u0026lt;\u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e;i++){\n      mList.add(i);\n      expandStateList.add(\u003cspan class=\"hljs-type\"\u003eExpandStateBean\u003c/span\u003e(i,\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e));\n    }\n  }\n   \u003cspan class=\"hljs-comment\"\u003e//修改展开与闭合的内部方法\u003c/span\u003e\n  _setCurrentIndex(int index, isExpand){\n    setState(() {\n          \u003cspan class=\"hljs-comment\"\u003e//遍历可展开状态列表\u003c/span\u003e\n          expandStateList.forEach((item){\n            \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e(item.index==index){\n              \u003cspan class=\"hljs-comment\"\u003e//取反，经典取反方法\u003c/span\u003e\n              item.isOpen = !isExpand;\n            }\n          });\n        });\n  }\n\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n      appBar:\u003cspan class=\"hljs-type\"\u003eAppBar\u003c/span\u003e(\n        title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"expansion panel list\"\u003c/span\u003e)\n      ),\n      \u003cspan class=\"hljs-comment\"\u003e//加入可滚动组件\u003c/span\u003e\n      body:\u003cspan class=\"hljs-type\"\u003eSingleChildScrollView\u003c/span\u003e(\n        child: \u003cspan class=\"hljs-type\"\u003eExpansionPanelList\u003c/span\u003e(\n          \u003cspan class=\"hljs-comment\"\u003e//交互回掉属性，里边是个匿名函数\u003c/span\u003e\n          expansionCallback: (index,bol){\n            \u003cspan class=\"hljs-comment\"\u003e//调用内部方法\u003c/span\u003e\n            _setCurrentIndex(index, bol);\n          },\n          children: mList.map((index){\u003cspan class=\"hljs-comment\"\u003e//进行map操作，然后用toList再次组成List\u003c/span\u003e\n            \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eExpansionPanel\u003c/span\u003e(\n              headerBuilder: (context,isExpanded){\n                \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eListTile\u003c/span\u003e(\n                  title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\u003cspan class=\"hljs-symbol\"\u003e'This\u003c/span\u003e is \u003cspan class=\"hljs-type\"\u003eNo\u003c/span\u003e. $index')\n                );\n              },\n              body:\u003cspan class=\"hljs-type\"\u003eListTile\u003c/span\u003e(\n                title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\u003cspan class=\"hljs-symbol\"\u003e'expansion\u003c/span\u003e no.$index')\n              ),\n              isExpanded: expandStateList[index].isOpen\n            );\n          }).toList(),\n        ),\n      )\n\n    );\n  }\n}\n\u003cspan class=\"hljs-comment\"\u003e//自定义扩展状态类\u003c/span\u003e\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eExpandStateBean\u003c/span\u003e\u003c/span\u003e{\n  \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e isOpen;\n  \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e index;\n  \u003cspan class=\"hljs-type\"\u003eExpandStateBean\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e.index,\u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e.isOpen);\n}\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc258\" href=\"#toc258\" class=\"anchor-fix\"\u003e\u003ch2\u003e第15节: 贝塞尔曲线切割\u003c/h2\u003e\u003c/a\u003e\n\u003cp\u003e现在人们对于网站的美感要求是越来越高了，所以很多布局需要优美的曲线设计。当然最简单的办法是作一个PNG的透明图片，然后外边放一个\u003ccode\u003eContainer\u003c/code\u003e.但其内容如果本身就不是图片，只是容器，这种放入图片的做法会让包体变大。其实我们完全可以使用贝塞尔曲线进行切割。\u003c/p\u003e\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=70409103\u0026page=15\" scrolling=\"no\" border=\"1\"  width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\u003cp\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo13.png\" alt=\"http://blogimages.jspang.com/FlutterDemo13.png\"\u003e\u003c/p\u003e\n\u003ca id=\"toc359\" href=\"#toc359\" class=\"anchor-fix\"\u003e\u003ch3\u003e去掉DeBug图标\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e在讲正式内容之前，先回答小伙伴们的一个问题，就是如何去掉DeBug图标。在我们进行编写代码预览时，有一Debug的图标一直在屏幕上，确实不太美观，其实只要语句代码就可以去掉的。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e \u003cspan class=\"hljs-attr\"\u003edebugShowCheckedModeBanner:\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e,\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e这个代码要配置在主入口文件里，全部代码如下“\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'custom_clipper\u003c/span\u003e.dart';\n\nvoid main() =\u0026gt; runApp(\u003cspan class=\"hljs-type\"\u003eMyApp\u003c/span\u003e());\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eMyApp\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eMaterialApp\u003c/span\u003e(\n      title:\u003cspan class=\"hljs-symbol\"\u003e'Flutter\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eDemo\u003c/span\u003e',\n      debugShowCheckedModeBanner: \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e,\n      theme:\u003cspan class=\"hljs-type\"\u003eThemeData\u003c/span\u003e(\n        primarySwatch: \u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.blue,\n      ),\n      home:\u003cspan class=\"hljs-type\"\u003eHomePage\u003c/span\u003e()\n    );\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc360\" href=\"#toc360\" class=\"anchor-fix\"\u003e\u003ch3\u003eClipPath 路径裁切控件\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e\u003ccode\u003eclipPath\u003c/code\u003e控件可以把其内部的子控件切割，它有两个主要属性（参数）:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003echild :要切割的元素，可以是容器，图片.....\u003c/li\u003e\n\u003cli\u003eclipper : 切割的路径，这个要和CustomClipper对象配合使用。\u003c/li\u003e\n\u003cli\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eHomePage\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n      body:\u003cspan class=\"hljs-type\"\u003eColumn\u003c/span\u003e(\n        children: \u0026lt;\u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e\u0026gt;[\n          \u003cspan class=\"hljs-type\"\u003eClipPath\u003c/span\u003e(\n            clipper:\u003cspan class=\"hljs-type\"\u003eBottomClipper\u003c/span\u003e(),\n            child: \u003cspan class=\"hljs-type\"\u003eContainer\u003c/span\u003e(\n              color:\u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.deepPurpleAccent,\n              height: \u003cspan class=\"hljs-number\"\u003e200.0\u003c/span\u003e,\n            ),\n          )\n        ],\n      )\n    );\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e在\u003ccode\u003eScaffold\u003c/code\u003e里放置了一个列容器，然后把\u003ccode\u003eClipPath\u003c/code\u003e控件放到了里边，\u003ccode\u003eClipPath\u003c/code\u003e的子元素是一个容器控件\u003ccode\u003eContainer\u003c/code\u003e。\u003ccode\u003eBootomClipper\u003c/code\u003e是我们自定义的一个对象，里边主要就是切割的路径。\u003c/p\u003e\n\u003ca id=\"toc361\" href=\"#toc361\" class=\"anchor-fix\"\u003e\u003ch3\u003eCustomClipper 裁切路径\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e我们主要的贝塞尔曲线路径就写在\u003ccode\u003egetClip\u003c/code\u003e方法里，它返回一段路径。\u003c/p\u003e\n\u003cp\u003e一个二阶的贝塞尔曲线是需要控制点和终点的，控制点就像一块磁铁，把直线吸引过去，形成一个完美的弧度，这个弧度就是贝塞尔曲线了。\u003c/p\u003e\n\u003cp\u003e我们先来熟悉一下裁切路径和贝塞尔曲线，作一个最简单的贝塞尔曲线出来。\u003c/p\u003e\n\u003cp\u003e全部代码如下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eHomePage\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n      body:\u003cspan class=\"hljs-type\"\u003eColumn\u003c/span\u003e(\n        children: \u0026lt;\u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e\u0026gt;[\n          \u003cspan class=\"hljs-type\"\u003eClipPath\u003c/span\u003e(\n            clipper:\u003cspan class=\"hljs-type\"\u003eBottomClipper\u003c/span\u003e(),\n            child: \u003cspan class=\"hljs-type\"\u003eContainer\u003c/span\u003e(\n              color:\u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.deepPurpleAccent,\n              height: \u003cspan class=\"hljs-number\"\u003e200.0\u003c/span\u003e,\n            ),\n          )\n        ],\n      )\n    );\n  }\n}\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eBottomClipperTest\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eCustomClipper\u0026lt;Path\u0026gt;\u003c/span\u003e\u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n    \u003cspan class=\"hljs-type\"\u003ePath\u003c/span\u003e getClip(\u003cspan class=\"hljs-type\"\u003eSize\u003c/span\u003e size) {\n      \u003cspan class=\"hljs-comment\"\u003e// \u003cspan class=\"hljs-doctag\"\u003eTODO:\u003c/span\u003e implement getClip\u003c/span\u003e\n      \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e path = \u003cspan class=\"hljs-type\"\u003ePath\u003c/span\u003e();\n      path.lineTo(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e);\n      path.lineTo(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, size.height\u003cspan class=\"hljs-number\"\u003e-30\u003c/span\u003e);\n      \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e firstControlPoint =\u003cspan class=\"hljs-type\"\u003eOffset\u003c/span\u003e(size.width/\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e,size.height);\n      \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e firstEndPoint = \u003cspan class=\"hljs-type\"\u003eOffset\u003c/span\u003e(size.width,size.height\u003cspan class=\"hljs-number\"\u003e-30\u003c/span\u003e);\n\n      path.quadraticBezierTo(firstControlPoint.dx, firstControlPoint.dy, firstEndPoint.dx, firstEndPoint.dy);\n\n      path.lineTo(size.width, size.height\u003cspan class=\"hljs-number\"\u003e-30\u003c/span\u003e);\n      path.lineTo(size.width, \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e);\n\n      \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e path;\n\n    }\n    \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n      bool shouldReclip(\u003cspan class=\"hljs-type\"\u003eCustomClipper\u003c/span\u003e\u0026lt;\u003cspan class=\"hljs-type\"\u003ePath\u003c/span\u003e\u0026gt; oldClipper) {\n        \u003cspan class=\"hljs-comment\"\u003e// \u003cspan class=\"hljs-doctag\"\u003eTODO:\u003c/span\u003e implement shouldReclip\u003c/span\u003e\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e;\n      }\n\n}\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc262\" href=\"#toc262\" class=\"anchor-fix\"\u003e\u003ch2\u003e第16节: 波浪形式的贝塞尔曲线\u003c/h2\u003e\u003c/a\u003e\n\u003cp\u003e上节课已经对知识点有了了解，这节课我们主要就是加大一些难度，作个更复杂的贝塞尔裁切出来。\u003c/p\u003e\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=70409103\u0026page=16\" scrolling=\"no\" border=\"1\"  width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\u003cp\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo14.png\" alt=\"http://blogimages.jspang.com/FlutterDemo14.png\"\u003e\u003c/p\u003e\n\u003cp\u003e这节课主要改造上节课的代码，作一个波浪形的贝塞尔裁切。波浪形式的只要把裁切变成两个对称的贝塞尔曲线就可以实现了。代码如下：（具体方法视频）\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e BottomClipper extends CustomClipper\u0026lt;Path\u0026gt;{\n  @override\n    Path get\u003cspan class=\"hljs-constructor\"\u003eClip(Size \u003cspan class=\"hljs-params\"\u003esize\u003c/span\u003e)\u003c/span\u003e {\n      \u003cspan class=\"hljs-comment\"\u003e// \u003cspan class=\"hljs-doctag\"\u003eTODO:\u003c/span\u003e implement getClip\u003c/span\u003e\n      var path = \u003cspan class=\"hljs-constructor\"\u003ePath()\u003c/span\u003e;\n      path.line\u003cspan class=\"hljs-constructor\"\u003eTo(0, \u003cspan class=\"hljs-params\"\u003esize\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003eheight\u003c/span\u003e-20)\u003c/span\u003e;\n      var firstControlPoint =\u003cspan class=\"hljs-constructor\"\u003eOffset(\u003cspan class=\"hljs-params\"\u003esize\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003ewidth\u003c/span\u003e\u003cspan class=\"hljs-operator\"\u003e/\u003c/span\u003e4,\u003cspan class=\"hljs-params\"\u003esize\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003eheight\u003c/span\u003e)\u003c/span\u003e;\n      var firstEndPoint = \u003cspan class=\"hljs-constructor\"\u003eOffset(\u003cspan class=\"hljs-params\"\u003esize\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003ewidth\u003c/span\u003e\u003cspan class=\"hljs-operator\"\u003e/\u003c/span\u003e2.25,\u003cspan class=\"hljs-params\"\u003esize\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003eheight\u003c/span\u003e-30)\u003c/span\u003e;\n\n      path.quadratic\u003cspan class=\"hljs-constructor\"\u003eBezierTo(\u003cspan class=\"hljs-params\"\u003efirstControlPoint\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003edx\u003c/span\u003e, \u003cspan class=\"hljs-params\"\u003efirstControlPoint\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003edy\u003c/span\u003e, \u003cspan class=\"hljs-params\"\u003efirstEndPoint\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003edx\u003c/span\u003e, \u003cspan class=\"hljs-params\"\u003efirstEndPoint\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003edy\u003c/span\u003e)\u003c/span\u003e;\n\n      var secondControlPoint = \u003cspan class=\"hljs-constructor\"\u003eOffset(\u003cspan class=\"hljs-params\"\u003esize\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003ewidth\u003c/span\u003e\u003cspan class=\"hljs-operator\"\u003e/\u003c/span\u003e4\u003cspan class=\"hljs-operator\"\u003e*\u003c/span\u003e3,\u003cspan class=\"hljs-params\"\u003esize\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003eheight\u003c/span\u003e-80)\u003c/span\u003e;\n      var secondEndPoint = \u003cspan class=\"hljs-constructor\"\u003eOffset(\u003cspan class=\"hljs-params\"\u003esize\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003ewidth\u003c/span\u003e,\u003cspan class=\"hljs-params\"\u003esize\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003eheight\u003c/span\u003e-40)\u003c/span\u003e;\n\n      path.quadratic\u003cspan class=\"hljs-constructor\"\u003eBezierTo(\u003cspan class=\"hljs-params\"\u003esecondControlPoint\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003edx\u003c/span\u003e, \u003cspan class=\"hljs-params\"\u003esecondControlPoint\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003edy\u003c/span\u003e, \u003cspan class=\"hljs-params\"\u003esecondEndPoint\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003edx\u003c/span\u003e, \u003cspan class=\"hljs-params\"\u003esecondEndPoint\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003edy\u003c/span\u003e)\u003c/span\u003e;\n\n      path.line\u003cspan class=\"hljs-constructor\"\u003eTo(\u003cspan class=\"hljs-params\"\u003esize\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003ewidth\u003c/span\u003e, \u003cspan class=\"hljs-params\"\u003esize\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003eheight\u003c/span\u003e-40)\u003c/span\u003e;\n      path.line\u003cspan class=\"hljs-constructor\"\u003eTo(\u003cspan class=\"hljs-params\"\u003esize\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003ewidth\u003c/span\u003e, 0)\u003c/span\u003e;\n\n      return path;\n\n    }\n    @override\n      \u003cspan class=\"hljs-built_in\"\u003ebool\u003c/span\u003e should\u003cspan class=\"hljs-constructor\"\u003eReclip(CustomClipper\u0026lt;Path\u0026gt; \u003cspan class=\"hljs-params\"\u003eoldClipper\u003c/span\u003e)\u003c/span\u003e {\n        \u003cspan class=\"hljs-comment\"\u003e// \u003cspan class=\"hljs-doctag\"\u003eTODO:\u003c/span\u003e implement shouldReclip\u003c/span\u003e\n        return \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e;\n      }\n\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e这两节课的主要内容就是如何裁切和贝塞尔曲线的原理，其实裁切还有圆形裁切、圆角裁切和矩形裁切，因为都比较容易，我就不再讲解了。感兴趣的小伙伴可以自学一下。\u003c/p\u003e\n\u003ca id=\"toc263\" href=\"#toc263\" class=\"anchor-fix\"\u003e\u003ch2\u003e第17节：打开应用的闪屏动画案例\u003c/h2\u003e\u003c/a\u003e\n\u003cp\u003e打开一个APP，经常会看到精美的启动页，这种启动页也称为闪屏动画。它是从无到有有一个透明度的渐变动画的。图像展示完事后，才跳转到用户可操作的页面。这节课主要学习一下闪屏动画的制作。\u003c/p\u003e\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=70687456\u0026page=17\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\u003cp\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo15.gif\" alt=\"http://blogimages.jspang.com/FlutterDemo15.gif\"\u003e\u003c/p\u003e\n\u003ca id=\"toc364\" href=\"#toc364\" class=\"anchor-fix\"\u003e\u003ch3\u003eAnimationController\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e\u003ccode\u003eAnimationController\u003c/code\u003e是\u003ccode\u003eAnimation\u003c/code\u003e的一个子类，它可以控制\u003ccode\u003eAnimation\u003c/code\u003e, 也就是说它是来控制动画的，比如说控制动画的执行时间。\u003c/p\u003e\n\u003cp\u003e我们这里有了两个参数 ：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003evsync:this\u003c/code\u003e :垂直同步设置，使用this就可以了。 \u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eduration\u003c/code\u003e : 动画持续时间，这个可以使用\u003ccode\u003eseconds\u003c/code\u003e秒，也可以使用\u003ccode\u003emilliseconds\u003c/code\u003e毫秒，工作中经常使用毫秒，因为秒还是太粗糙了。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e来看一段代码，这段代码就是控制动画的一个典型应用。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e _controller = \u003cspan class=\"hljs-constructor\"\u003eAnimationController(\u003cspan class=\"hljs-params\"\u003evsync\u003c/span\u003e:\u003cspan class=\"hljs-params\"\u003ethis\u003c/span\u003e,\u003cspan class=\"hljs-params\"\u003eduration\u003c/span\u003e:Duration(\u003cspan class=\"hljs-params\"\u003emilliseconds\u003c/span\u003e:3000)\u003c/span\u003e);\n_animation = \u003cspan class=\"hljs-constructor\"\u003eTween(\u003cspan class=\"hljs-params\"\u003ebegin\u003c/span\u003e: 0.0,\u003cspan class=\"hljs-params\"\u003eend\u003c/span\u003e:1.0)\u003c/span\u003e.animate(_controller);\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e这段代码的意思是，设置一个动画控制器，这个动画控制器控制动画执行时间是3000毫秒。然后我们设置了一段动画，动画使用了动画控制器的约定。\u003c/p\u003e\n\u003ca id=\"toc365\" href=\"#toc365\" class=\"anchor-fix\"\u003e\u003ch3\u003eanimation.addStatusListener\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e\u003ccode\u003eanimation.addStatusListener\u003c/code\u003e动画事件监听器，它可以监听到动画的执行状态，我们这里只监听动画是否结束，如果结束则执行页面跳转动作。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e_animation.addStatusListener((status){\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e(status == AnimationStatus.completed){\n    Navigator.\u003cspan class=\"hljs-keyword\"\u003eof\u003c/span\u003e(context).pushAndRemoveUntil(\n      MaterialPageRoute(builder: \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003e(context)\u003c/span\u003e=\u0026gt;\u003c/span\u003eMyHomePage()), \n      \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003e(route)\u003c/span\u003e=\u0026gt;\u003c/span\u003e route==\u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e);\n  }\n});\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eAnimationStatus.completed\u003c/code\u003e:表示动画已经执行完毕。\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003epushAndRemoveUntil\u003c/code\u003e:跳转页面，并销毁当前控件。\u003c/li\u003e\n\u003c/ul\u003e\n\u003ca id=\"toc366\" href=\"#toc366\" class=\"anchor-fix\"\u003e\u003ch3\u003e案例重要代码\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e我们会了上边的知识点，做出案例就没什么问题了。我把复杂的代码都作了注释，小伙伴们应该可以看懂。\u003c/p\u003e\n\u003cp\u003emain.dart文件\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'splash_screen\u003c/span\u003e.dart';\n\nvoid main() =\u0026gt; runApp(\u003cspan class=\"hljs-type\"\u003eMyApp\u003c/span\u003e());\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eMyApp\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eMaterialApp\u003c/span\u003e(\n      title: \u003cspan class=\"hljs-symbol\"\u003e'Flutter\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eDemo\u003c/span\u003e',\n      theme: \u003cspan class=\"hljs-type\"\u003eThemeData\u003c/span\u003e(\n        primarySwatch:\u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.blue,\n      ),\n      home:\u003cspan class=\"hljs-type\"\u003eSplashScreen\u003c/span\u003e()\n    );\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003esplash_screen.dart文件\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'home_page\u003c/span\u003e.dart';\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eSplashScreen\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatefulWidget\u003c/span\u003e \u003c/span\u003e{\n  _SplashScreenState createState() =\u0026gt; _SplashScreenState();\n}\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003e_SplashScreenState\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eState\u0026lt;SplashScreen\u0026gt;\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eSingleTickerProviderStateMixin\u003c/span\u003e \u003c/span\u003e{\n\n  \u003cspan class=\"hljs-type\"\u003eAnimationController\u003c/span\u003e _controller;\n  \u003cspan class=\"hljs-type\"\u003eAnimation\u003c/span\u003e _animation;\n\n  void initState() { \n    \u003cspan class=\"hljs-keyword\"\u003esuper\u003c/span\u003e.initState();\n    _controller = \u003cspan class=\"hljs-type\"\u003eAnimationController\u003c/span\u003e(vsync:\u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e,duration:\u003cspan class=\"hljs-type\"\u003eDuration\u003c/span\u003e(milliseconds:\u003cspan class=\"hljs-number\"\u003e3000\u003c/span\u003e));\n    _animation = \u003cspan class=\"hljs-type\"\u003eTween\u003c/span\u003e(begin: \u003cspan class=\"hljs-number\"\u003e0.0\u003c/span\u003e,end:\u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e).animate(_controller);\n\n\n    \u003cspan class=\"hljs-comment\"\u003e/*动画事件监听器，\n    它可以监听到动画的执行状态，\n    我们这里只监听动画是否结束，\n    如果结束则执行页面跳转动作。 */\u003c/span\u003e\n    _animation.addStatusListener((status){\n      \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e(status == \u003cspan class=\"hljs-type\"\u003eAnimationStatus\u003c/span\u003e.completed){\n        \u003cspan class=\"hljs-type\"\u003eNavigator\u003c/span\u003e.of(context).pushAndRemoveUntil(\n          \u003cspan class=\"hljs-type\"\u003eMaterialPageRoute\u003c/span\u003e(builder: (context)=\u0026gt;\u003cspan class=\"hljs-type\"\u003eMyHomePage\u003c/span\u003e()), \n          (route)=\u0026gt; route==\u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e);\n      }\n    });\n    \u003cspan class=\"hljs-comment\"\u003e//播放动画\u003c/span\u003e\n    _controller.forward();\n  }\n\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  void dispose() {\n    _controller.dispose();\n    \u003cspan class=\"hljs-keyword\"\u003esuper\u003c/span\u003e.dispose();\n  }\n\n\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eFadeTransition\u003c/span\u003e( \u003cspan class=\"hljs-comment\"\u003e//透明度动画组件\u003c/span\u003e\n      opacity: _animation,  \u003cspan class=\"hljs-comment\"\u003e//执行动画\u003c/span\u003e\n      child: \u003cspan class=\"hljs-type\"\u003eImage\u003c/span\u003e.network(  \u003cspan class=\"hljs-comment\"\u003e//网络图片\u003c/span\u003e\n        \u003cspan class=\"hljs-symbol\"\u003e'https\u003c/span\u003e:\u003cspan class=\"hljs-comment\"\u003e//timgsa.baidu.com/timg?image\u0026amp;quality=80\u0026amp;size=b9999_10000\u0026amp;sec=1546851657199\u0026amp;di=fdd278c2029f7826790191d59279dbbe\u0026amp;imgtype=0\u0026amp;src=http%3A%2F%2Fimg.zcool.cn%2Fcommunity%2F0112cb554438090000019ae93094f1.jpg%401280w_1l_2o_100sh.jpg',\u003c/span\u003e\n        scale: \u003cspan class=\"hljs-number\"\u003e2.0\u003c/span\u003e,  \u003cspan class=\"hljs-comment\"\u003e//进行缩放\u003c/span\u003e\n        fit:\u003cspan class=\"hljs-type\"\u003eBoxFit\u003c/span\u003e.cover  \u003cspan class=\"hljs-comment\"\u003e// 充满父容器\u003c/span\u003e\n      ),\n    );\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003ehome_page.dart文件\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eMyHomePage\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n      appBar: \u003cspan class=\"hljs-type\"\u003eAppBar\u003c/span\u003e(title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e('首页')),\n      body:\u003cspan class=\"hljs-type\"\u003eCenter\u003c/span\u003e(\n        child: \u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e('我是首页')\n      )\n    );\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e希望小伙伴都能练习一下，做出这个动态图片的效果。\u003c/p\u003e\n\u003ca id=\"toc267\" href=\"#toc267\" class=\"anchor-fix\"\u003e\u003ch2\u003e第18节：右滑返回上一页案例\u003c/h2\u003e\u003c/a\u003e\n\u003cp\u003e在苹果手机上有一种才操作叫做右滑返回上一页，一些不错的应用都有类似的操作，随着苹果手机越来越多，这种操作开始普遍开来，在安卓手机上也开始使用。这节就来学习一下如何实现这种右滑返回上一页的操作。\u003c/p\u003e\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=70687456\u0026page=18\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\n\u003cp\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo16.gif\" alt=\"http://blogimages.jspang.com/FlutterDemo16.gif\"\u003e\u003c/p\u003e\n\u003ca id=\"toc368\" href=\"#toc368\" class=\"anchor-fix\"\u003e\u003ch3\u003eCupertino UI\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e其实早都知道Flutter有两套UI模板，一套是\u003ccode\u003ematerial\u003c/code\u003e,另一套就是\u003ccode\u003eCupertino\u003c/code\u003e。\u003ccode\u003eCupertino\u003c/code\u003e主要针对的的就是IOS系统的UI，所以用的右滑返回上一级就是在这个\u003ccode\u003eCupertino\u003c/code\u003e里。\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eCupertino的引入方法\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e直接使用import引入就可以了，代码如下:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-meta\"\u003e\u003cspan class=\"hljs-meta-keyword\"\u003eimport\u003c/span\u003e 'package:flutter/cupertino.dart';\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e引入了\u003ccode\u003ecupertino\u003c/code\u003e的包之后，就可以使用皮肤和交互效果的特性了。要用的右滑返回上一页也是皮肤的交互特性，直接使用就可以了。\u003c/p\u003e\n\u003ca id=\"toc369\" href=\"#toc369\" class=\"anchor-fix\"\u003e\u003ch3\u003eCupertinoPageScaffold\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e这个和以前使用\u003ccode\u003ematerial\u003c/code\u003e的\u003ccode\u003eScaffold\u003c/code\u003e类似，不过他里边的参数是\u003ccode\u003echild\u003c/code\u003e，例如下面的代码.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ereturn CupertinoPageScaffold(\n  \u003cspan class=\"hljs-name\"\u003echild\u003c/span\u003e: Center(\n    \u003cspan class=\"hljs-name\"\u003echild\u003c/span\u003e: Container(\n      \u003cspan class=\"hljs-name\"\u003eheight\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e100.0\u003c/span\u003e,\n      width:\u003cspan class=\"hljs-number\"\u003e100.0\u003c/span\u003e,\n      color: CupertinoColors.activeBlue,\n      child: CupertinoButton(\n        \u003cspan class=\"hljs-name\"\u003echild\u003c/span\u003e: Icon(\u003cspan class=\"hljs-name\"\u003eCupertinoIcons\u003c/span\u003e.add),\n        onPressed: (){\n          Navigator.of(\u003cspan class=\"hljs-name\"\u003econtext\u003c/span\u003e).push(\n            \u003cspan class=\"hljs-name\"\u003eCupertinoPageRoute\u003c/span\u003e(\u003cspan class=\"hljs-name\"\u003ebuilder\u003c/span\u003e: (\u003cspan class=\"hljs-name\"\u003eBuildContext\u003c/span\u003e context){\n              return RightBackDemo()\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\n            })\n          )\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\n        },\n      ),\n    ),\n  ),\n)\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e在\u003ccode\u003eCupertino\u003c/code\u003e下也有很多\u003ccode\u003eWidget\u003c/code\u003e控件，他们都是以\u003ccode\u003eCupertino\u003c/code\u003e开头的，这就让我们很好区分，当然两种皮肤是可以进行混用的。\u003c/p\u003e\n\u003ca id=\"toc370\" href=\"#toc370\" class=\"anchor-fix\"\u003e\u003ch3\u003e整个案例代码\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e这个案例就两个主要文件，\u003ccode\u003emain.dart\u003c/code\u003e和\u003ccode\u003eright_back_demo.dart\u003c/code\u003e，具体解释可以看视频，代码如下:\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003emain.dart文件代码\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'right_back_demo\u003c/span\u003e.dart';\n\nvoid main()=\u0026gt;runApp(\u003cspan class=\"hljs-type\"\u003eMyApp\u003c/span\u003e());\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eMyApp\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eMaterialApp\u003c/span\u003e(\n      title:\u003cspan class=\"hljs-symbol\"\u003e'Flutter\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eDemo\u003c/span\u003e',\n      theme:\u003cspan class=\"hljs-type\"\u003eThemeData\u003c/span\u003e(primarySwatch: \u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.blue),\n      home: \u003cspan class=\"hljs-type\"\u003eRightBackDemo\u003c/span\u003e(),\n    );\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cstrong\u003eright_back_demo。dart文件\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/cupertino.dart'; \n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eRightBackDemo\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eCupertinoPageScaffold\u003c/span\u003e(\n      child: \u003cspan class=\"hljs-type\"\u003eCenter\u003c/span\u003e(\n        child: \u003cspan class=\"hljs-type\"\u003eContainer\u003c/span\u003e(\n          height: \u003cspan class=\"hljs-number\"\u003e100.0\u003c/span\u003e,\n          width:\u003cspan class=\"hljs-number\"\u003e100.0\u003c/span\u003e,\n          color: \u003cspan class=\"hljs-type\"\u003eCupertinoColors\u003c/span\u003e.activeBlue,\n          child: \u003cspan class=\"hljs-type\"\u003eCupertinoButton\u003c/span\u003e(\n            child: \u003cspan class=\"hljs-type\"\u003eIcon\u003c/span\u003e(\u003cspan class=\"hljs-type\"\u003eCupertinoIcons\u003c/span\u003e.add),\n            onPressed: (){\n              \u003cspan class=\"hljs-type\"\u003eNavigator\u003c/span\u003e.of(context).push(\n                \u003cspan class=\"hljs-type\"\u003eCupertinoPageRoute\u003c/span\u003e(builder: (\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context){\n                  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eRightBackDemo\u003c/span\u003e();\n                })\n              );\n            },\n          ),\n        ),\n      ),\n    );\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e其实只要使用\u003ccode\u003eCupertinoPageRoute\u003c/code\u003e打开的子页面，就可以实现右滑返回上一级。所以整个案例并不难。希望小伙伴们有所收获。\u003c/p\u003e\n\u003ca id=\"toc271\" href=\"#toc271\" class=\"anchor-fix\"\u003e\u003ch2\u003e第19节：ToolTip控件实例\u003c/h2\u003e\u003c/a\u003e\n\u003cp\u003e轻提示的效果在应用中式少不了的，其实Flutter已经准备好了轻提示控件，这就是\u003ccode\u003etoolTip\u003c/code\u003e。 \u003c/p\u003e\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=70687456\u0026page=19\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\n\u003cp\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo17.gif\" alt=\"http://blogimages.jspang.com/FlutterDemo17.gif\"\u003e\u003c/p\u003e\n\u003ca id=\"toc372\" href=\"#toc372\" class=\"anchor-fix\"\u003e\u003ch3\u003e轻量级操作提示\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e其实Flutter中有很多提示控件,比如\u003ccode\u003eDialog\u003c/code\u003e、\u003ccode\u003eSnackbar\u003c/code\u003e和\u003ccode\u003eBottomSheet\u003c/code\u003e这些操作都是比较重量级的，存在屏幕上的时间较长或者会直接打断用户的操作。\u003c/p\u003e\n\u003cp\u003e当然我并不是说这些控件不好，根据需求的不同，要有多种选择，所以才会给大家讲一下轻量级操作提示\u003ccode\u003eTooltip\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eTooltip\u003c/code\u003e是继承于\u003ccode\u003eStatefulWidget\u003c/code\u003e的一个Widget，它并不需要调出方法，当用户长按被\u003ccode\u003eTooltip\u003c/code\u003e包裹的Widget时，会自动弹出相应的操作提示。\u003c/p\u003e\n\u003ca id=\"toc373\" href=\"#toc373\" class=\"anchor-fix\"\u003e\u003ch3\u003emain.dart文件\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e这节课就用最简单代码给大家做一个轻量级提示案例出来。入口文件代码如下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'tool_tips_demo\u003c/span\u003e.dart';\n\nvoid main()=\u0026gt; runApp(\u003cspan class=\"hljs-type\"\u003eMyApp\u003c/span\u003e());\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eMyApp\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eMaterialApp\u003c/span\u003e(\n      title:\u003cspan class=\"hljs-symbol\"\u003e'Flutter\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eDemo\u003c/span\u003e',\n      theme:\u003cspan class=\"hljs-type\"\u003eThemeData\u003c/span\u003e.light(),\n      home: \u003cspan class=\"hljs-type\"\u003eToolTipDemo\u003c/span\u003e(),\n    );\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc374\" href=\"#toc374\" class=\"anchor-fix\"\u003e\u003ch3\u003etool_tips_demo.dart文件\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e这个文件主要的用途就是承载轻提示控件，代码如下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eToolTipDemo\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n      appBar: \u003cspan class=\"hljs-type\"\u003eAppBar\u003c/span\u003e(title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\u003cspan class=\"hljs-symbol\"\u003e'tool\u003c/span\u003e tips demo')),\n      body:\u003cspan class=\"hljs-type\"\u003eCenter\u003c/span\u003e(\n        child: \u003cspan class=\"hljs-type\"\u003eTooltip\u003c/span\u003e(\n          message: '不要碰我，我怕痒',\n          child: \u003cspan class=\"hljs-type\"\u003eIcon\u003c/span\u003e(\u003cspan class=\"hljs-type\"\u003eIcons\u003c/span\u003e.all_inclusive),\n        ),\n      )\n    );\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc275\" href=\"#toc275\" class=\"anchor-fix\"\u003e\u003ch2\u003e20节Draggable控件实例\u003c/h2\u003e\u003c/a\u003e\n\u003cp\u003eFlutter提供了强大的拖拽控件，可以灵活定制，并且非常简单。这节课就学习一下Flutter拖拽控件，并根据学到的知识作一个拖拽案例。\u003c/p\u003e\n\u003cp\u003e这节课也是我们这个文章的最后一节，一共讲了20节，这20节算是一个Flutter进阶，是入门和实战的一个桥梁，在课程中我尽量靠近了平时工作的开发环境，无论hi编辑工具还是区分模块，都以实际工作为出发点，我相信只要你用心学习了这20节，一定是有所收获的。\u003c/p\u003e\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=39709290\u0026cid=71559162\u0026page=20\" scrolling=\"no\" border=\"1\" width=\"100%\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\u003cp\u003e\u003cimg src=\"http://blogimages.jspang.com/FlutterDemo18.gif\" alt=\"http://blogimages.jspang.com/FlutterDemo18.gif\"\u003e\u003c/p\u003e\n\u003ca id=\"toc376\" href=\"#toc376\" class=\"anchor-fix\"\u003e\u003ch3\u003eDraggable Widget\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e\u003ccode\u003eDraggable\u003c/code\u003e控件负责就是拖拽，父层使用了\u003ccode\u003eDraggable\u003c/code\u003e，它的子元素就是可以拖动的，子元素可以实容器，可以是图片。用起来非常的灵活。\u003c/p\u003e\n\u003cp\u003e参数说明：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edata\u003c/code\u003e: 是要传递的参数，在\u003ccode\u003eDragTarget\u003c/code\u003e里，会接受到这个参数。当然要在拖拽控件推拽到\u003ccode\u003eDragTarget\u003c/code\u003e的时候。\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003echild\u003c/code\u003e:在这里放置你要推拽的元素，可以是容器，也可以是图片和文字。\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003efeedback\u003c/code\u003e: 常用于设置推拽元素时的样子，在案例中当推拽的时候，我们把它的颜色透明度变成了50%。当然你还可以改变它的大小。\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eonDraggableCanceled\u003c/code\u003e:是当松开时的相应事件，经常用来改变推拽时到达的位置，改变时用\u003ccode\u003esetState\u003c/code\u003e来进行。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e代码:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eDraggable(\n  \u003cspan class=\"hljs-name\"\u003edata\u003c/span\u003e\u003cspan class=\"hljs-symbol\"\u003e:widget\u003c/span\u003e.widgetColor,\n  child: Container(\n    \u003cspan class=\"hljs-name\"\u003ewidth\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e,\n    height: \u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e,\n    color\u003cspan class=\"hljs-symbol\"\u003e:widget\u003c/span\u003e.widgetColor,\n  ),\n  feedback\u003cspan class=\"hljs-symbol\"\u003e:Container\u003c/span\u003e(\n    \u003cspan class=\"hljs-name\"\u003ewidth\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e100.0\u003c/span\u003e,\n    height: \u003cspan class=\"hljs-number\"\u003e100.0\u003c/span\u003e,\n    color: widget.widgetColor.withOpacity(\u003cspan class=\"hljs-number\"\u003e0.5\u003c/span\u003e),\n  ),\n  onDraggableCanceled: (\u003cspan class=\"hljs-name\"\u003eVelocity\u003c/span\u003e velocity, Offset offset){\n    setState(() {\n      this.offset = offset\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\n    })\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\n  },\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc377\" href=\"#toc377\" class=\"anchor-fix\"\u003e\u003ch3\u003eDragTarget Widget\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e\u003ccode\u003eDragTarget\u003c/code\u003e是用来接收拖拽事件的控件，当把\u003ccode\u003eDraggable\u003c/code\u003e放到\u003ccode\u003eDragTarget\u003c/code\u003e里时，他会接收\u003ccode\u003eDraggable\u003c/code\u003e传递过来的值，然后用生成器改变组件状态。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eonAccept:当推拽到控件里时触发，经常在这里得到传递过来的值。\u003c/li\u003e\n\u003cli\u003ebuilder: 构造器，里边进行修改child值。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003eDragTarget(onAccept: (Color \u003cspan class=\"hljs-built_in\"\u003ecolor\u003c/span\u003e) {\n  _draggableColor = \u003cspan class=\"hljs-built_in\"\u003ecolor\u003c/span\u003e;\n}, builder: (\u003cspan class=\"hljs-built_in\"\u003econtext\u003c/span\u003e, candidateData, rejectedData) {\n  \u003cspan class=\"hljs-built_in\"\u003ereturn\u003c/span\u003e Container(\n    \u003cspan class=\"hljs-built_in\"\u003ewidth\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e200.0\u003c/span\u003e,\n    \u003cspan class=\"hljs-built_in\"\u003eheight\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e200.0\u003c/span\u003e,\n    \u003cspan class=\"hljs-built_in\"\u003ecolor\u003c/span\u003e: _draggableColor,\n  );\n}),\n\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc378\" href=\"#toc378\" class=\"anchor-fix\"\u003e\u003ch3\u003e实例代码DEMO\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003emain.dart 文件：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'draggable_demo\u003c/span\u003e.dart';\n\nvoid main() =\u0026gt; runApp(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eMyApp\u003c/span\u003e());\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eMyApp\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eMaterialApp\u003c/span\u003e(\n      title:\u003cspan class=\"hljs-symbol\"\u003e'Flutter\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eDemo\u003c/span\u003e',\n      theme:\u003cspan class=\"hljs-type\"\u003eThemeData\u003c/span\u003e(\n        primarySwatch: \u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.blue\n      ),\n      home:\u003cspan class=\"hljs-type\"\u003eDraggableDemo\u003c/span\u003e()\n    );\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003edraggable_demo.dart 文件\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'draggable_widget\u003c/span\u003e.dart';\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eDraggableDemo\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatefulWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  _DraggableDemoState createState() =\u0026gt; _DraggableDemoState();\n}\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003e_DraggableDemoState\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eState\u0026lt;DraggableDemo\u0026gt;\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-type\"\u003eColor\u003c/span\u003e _draggableColor = \u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.grey;\n\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n        body: \u003cspan class=\"hljs-type\"\u003eStack\u003c/span\u003e(\n      children: \u0026lt;\u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e\u0026gt;[\n        \u003cspan class=\"hljs-type\"\u003eDraggableWidget\u003c/span\u003e(\n          offset: \u003cspan class=\"hljs-type\"\u003eOffset\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e80.0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e80.0\u003c/span\u003e),\n          widgetColor: \u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.tealAccent,\n        ),\n        \u003cspan class=\"hljs-type\"\u003eDraggableWidget\u003c/span\u003e(\n          offset: \u003cspan class=\"hljs-type\"\u003eOffset\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e180.0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e80.0\u003c/span\u003e),\n          widgetColor: \u003cspan class=\"hljs-type\"\u003eColors\u003c/span\u003e.redAccent,\n        ),\n        \u003cspan class=\"hljs-type\"\u003eCenter\u003c/span\u003e(\n          child: \u003cspan class=\"hljs-type\"\u003eDragTarget\u003c/span\u003e(onAccept: (\u003cspan class=\"hljs-type\"\u003eColor\u003c/span\u003e color) {\n            _draggableColor = color;\n          }, builder: (context, candidateData, rejectedData) {\n            \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eContainer\u003c/span\u003e(\n              width: \u003cspan class=\"hljs-number\"\u003e200.0\u003c/span\u003e,\n              height: \u003cspan class=\"hljs-number\"\u003e200.0\u003c/span\u003e,\n              color: _draggableColor,\n            );\n          }),\n        )\n      ],\n    ));\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003edraggable_widget.dart 文件\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eDraggableWidget\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatefulWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eOffset\u003c/span\u003e offset;\n  \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eColor\u003c/span\u003e widgetColor;\n  const \u003cspan class=\"hljs-type\"\u003eDraggableWidget\u003c/span\u003e({\u003cspan class=\"hljs-type\"\u003eKey\u003c/span\u003e key, \u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e.offset, \u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e.widgetColor}):\u003cspan class=\"hljs-keyword\"\u003esuper\u003c/span\u003e(key:key);\n  _DraggableWidgetState createState() =\u0026gt; _DraggableWidgetState();\n}\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003e_DraggableWidgetState\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eState\u0026lt;DraggableWidget\u0026gt;\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-type\"\u003eOffset\u003c/span\u003e offset = \u003cspan class=\"hljs-type\"\u003eOffset\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e0.0\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e0.0\u003c/span\u003e);\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  void initState() {\n    \u003cspan class=\"hljs-keyword\"\u003esuper\u003c/span\u003e.initState();\n    offset = widget.offset;\n  }\n\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n   \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003ePositioned\u003c/span\u003e(\n     left: offset.dx,\n     top:offset.dy,\n     child: \u003cspan class=\"hljs-type\"\u003eDraggable\u003c/span\u003e(\n       data:widget.widgetColor,\n       child: \u003cspan class=\"hljs-type\"\u003eContainer\u003c/span\u003e(\n         width: \u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e,\n         height: \u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e,\n         color:widget.widgetColor,\n       ),\n       feedback:\u003cspan class=\"hljs-type\"\u003eContainer\u003c/span\u003e(\n         width: \u003cspan class=\"hljs-number\"\u003e100.0\u003c/span\u003e,\n         height: \u003cspan class=\"hljs-number\"\u003e100.0\u003c/span\u003e,\n         color: widget.widgetColor.withOpacity(\u003cspan class=\"hljs-number\"\u003e0.5\u003c/span\u003e),\n       ),\n       onDraggableCanceled: (\u003cspan class=\"hljs-type\"\u003eVelocity\u003c/span\u003e velocity, \u003cspan class=\"hljs-type\"\u003eOffset\u003c/span\u003e offset){\n         setState(() {\n            \u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e.offset = offset;\n         });\n       },\n     ),\n   );\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e这个案例做完，我们这篇文章就算结束了，我也希望你能有所收获。但是看一遍肯定什么都学不会，关键的是自己动手作一下，才可以有所收获。我在文章和课程中反复强调，希望小伙伴们真的能学会。\u003c/p\u003e\n","introduce_html":"\u003cp\u003e这篇文章是Flutter基础的一个进阶教程，主要讲解的是在工作中一些常用的功能。学完这篇文章和视频，你可以轻松制作出80%以上工作中常用的Flutter复杂效果，对Flutter有更深刻的了解。\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e本文是实战和基础的一个衔接总结。\u003c/strong\u003e 在学完基础后，很多小伙伴都急于上手一个实战项目，觉的做完实战项目就算学会了Flutter，达到了工作水平一样。其实在实战和基础之间还需要有一个过度，人们喜欢称之为进阶。那这篇文章或者说视频就是进阶教程，它会以小实例的方式进行讲解。实例也会达到20个以上，每个小实例就是一个小的实战。\u003c/p\u003e\n\u003cp\u003e** 学习这篇文章最重要的是，你必须在看完视频后动手练习，否则很难学会。**\u003c/p\u003e\n","addTime":"2019-12-04","isComment":0,"typeName":"视频教程","token":"85430161619822530"}},"page":"/detailed","query":{"id":"45"},"buildId":"ZBa53f-0zs07rCwgvb6fC"}</script><script async="" data-next-page="/detailed" src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/detailed.js.下载"></script><script async="" data-next-page="/_app" src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/_app.js.下载"></script><script src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/webpack-4b444dab214c6491079c.js.下载" async=""></script><script src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/commons.1998eae7902fdd1a553b.js.下载" async=""></script><script src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/styles.ced8d62e68907a5fab6e.js.下载" async=""></script><script src="./技术胖-20个Flutter实例视频教程 让你轻松上手工作_files/main-6e6e334c1a3c61df2d4f.js.下载" async=""></script></body></html>